"use strict";var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var dbpromise=void 0,DBHelper=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"openDatabase",value:function(){return idb.open("restaurantDb",1,function(e){e.createObjectStore("restaurantDb",{keyPath:"id"})})}},{key:"saveDatabase",value:function(r){return n.openDatabase().then(function(e){if(e){var t=e.transaction("restaurantDb","readwrite"),n=t.objectStore("restaurantDb");return r.forEach(function(e){n.put(e)}),t.complete}})}},{key:"getCachedDb",value:function(){return(dbpromise=n.openDatabase()).then(function(e){if(e)return e.transaction("restaurantDb").objectStore("restaurantDb").getAll()})}},{key:"fromApi",value:function(){return fetch(n.DATABASE_URL).then(function(e){return e.json()}).then(function(e){return n.saveDatabase(e),e})}},{key:"fetchRestaurants",value:function(t){return n.getCachedDb().then(function(e){return e.length?Promise.resolve(e):n.fromApi()}).then(function(e){t(null,e)}).catch(function(e){t(e,null)})}},{key:"fetchRestaurantById",value:function(r,a){n.fetchRestaurants(function(e,t){if(e)a(e,null);else{var n=t.find(function(e){return e.id==r});n?a(null,n):a("Restaurant does not exist",null)}})}},{key:"fetchRestaurantByCuisine",value:function(r,a){n.fetchRestaurants(function(e,t){if(e)a(e,null);else{var n=t.filter(function(e){return e.cuisine_type==r});a(null,n)}})}},{key:"fetchRestaurantByNeighborhood",value:function(r,a){n.fetchRestaurants(function(e,t){if(e)a(e,null);else{var n=t.filter(function(e){return e.neighborhood==r});a(null,n)}})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(r,a,i){n.fetchRestaurants(function(e,t){if(e)i(e,null);else{var n=t;"all"!=r&&(n=n.filter(function(e){return e.cuisine_type==r})),"all"!=a&&(n=n.filter(function(e){return e.neighborhood==a})),i(null,n)}})}},{key:"fetchNeighborhoods",value:function(a){n.fetchRestaurants(function(e,n){if(e)a(e,null);else{var r=n.map(function(e,t){return n[t].neighborhood}),t=r.filter(function(e,t){return r.indexOf(e)==t});a(null,t)}})}},{key:"fetchCuisines",value:function(a){n.fetchRestaurants(function(e,n){if(e)a(e,null);else{var r=n.map(function(e,t){return n[t].cuisine_type}),t=r.filter(function(e,t){return r.indexOf(e)==t});a(null,t)}})}},{key:"urlForRestaurant",value:function(e){return"./restaurant.html?id="+e.id}},{key:"imageUrlForRestaurant",value:function(e){return"/dist/img/"+e.photograph+".jpg"}},{key:"mapMarkerForRestaurant",value:function(e,t){return new google.maps.Marker({position:e.latlng,title:e.name,url:n.urlForRestaurant(e),map:t,animation:google.maps.Animation.DROP})}},{key:"DATABASE_URL",get:function(){return"http://localhost:1337/restaurants"}}]),n}(),restaurants=void 0,neighborhoods=void 0,cuisines=void 0,markers=[];document.addEventListener("DOMContentLoaded",function(){fetchNeighborhoods(),fetchCuisines()}),fetchNeighborhoods=function(){DBHelper.fetchNeighborhoods(function(e,t){null!=e?console.error(e):(self.neighborhoods=t,fillNeighborhoodsHTML())})},fillNeighborhoodsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.neighborhoods,n=document.getElementById("neighborhoods-select");e.forEach(function(e){var t=document.createElement("option");t.innerHTML=e,t.value=e,t.setAttribute("aria-label",e),t.setAttribute("role","option"),n.append(t)})},fetchCuisines=function(){DBHelper.fetchCuisines(function(e,t){e?console.error(e):(self.cuisines=t,fillCuisinesHTML())})},fillCuisinesHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.cuisines,n=document.getElementById("cuisines-select");e.forEach(function(e){var t=document.createElement("option");t.innerHTML=e,t.value=e,t.setAttribute("aria-label",e),t.setAttribute("role","option"),n.append(t)})},window.initMap=function(){self.map=new google.maps.Map(document.getElementById("map"),{zoom:12,center:{lat:40.722216,lng:-73.987501},scrollwheel:!1}),updateRestaurants()},updateRestaurants=function(){var e=document.getElementById("cuisines-select"),t=document.getElementById("neighborhoods-select"),n=e.selectedIndex,r=t.selectedIndex,a=e[n].value,i=t[r].value;DBHelper.fetchRestaurantByCuisineAndNeighborhood(a,i,function(e,t){e?console.error(e):(resetRestaurants(t),fillRestaurantsHTML())})},resetRestaurants=function(e){self.restaurants=[],document.getElementById("restaurants-list").innerHTML="",self.markers.forEach(function(e){return e.setMap(null)}),self.markers=[],self.restaurants=e},fillRestaurantsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurants,t=document.getElementById("restaurants-list");e.forEach(function(e){t.append(createRestaurantHTML(e))}),addMarkersToMap()},createRestaurantHTML=function(e){var t=document.createElement("li");t.setAttribute("role","listitem"),t.setAttribute("tabindex","0");var n=document.createElement("img");n.className="restaurant-img";var r=[DBHelper.imageUrlForRestaurant(e,"small"),DBHelper.imageUrlForRestaurant(e,"medium"),DBHelper.imageUrlForRestaurant(e,"large")];n.src=""+r[1],n.srcset=r[0]+" 620w, "+r[1]+" 800w, "+r[2]+" 1440w",n.setAttribute("role","img");var a=document.createElement("h2");a.innerHTML=e.name,n.setAttribute("aria-label",a.innerHTML+" restaurant"),n.setAttribute("alt",a.innerHTML+" restaurant"),t.append(n),t.append(a);var i=document.createElement("p");i.innerHTML=e.neighborhood,t.append(i);var s=document.createElement("p");s.innerHTML=e.address,t.append(s);var o=document.createElement("a");return o.innerHTML="View Details",o.setAttribute("role","link"),o.href=DBHelper.urlForRestaurant(e),t.append(o),t},addMarkersToMap=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurants).forEach(function(e){var t=DBHelper.mapMarkerForRestaurant(e,self.map);google.maps.event.addListener(t,"click",function(){window.location.href=t.url}),self.markers.push(t)})};var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t,a,n,r,i,s,o,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(a=document.createElement("source"),n=function(e){var t,n,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=a.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,n=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=n}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)n(t[e])},i=function(){clearTimeout(t),t=setTimeout(r,99)},s=e.matchMedia&&matchMedia("(orientation: landscape)"),o=function(){i(),s&&s.addListener&&s.addListener(i)},a.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?o():document.addEventListener("DOMContentLoaded",o),i))}(window),function(e,i,c){function l(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function M(e,t){return e.res-t.res}function T(e,t){var n,r,a;if(e&&t)for(a=H.parseSet(t),e=H.makeUrl(e),n=0;n<a.length;n++)if(e===H.makeUrl(a[n].url)){r=a[n];break}return r}i.createElement("picture");var a,f,u,r,s,n,o,d,m,p,t,h,g,v,A,b,y,w,E,R,L,C,H={},B=!1,S=function(){},x=i.createElement("img"),k=x.getAttribute,D=x.setAttribute,I=x.removeAttribute,z=i.documentElement,N={},P={algorithm:""},U="data-pfsrc",F=U+"set",_=navigator.userAgent,$=/rident/.test(_)||/ecko/.test(_)&&_.match(/rv\:(\d+)/)&&35<RegExp.$1,O="currentSrc",W=/\s+\+?\d+(e\d+)?w/,j=/(\([^)]+\))?\s*(.+)/,Q=e.picturefillCFG,G="font-size:100%!important;",q=!0,V={},K={},J=e.devicePixelRatio,X={px:1,in:96},Y=i.createElement("a"),Z=!1,ee=/^[ \t\n\r\u000c]+/,te=/^[, \t\n\r\u000c]+/,ne=/^[^ \t\n\r\u000c]+/,re=/[,]+$/,ae=/^\d+$/,ie=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,se=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},oe=function(t){var n={};return function(e){return e in n||(n[e]=t(e)),n[e]}},ue=(r=/^([\d\.]+)(em|vw|px)$/,s=oe(function(e){return"return "+function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var n;if(!(e in V))if(V[e]=!1,t&&(n=e.match(r)))V[e]=n[1]*X[n[2]];else try{V[e]=new Function("e",s(e))(X)}catch(e){}return V[e]}),ce=function(e,t){return e.w?(e.cWidth=H.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},le=function(e){if(B){var t,n,r,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),r=(t=a.elements||H.qsa(a.context||i,a.reevaluate||a.reselect?H.sel:H.selShort)).length){for(H.setupRun(a),Z=!0,n=0;n<r;n++)H.fillImg(t[n],a);H.teardownRun(a)}}};e.console&&console.warn,O in x||(O="src"),N["image/jpeg"]=!0,N["image/gif"]=!0,N["image/png"]=!0,N["image/svg+xml"]=i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),H.ns=("pf"+(new Date).getTime()).substr(0,9),H.supSrcset="srcset"in x,H.supSizes="sizes"in x,H.supPicture=!!e.HTMLPictureElement,H.supSrcset&&H.supPicture&&!H.supSizes&&(E=i.createElement("img"),x.srcset="data:,a",E.src="data:,a",H.supSrcset=x.complete===E.complete,H.supPicture=H.supSrcset&&H.supPicture),H.supSrcset&&!H.supSizes?(b="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",y=i.createElement("img"),w=function(){2===y.width&&(H.supSizes=!0),f=H.supSrcset&&!H.supSizes,B=!0,setTimeout(le)},y.onload=w,y.onerror=w,y.setAttribute("sizes","9px"),y.srcset=b+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",y.src=b):B=!0,H.selShort="picture>img,img[srcset]",H.sel=H.selShort,H.cfg=P,H.DPR=J||1,H.u=X,H.types=N,H.setSize=S,H.makeUrl=oe(function(e){return Y.href=e,Y.href}),H.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},H.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?H.matchesMedia=function(e){return!e||matchMedia(e).matches}:H.matchesMedia=H.mMQ,H.matchesMedia.apply(this,arguments)},H.mMQ=function(e){return!e||ue(e)},H.calcLength=function(e){var t=ue(e,!0)||!1;return t<0&&(t=!1),t},H.supportsType=function(e){return!e||N[e]},H.parseSize=oe(function(e){var t=(e||"").match(j);return{media:t&&t[1],length:t&&t[2]}}),H.parseSet=function(e){return e.cands||(e.cands=function(r,f){function e(e){var t,n=e.exec(r.substring(u));return n?(t=n[0],u+=t.length,t):void 0}function t(){var e,t,n,r,a,i,s,o,u,c=!1,l={};for(r=0;r<m.length;r++)i=(a=m[r])[a.length-1],s=a.substring(0,a.length-1),o=parseInt(s,10),u=parseFloat(s),ae.test(s)&&"w"===i?((e||t)&&(c=!0),0===o?c=!0:e=o):ie.test(s)&&"x"===i?((e||t||n)&&(c=!0),u<0?c=!0:t=u):ae.test(s)&&"h"===i?((n||t)&&(c=!0),0===o?c=!0:n=o):c=!0;c||(l.url=d,e&&(l.w=e),t&&(l.d=t),n&&(l.h=n),n||t||e||(l.d=1),1===l.d&&(f.has1x=!0),l.set=f,p.push(l))}function n(){for(e(ee),a="",i="in descriptor";;){if(s=r.charAt(u),"in descriptor"===i)if(l(s))a&&(m.push(a),a="",i="after descriptor");else{if(","===s)return u+=1,a&&m.push(a),void t();if("("===s)a+=s,i="in parens";else{if(""===s)return a&&m.push(a),void t();a+=s}}else if("in parens"===i)if(")"===s)a+=s,i="in descriptor";else{if(""===s)return m.push(a),void t();a+=s}else if("after descriptor"===i)if(l(s));else{if(""===s)return void t();i="in descriptor",u-=1}u+=1}}for(var d,m,a,i,s,o=r.length,u=0,p=[];;){if(e(te),o<=u)return p;d=e(ne),m=[],","===d.slice(-1)?(d=d.replace(re,""),t()):n()}}(e.srcset,e)),e.cands},H.getEmValue=function(){var e;if(!a&&(e=i.body)){var t=i.createElement("div"),n=z.style.cssText,r=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",z.style.cssText=G,e.style.cssText=G,e.appendChild(t),a=t.offsetWidth,e.removeChild(t),a=parseFloat(a,10),z.style.cssText=n,e.style.cssText=r}return a||16},H.calcListLength=function(e){if(!(e in K)||P.uT){var t=H.calcLength(function(e){var t,n,r,a,i,s,o,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(n=function(e){function t(){a&&(i.push(a),a="")}function n(){i[0]&&(s.push(i),i=[])}for(var r,a="",i=[],s=[],o=0,u=0,c=!1;;){if(""===(r=e.charAt(u)))return t(),n(),s;if(c){if("*"===r&&"/"===e[u+1]){c=!1,u+=2,t();continue}u+=1}else{if(l(r)){if(e.charAt(u-1)&&l(e.charAt(u-1))||!a){u+=1;continue}if(0===o){t(),u+=1;continue}r=" "}else if("("===r)o+=1;else if(")"===r)o-=1;else{if(","===r){t(),n(),u+=1;continue}if("/"===r&&"*"===e.charAt(u+1)){c=!0,u+=2;continue}}a+=r,u+=1}}}(e)).length,t=0;t<r;t++)if(i=(a=n[t])[a.length-1],o=i,u.test(o)&&0<=parseFloat(o)||c.test(o)||"0"===o||"-0"===o||"+0"===o){if(s=i,a.pop(),0===a.length)return s;if(a=a.join(" "),H.matchesMedia(a))return s}return"100vw"}(e));K[e]=t||X.width}return K[e]},H.setRes=function(e){var t;if(e)for(var n=0,r=(t=H.parseSet(e)).length;n<r;n++)ce(t[n],e.sizes);return t},H.setRes.res=ce,H.applySetCandidate=function(e,t){if(e.length){var n,r,a,i,s,o,u,c,l,f=t[H.ns],d=H.DPR;if(o=f.curSrc||t[O],(u=f.curCan||(y=t,w=o,!(E=e[0].set)&&w&&(E=(E=y[H.ns].sets)&&E[E.length-1]),(R=T(w,E))&&(w=H.makeUrl(w),y[H.ns].curSrc=w,(y[H.ns].curCan=R).res||ce(R,R.set.sizes)),R))&&u.set===e[0].set&&((l=$&&!t.complete&&u.res-.1>d)||(u.cached=!0,u.res>=d&&(s=u))),!s)for(e.sort(M),s=e[(i=e.length)-1],r=0;r<i;r++)if((n=e[r]).res>=d){s=e[a=r-1]&&(l||o!==H.makeUrl(n.url))&&(m=e[a].res,p=n.res,h=d,g=e[a].cached,b=A=v=void 0,"saveData"===P.algorithm?2.7<m?b=h+1:(A=(p-h)*(v=Math.pow(m-.6,1.5)),g&&(A+=.1*v),b=m+A):b=1<h?Math.sqrt(m*p):m,h<b)?e[a]:n;break}s&&(c=H.makeUrl(s.url),f.curSrc=c,f.curCan=s,c!==o&&H.setSrc(t,s),H.setSize(t))}var m,p,h,g,v,A,b,y,w,E,R},H.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},H.getSet=function(e){var t,n,r,a=!1,i=e[H.ns].sets;for(t=0;t<i.length&&!a;t++)if((n=i[t]).srcset&&H.matchesMedia(n.media)&&(r=H.supportsType(n.type))){"pending"===r&&(n=r),a=n;break}return a},H.parseSets=function(e,t,n){var r,a,i,s,o=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[H.ns];(u.src===c||n.src)&&(u.src=k.call(e,"src"),u.src?D.call(e,U,u.src):I.call(e,U)),(u.srcset===c||n.srcset||!H.supSrcset||e.srcset)&&(r=k.call(e,"srcset"),u.srcset=r,s=!0),u.sets=[],o&&(u.pic=!0,function(e,t){var n,r,a,i,s=e.getElementsByTagName("source");for(n=0,r=s.length;n<r;n++)(a=s[n])[H.ns]=!0,(i=a.getAttribute("srcset"))&&t.push({srcset:i,media:a.getAttribute("media"),type:a.getAttribute("type"),sizes:a.getAttribute("sizes")})}(t,u.sets)),u.srcset?(a={srcset:u.srcset,sizes:k.call(e,"sizes")},u.sets.push(a),(i=(f||u.src)&&W.test(u.srcset||""))||!u.src||T(u.src,a)||a.has1x||(a.srcset+=", "+u.src,a.cands.push({url:u.src,d:1,set:a}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=c,u.supported=!(o||a&&!H.supSrcset||i&&!H.supSizes),s&&H.supSrcset&&!u.supported&&(r?(D.call(e,F,r),e.srcset=""):I.call(e,F)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==H.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},H.fillImg=function(e,t){var n,r,a,i,s,o=t.reselect||t.reevaluate;e[H.ns]||(e[H.ns]={}),n=e[H.ns],(o||n.evaled!==u)&&((!n.parsed||t.reevaluate)&&H.parseSets(e,e.parentNode,t),n.supported?n.evaled=u:(r=e,i=H.getSet(r),s=!1,"pending"!==i&&(s=u,i&&(a=H.setRes(i),H.applySetCandidate(a,r))),r[H.ns].evaled=s))},H.setupRun=function(){(!Z||q||J!==e.devicePixelRatio)&&(q=!1,J=e.devicePixelRatio,V={},K={},H.DPR=J||1,X.width=Math.max(e.innerWidth||0,z.clientWidth),X.height=Math.max(e.innerHeight||0,z.clientHeight),X.vw=X.width/100,X.vh=X.height/100,u=[X.height,X.width,J].join("-"),X.em=H.getEmValue(),X.rem=X.em)},H.supPicture?(le=S,H.fillImg=S):(h=e.attachEvent?/d$|^c/:/d$|^c|^i/,g=function e(){var t=i.readyState||"";v=setTimeout(e,"loading"===t?200:999),i.body&&(H.fillImgs(),(n=n||h.test(t))&&clearTimeout(v))},v=setTimeout(g,i.body?9:99),A=z.clientHeight,se(e,"resize",(o=function(){q=Math.max(e.innerWidth||0,z.clientWidth)!==X.width||z.clientHeight!==A,A=z.clientHeight,q&&H.fillImgs()},d=99,t=function e(){var t=new Date-p;t<d?m=setTimeout(e,d-t):(m=null,o())},function(){p=new Date,m||(m=setTimeout(t,d))})),se(i,"readystatechange",g)),H.picturefill=le,H.fillImgs=le,H.teardownRun=S,le._=H,e.picturefillCFG={pf:H,push:function(e){var t=e.shift();"function"==typeof H[t]?H[t].apply(H,e):(P[t]=e[0],Z&&H.fillImgs({reselect:!0}))}};for(;Q&&Q.length;)e.picturefillCFG.push(Q.shift());e.picturefill=le,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=le:"function"==typeof define&&define.amd&&define("picturefill",function(){return le}),H.supPicture||(N["image/webp"]=(R="image/webp",L="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(C=new e.Image).onerror=function(){N[R]=!1,le()},C.onload=function(){N[R]=1===C.width,le()},C.src=L,"pending"))}(window,document);var restaurant=void 0,map=void 0;window.initMap=function(){fetchRestaurantFromURL(function(e,t){e?console.error(e):(self.map=new google.maps.Map(document.getElementById("map"),{zoom:16,center:t.latlng,scrollwheel:!1}),document.getElementById("map").setAttribute("role","application"),fillBreadcrumb(),DBHelper.mapMarkerForRestaurant(self.restaurant,self.map))})},fetchRestaurantFromURL=function(n){if(self.restaurant)n(null,self.restaurant);else{var e=getParameterByName("id");e?DBHelper.fetchRestaurantById(e,function(e,t){(self.restaurant=t)?(fillRestaurantHTML(),n(null,t)):console.error(e)}):(error="No restaurant id in URL",n(error,null))}},fillRestaurantHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant,t=document.getElementById("restaurant-name");t.innerHTML=e.name,document.getElementById("restaurant-address").innerHTML=e.address;var n=document.getElementById("restaurant-img");n.className="restaurant-img",n.setAttribute("aria-label",t.innerHTML+" restaurant"),n.setAttribute("alt",t.innerHTML+" restaurant"),n.src=DBHelper.imageUrlForRestaurant(e),document.getElementById("restaurant-cuisine").innerHTML=e.cuisine_type,e.operating_hours&&fillRestaurantHoursHTML(),fillReviewsHTML()},fillRestaurantHoursHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.operating_hours,t=document.getElementById("restaurant-hours");for(var n in e){var r=document.createElement("tr"),a=document.createElement("td");a.innerHTML=n,a.style.color="#525252",r.appendChild(a);var i=document.createElement("td");i.innerHTML=e[n],i.style.color="#525252",r.appendChild(i),t.appendChild(r)}},fillReviewsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.reviews,t=document.getElementById("reviews-container"),n=document.createElement("h2");if(n.innerHTML="Reviews",t.appendChild(n),!e){var r=document.createElement("p");return r.innerHTML="No reviews yet!",void t.appendChild(r)}var a=document.getElementById("reviews-list");e.forEach(function(e){a.appendChild(createReviewHTML(e))}),t.appendChild(a)},createReviewHTML=function(e){var t=document.createElement("li"),n=document.createElement("div");n.className="review-header",t.appendChild(n);var r=document.createElement("h4");r.innerHTML=e.name,r.className="review-author",r.setAttribute("role","header"),r.setAttribute("tabindex","0"),n.appendChild(r);var a=document.createElement("span");a.innerHTML=e.date,a.className="review-date",a.setAttribute("tabindex","0"),n.appendChild(a);var i=document.createElement("div");i.className="review-content",t.appendChild(i);var s=document.createElement("div");s.innerHTML="Rating: "+e.rating,s.className="rating",s.setAttribute("tabindex","0"),i.appendChild(s);var o=document.createElement("p");return o.innerHTML=e.comments,o.setAttribute("tabindex","0"),i.appendChild(o),t},fillBreadcrumb=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant,t=document.getElementById("breadcrumb"),n=document.createElement("li");n.innerHTML=e.name,n.setAttribute("aria-current",e.name),t.appendChild(n)},getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},function(){var e=Cache.prototype.addAll,t=navigator.userAgent.match(/(Firefox|Chrome)\/(\d+\.)/);if(t)var n=t[1],r=parseInt(t[2]);e&&(!t||"Firefox"===n&&46<=r||"Chrome"===n&&50<=r)||(Cache.prototype.addAll=function(n){var r=this;function a(e){this.name="NetworkError",this.code=19,this.message=e}return a.prototype=Object.create(Error.prototype),Promise.resolve().then(function(){if(arguments.length<1)throw new TypeError;return n=n.map(function(e){return e instanceof Request?e:String(e)}),Promise.all(n.map(function(e){"string"==typeof e&&(e=new Request(e));var t=new URL(e.url).protocol;if("http:"!==t&&"https:"!==t)throw new a("Invalid scheme");return fetch(e.clone())}))}).then(function(e){if(e.some(function(e){return!e.ok}))throw new a("Incorrect response status");return Promise.all(e.map(function(e,t){return r.put(n[t],e)}))}).then(function(){})},Cache.prototype.add=function(e){return this.addAll([e])})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVyLmpzIiwibWFpbi5qcyIsInBpY3R1cmVmaWxsLm1pbi5qcyIsInJlc3RhdXJhbnRfaW5mby5qcyIsInNlcnZpY2V3b3JrZXItY2FjaGUtcG9seWZpbGwuanMiXSwibmFtZXMiOlsiZGJwcm9taXNlIiwiREJIZWxwZXIiLCJpZGIiLCJvcGVuIiwidXBncmFkZURiIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiZGF0YSIsIm9wZW5EYXRhYmFzZSIsInRoZW4iLCJkYiIsInR4IiwidHJhbnNhY3Rpb24iLCJzdG9yZSIsIm9iamVjdFN0b3JlIiwiZm9yRWFjaCIsInJlc3RhdXJhbnQiLCJwdXQiLCJjb21wbGV0ZSIsImdldEFsbCIsImZldGNoIiwiREFUQUJBU0VfVVJMIiwicmVzcG9uc2UiLCJqc29uIiwicmVzdGF1cmFudHMiLCJzYXZlRGF0YWJhc2UiLCJjYWxsYmFjayIsImdldENhY2hlZERiIiwibGVuZ3RoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmcm9tQXBpIiwiY2F0Y2giLCJlciIsImlkIiwiZmV0Y2hSZXN0YXVyYW50cyIsImVycm9yIiwiZmluZCIsInIiLCJjdWlzaW5lIiwicmVzdWx0cyIsImZpbHRlciIsImN1aXNpbmVfdHlwZSIsIm5laWdoYm9yaG9vZCIsIm5laWdoYm9yaG9vZHMiLCJtYXAiLCJ2IiwiaSIsInVuaXF1ZU5laWdoYm9yaG9vZHMiLCJpbmRleE9mIiwiY3Vpc2luZXMiLCJ1bmlxdWVDdWlzaW5lcyIsInBob3RvZ3JhcGgiLCJnb29nbGUiLCJtYXBzIiwiTWFya2VyIiwicG9zaXRpb24iLCJsYXRsbmciLCJ0aXRsZSIsIm5hbWUiLCJ1cmwiLCJ1cmxGb3JSZXN0YXVyYW50IiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsIm1hcmtlcnMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmZXRjaE5laWdoYm9yaG9vZHMiLCJmZXRjaEN1aXNpbmVzIiwiY29uc29sZSIsInNlbGYiLCJmaWxsTmVpZ2hib3Job29kc0hUTUwiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJzZWxlY3QiLCJnZXRFbGVtZW50QnlJZCIsIm9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsImFwcGVuZCIsImZpbGxDdWlzaW5lc0hUTUwiLCJ3aW5kb3ciLCJpbml0TWFwIiwiTWFwIiwiem9vbSIsImNlbnRlciIsImxhdCIsImxuZyIsInNjcm9sbHdoZWVsIiwidXBkYXRlUmVzdGF1cmFudHMiLCJjU2VsZWN0IiwiblNlbGVjdCIsImNJbmRleCIsInNlbGVjdGVkSW5kZXgiLCJuSW5kZXgiLCJmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmVBbmROZWlnaGJvcmhvb2QiLCJyZXNldFJlc3RhdXJhbnRzIiwiZmlsbFJlc3RhdXJhbnRzSFRNTCIsIm0iLCJzZXRNYXAiLCJ1bCIsImNyZWF0ZVJlc3RhdXJhbnRIVE1MIiwiYWRkTWFya2Vyc1RvTWFwIiwibGkiLCJpbWFnZSIsImNsYXNzTmFtZSIsImltZ1VybEFycmF5IiwiaW1hZ2VVcmxGb3JSZXN0YXVyYW50Iiwic3JjIiwic3Jjc2V0IiwiYWRkcmVzcyIsIm1vcmUiLCJocmVmIiwibWFya2VyIiwibWFwTWFya2VyRm9yUmVzdGF1cmFudCIsImV2ZW50IiwiYWRkTGlzdGVuZXIiLCJsb2NhdGlvbiIsInB1c2giLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiLCJnIiwiaCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIkhUTUxQaWN0dXJlRWxlbWVudCIsInRlc3QiLCJtYXRjaCIsIlJlZ0V4cCIsIiQxIiwicGFyZW50Tm9kZSIsIm5vZGVOYW1lIiwidG9VcHBlckNhc2UiLCJjbG9uZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdEVsZW1lbnRDaGlsZCIsInNldFRpbWVvdXQiLCJyZW1vdmVDaGlsZCIsIl9wZkxhc3RTaXplIiwib2Zmc2V0V2lkdGgiLCJzaXplcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGVhclRpbWVvdXQiLCJtYXRjaE1lZGlhIiwicmVhZHlTdGF0ZSIsInJlcyIsImsiLCJzIiwicGFyc2VTZXQiLCJtYWtlVXJsIiwicCIsInEiLCJ0IiwidSIsInciLCJnZXRBdHRyaWJ1dGUiLCJ4IiwieSIsInJlbW92ZUF0dHJpYnV0ZSIsInoiLCJkb2N1bWVudEVsZW1lbnQiLCJBIiwiQiIsImFsZ29yaXRobSIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwicGljdHVyZWZpbGxDRkciLCJMIiwiTSIsIk4iLCJPIiwiUCIsImRldmljZVBpeGVsUmF0aW8iLCJRIiwicHgiLCJpbiIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsImF0dGFjaEV2ZW50IiwiJCIsIl8iLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJGdW5jdGlvbiIsImFhIiwiY1dpZHRoIiwiY2FsY0xpc3RMZW5ndGgiLCJiYSIsImVsZW1lbnRzIiwibm9kZVR5cGUiLCJjb250ZXh0IiwicXNhIiwicmVldmFsdWF0ZSIsInJlc2VsZWN0Iiwic2VsIiwic2VsU2hvcnQiLCJzZXR1cFJ1biIsImZpbGxJbWciLCJ0ZWFyZG93blJ1biIsIndhcm4iLCJpbXBsZW1lbnRhdGlvbiIsImhhc0ZlYXR1cmUiLCJucyIsIkRhdGUiLCJnZXRUaW1lIiwic3Vic3RyIiwic3VwU3Jjc2V0Iiwic3VwU2l6ZXMiLCJzdXBQaWN0dXJlIiwid2lkdGgiLCJvbmxvYWQiLCJvbmVycm9yIiwiY2ZnIiwiRFBSIiwidHlwZXMiLCJzZXRTaXplIiwibWF0Y2hlc01lZGlhIiwibWF0Y2hlcyIsIm1NUSIsImFwcGx5IiwidGhpcyIsImNhbGNMZW5ndGgiLCJzdXBwb3J0c1R5cGUiLCJwYXJzZVNpemUiLCJtZWRpYSIsImNhbmRzIiwiZXhlYyIsInN1YnN0cmluZyIsImoiLCJsIiwibyIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsImhhczF4Iiwic2V0IiwibiIsImNoYXJBdCIsInNsaWNlIiwiZ2V0RW1WYWx1ZSIsImJvZHkiLCJzdHlsZSIsImNzc1RleHQiLCJhcHBlbmRDaGlsZCIsInVUIiwicG9wIiwiam9pbiIsInNldFJlcyIsImFwcGx5U2V0Q2FuZGlkYXRlIiwiY3VyU3JjIiwiY3VyQ2FuIiwic2V0cyIsImNhY2hlZCIsInNvcnQiLCJNYXRoIiwicG93Iiwic3FydCIsInNldFNyYyIsInR5cGUiLCJnZXRTZXQiLCJwYXJzZVNldHMiLCJjYWxsIiwicGljIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzdXBwb3J0ZWQiLCJwYXJzZWQiLCJldmFsZWQiLCJtYXgiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsInZ3IiwidmgiLCJlbSIsInJlbSIsImZpbGxJbWdzIiwicGljdHVyZWZpbGwiLCJwZiIsInNoaWZ0IiwibW9kdWxlIiwiX3R5cGVvZiIsImV4cG9ydHMiLCJkZWZpbmUiLCJhbWQiLCJJbWFnZSIsImZldGNoUmVzdGF1cmFudEZyb21VUkwiLCJmaWxsQnJlYWRjcnVtYiIsImdldFBhcmFtZXRlckJ5TmFtZSIsImZldGNoUmVzdGF1cmFudEJ5SWQiLCJmaWxsUmVzdGF1cmFudEhUTUwiLCJvcGVyYXRpbmdfaG91cnMiLCJmaWxsUmVzdGF1cmFudEhvdXJzSFRNTCIsImZpbGxSZXZpZXdzSFRNTCIsIm9wZXJhdGluZ0hvdXJzIiwiaG91cnMiLCJrZXkiLCJyb3ciLCJkYXkiLCJjb2xvciIsInRpbWUiLCJyZXZpZXdzIiwiY29udGFpbmVyIiwibm9SZXZpZXdzIiwicmV2aWV3IiwiY3JlYXRlUmV2aWV3SFRNTCIsInJldmlld0hlYWRlciIsImRhdGUiLCJyZXZpZXdDb250ZW50IiwicmF0aW5nIiwiY29tbWVudHMiLCJicmVhZGNydW1iIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwibmF0aXZlQWRkQWxsIiwiQ2FjaGUiLCJwcm90b3R5cGUiLCJhZGRBbGwiLCJhZ2VudCIsInZlcnNpb24iLCJyZXF1ZXN0cyIsImNhY2hlIiwiTmV0d29ya0Vycm9yIiwibWVzc2FnZSIsImNvZGUiLCJPYmplY3QiLCJjcmVhdGUiLCJFcnJvciIsIlR5cGVFcnJvciIsInJlcXVlc3QiLCJSZXF1ZXN0IiwiU3RyaW5nIiwiYWxsIiwic2NoZW1lIiwiVVJMIiwicHJvdG9jb2wiLCJjbG9uZSIsInJlc3BvbnNlcyIsInNvbWUiLCJvayIsImFkZCJdLCJtYXBwaW5ncyI6IjZYQWlCQSxJQUFJQSxlQUFBQSxFQUNFQywwSEF1QkYsT0FBT0MsSUFBSUMsS0FBSyxlQUFnQixFQUFHLFNBQVNDLEdBQzFDQSxFQUFVQyxrQkFBa0IsZUFBZ0IsQ0FDMUNDLFFBQVMsOENBT0tDLEdBQ2xCLE9BQU9OLEVBQVNPLGVBQWVDLEtBQUssU0FBU0MsR0FDM0MsR0FBS0EsRUFBTCxDQUNBLElBQUlDLEVBQUtELEVBQUdFLFlBQVksZUFBZ0IsYUFDcENDLEVBQVFGLEVBQUdHLFlBQVksZ0JBSTNCLE9BSEFQLEVBQUtRLFFBQVEsU0FBU0MsR0FDcEJILEVBQU1JLElBQUlELEtBRUxMLEVBQUdPLGtEQVNaLE9BREFsQixVQUFZQyxFQUFTTyxnQkFDSkMsS0FBSyxTQUFTQyxHQUM3QixHQUFLQSxFQUdMLE9BRlNBLEVBQUdFLFlBQVksZ0JBQ1RFLFlBQVksZ0JBQ2RLLDZDQUtmLE9BQU9DLE1BQU1uQixFQUFTb0IsY0FDbkJaLEtBQUssU0FBU2EsR0FDYixPQUFPQSxFQUFTQyxTQUNmZCxLQUFLLFNBQUNlLEdBRVAsT0FEQXZCLEVBQVN3QixhQUFhRCxHQUNmQSw2Q0FRV0UsR0E2QnRCLE9BQU96QixFQUFTMEIsY0FBY2xCLEtBQUssU0FBQ2UsR0FDbEMsT0FBSUEsRUFBWUksT0FDUEMsUUFBUUMsUUFBUU4sR0FFaEJ2QixFQUFTOEIsWUFFakJ0QixLQUFLLFNBQUNlLEdBQ0xFLEVBQVMsS0FBTUYsS0FFaEJRLE1BQU0sU0FBQ0MsR0FDTlAsRUFBU08sRUFBSSxvREFTUUMsRUFBSVIsR0FFN0J6QixFQUFTa0MsaUJBQWlCLFNBQUNDLEVBQU9aLEdBQ2hDLEdBQUlZLEVBQ0ZWLEVBQVNVLEVBQU8sVUFDWCxDQUNMLElBQU1wQixFQUFhUSxFQUFZYSxLQUFLLFNBQUNDLEdBQUQsT0FBT0EsRUFBRUosSUFBTUEsSUFDL0NsQixFQUNGVSxFQUFTLEtBQU1WLEdBRWZVLEVBQVMsNEJBQTZCLDBEQVVkYSxFQUFTYixHQUV2Q3pCLEVBQVNrQyxpQkFBaUIsU0FBQ0MsRUFBT1osR0FDaEMsR0FBSVksRUFDRlYsRUFBU1UsRUFBTyxVQUNYLENBRUwsSUFBTUksRUFBVWhCLEVBQVlpQixPQUFPLFNBQUNILEdBQUQsT0FBT0EsRUFBRUksY0FBZ0JILElBQzVEYixFQUFTLEtBQU1jLDREQVNnQkcsRUFBY2pCLEdBRWpEekIsRUFBU2tDLGlCQUFpQixTQUFDQyxFQUFPWixHQUNoQyxHQUFJWSxFQUNGVixFQUFTVSxFQUFPLFVBQ1gsQ0FFTCxJQUFNSSxFQUFVaEIsRUFBWWlCLE9BQU8sU0FBQ0gsR0FBRCxPQUFPQSxFQUFFSyxjQUFnQkEsSUFDNURqQixFQUFTLEtBQU1jLHNFQVMwQkQsRUFBU0ksRUFBY2pCLEdBRXBFekIsRUFBU2tDLGlCQUFpQixTQUFDQyxFQUFPWixHQUNoQyxHQUFJWSxFQUNGVixFQUFTVSxFQUFPLFVBQ1gsQ0FDTCxJQUFJSSxFQUFVaEIsRUFDQyxPQUFYZSxJQUNGQyxFQUFVQSxFQUFRQyxPQUFPLFNBQUNILEdBQUQsT0FBT0EsRUFBRUksY0FBZ0JILEtBRWhDLE9BQWhCSSxJQUNGSCxFQUFVQSxFQUFRQyxPQUFPLFNBQUNILEdBQUQsT0FBT0EsRUFBRUssY0FBZ0JBLEtBRXBEakIsRUFBUyxLQUFNYyxpREFTS2QsR0FFeEJ6QixFQUFTa0MsaUJBQWlCLFNBQUNDLEVBQU9aLEdBQ2hDLEdBQUlZLEVBQ0ZWLEVBQVNVLEVBQU8sVUFDWCxDQUVMLElBQU1RLEVBQWdCcEIsRUFBWXFCLElBQUksU0FBQ0MsRUFBR0MsR0FBSixPQUFVdkIsRUFBWXVCLEdBQUdKLGVBRXpESyxFQUFzQkosRUFBY0gsT0FBTyxTQUFDSyxFQUFHQyxHQUFKLE9BQVVILEVBQWNLLFFBQVFILElBQU1DLElBQ3ZGckIsRUFBUyxLQUFNc0IsNENBU0F0QixHQUVuQnpCLEVBQVNrQyxpQkFBaUIsU0FBQ0MsRUFBT1osR0FDaEMsR0FBSVksRUFDRlYsRUFBU1UsRUFBTyxVQUNYLENBRUwsSUFBTWMsRUFBVzFCLEVBQVlxQixJQUFJLFNBQUNDLEVBQUdDLEdBQUosT0FBVXZCLEVBQVl1QixHQUFHTCxlQUVwRFMsRUFBaUJELEVBQVNULE9BQU8sU0FBQ0ssRUFBR0MsR0FBSixPQUFVRyxFQUFTRCxRQUFRSCxJQUFNQyxJQUN4RXJCLEVBQVMsS0FBTXlCLCtDQVNHbkMsR0FDdEIsTUFBQSx3QkFBZ0NBLEVBQVdrQixpREFPaEJsQixHQUUzQixNQUFBLGFBQXFCQSxFQUFXb0MsV0FBaEMsc0RBTzRCcEMsRUFBWTZCLEdBUXhDLE9BUGUsSUFBSVEsT0FBT0MsS0FBS0MsT0FBTyxDQUNwQ0MsU0FBVXhDLEVBQVd5QyxPQUNyQkMsTUFBTzFDLEVBQVcyQyxLQUNsQkMsSUFBSzNELEVBQVM0RCxpQkFBaUI3QyxHQUMvQjZCLElBQUtBLEVBQ0xpQixVQUFXVCxPQUFPQyxLQUFLUyxVQUFVQyw0Q0FyUG5DLE1BQUEsNkNDMUJBeEMsaUJBQUFBLEVBQ0FvQixtQkFBQUEsRUFDQU0sY0FBQUEsRUFFQWUsUUFBVSxHQUtkQyxTQUFTQyxpQkFBaUIsbUJBQW9CLFdBQzVDQyxxQkFDQUMsa0JBTUZELG1CQUFxQixXQUNuQm5FLFNBQVNtRSxtQkFBbUIsU0FBQ2hDLEVBQU9RLEdBQ3JCLE1BQVRSLEVBQ0ZrQyxRQUFRbEMsTUFBTUEsSUFFZG1DLEtBQUszQixjQUFnQkEsRUFDckI0Qiw0QkFTTkEsc0JBQXdCLFdBQXdDLElBQXZDNUIsRUFBdUMsRUFBQTZCLFVBQUE3QyxhQUFBOEMsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQXZCRixLQUFLM0IsY0FDdEMrQixFQUFTVCxTQUFTVSxlQUFlLHdCQUN2Q2hDLEVBQWM3QixRQUFRLFNBQUM0QixHQUNyQixJQUFNa0MsRUFBU1gsU0FBU1ksY0FBYyxVQUN0Q0QsRUFBT0UsVUFBWXBDLEVBQ25Ca0MsRUFBT0csTUFBUXJDLEVBQ2ZrQyxFQUFPSSxhQUFhLGFBQWN0QyxHQUNsQ2tDLEVBQU9JLGFBQWEsT0FBUSxVQUM1Qk4sRUFBT08sT0FBT0wsTUFTbEJSLGNBQWdCLFdBQ2RwRSxTQUFTb0UsY0FBYyxTQUFDakMsRUFBT2MsR0FDekJkLEVBQ0ZrQyxRQUFRbEMsTUFBTUEsSUFFZG1DLEtBQUtyQixTQUFXQSxFQUNoQmlDLHVCQVNOQSxpQkFBbUIsV0FBOEIsSUFBN0JqQyxFQUE2QixFQUFBdUIsVUFBQTdDLGFBQUE4QyxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBbEJGLEtBQUtyQixTQUM1QnlCLEVBQVNULFNBQVNVLGVBQWUsbUJBRXZDMUIsRUFBU25DLFFBQVEsU0FBQ3dCLEdBQ2hCLElBQU1zQyxFQUFTWCxTQUFTWSxjQUFjLFVBQ3RDRCxFQUFPRSxVQUFZeEMsRUFDbkJzQyxFQUFPRyxNQUFRekMsRUFDZnNDLEVBQU9JLGFBQWEsYUFBYzFDLEdBQ2xDc0MsRUFBT0ksYUFBYSxPQUFRLFVBQzVCTixFQUFPTyxPQUFPTCxNQVFsQk8sT0FBT0MsUUFBVSxXQU1mZCxLQUFLMUIsSUFBTSxJQUFJUSxPQUFPQyxLQUFLZ0MsSUFBSXBCLFNBQVNVLGVBQWUsT0FBUSxDQUM3RFcsS0FBTSxHQUNOQyxPQVBRLENBQ1JDLElBQUssVUFDTEMsS0FBTSxXQU1OQyxhQUFhLElBR2ZDLHFCQU9GQSxrQkFBb0IsV0FDbEIsSUFBTUMsRUFBVTNCLFNBQVNVLGVBQWUsbUJBQ2xDa0IsRUFBVTVCLFNBQVNVLGVBQWUsd0JBRWxDbUIsRUFBU0YsRUFBUUcsY0FDakJDLEVBQVNILEVBQVFFLGNBRWpCekQsRUFBVXNELEVBQVFFLEdBQVFmLE1BRzFCckMsRUFBZW1ELEVBQVFHLEdBQVFqQixNQUVyQy9FLFNBQVNpRyx3Q0FBd0MzRCxFQUFTSSxFQUFjLFNBQUNQLEVBQU9aLEdBQzFFWSxFQUNGa0MsUUFBUWxDLE1BQU1BLElBRWQrRCxpQkFBaUIzRSxHQUNqQjRFLDBCQVNORCxpQkFBbUIsU0FBQzNFLEdBRWxCK0MsS0FBSy9DLFlBQWMsR0FDUjBDLFNBQVNVLGVBQWUsb0JBQ2hDRyxVQUFZLEdBR2ZSLEtBQUtOLFFBQVFsRCxRQUFRLFNBQUNzRixHQUFELE9BQU9BLEVBQUVDLE9BQU8sUUFDckMvQixLQUFLTixRQUFVLEdBQ2ZNLEtBQUsvQyxZQUFjQSxHQU9yQjRFLG9CQUFzQixXQUFvQyxJQUFuQzVFLEVBQW1DLEVBQUFpRCxVQUFBN0MsYUFBQThDLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFyQkYsS0FBSy9DLFlBQ2xDK0UsRUFBS3JDLFNBQVNVLGVBQWUsb0JBQ25DcEQsRUFBWVQsUUFBUSxTQUFDQyxHQUNuQnVGLEVBQUdyQixPQUFPc0IscUJBQXFCeEYsTUFFakN5RixtQkFPRkQscUJBQXVCLFNBQUN4RixHQUN0QixJQUFNMEYsRUFBS3hDLFNBQVNZLGNBQWMsTUFDbEM0QixFQUFHekIsYUFBYSxPQUFRLFlBQ3hCeUIsRUFBR3pCLGFBQWEsV0FBWSxLQUU1QixJQUFNMEIsRUFBUXpDLFNBQVNZLGNBQWMsT0FDckM2QixFQUFNQyxVQUFZLGlCQUNsQixJQUFNQyxFQUFjLENBQUM1RyxTQUFTNkcsc0JBQXNCOUYsRUFBWSxTQUMzQ2YsU0FBUzZHLHNCQUFzQjlGLEVBQVksVUFDM0NmLFNBQVM2RyxzQkFBc0I5RixFQUFZLFVBQ2hFMkYsRUFBTUksSUFBTixHQUFlRixFQUFZLEdBQzNCRixFQUFNSyxPQUFZSCxFQUFZLEdBQTlCLFVBQTBDQSxFQUFZLEdBQXRELFVBQWtFQSxFQUFZLEdBQTlFLFNBQ0FGLEVBQU0xQixhQUFhLE9BQVEsT0FHM0IsSUFBTXRCLEVBQU9PLFNBQVNZLGNBQWMsTUFDcENuQixFQUFLb0IsVUFBWS9ELEVBQVcyQyxLQUU1QmdELEVBQU0xQixhQUFhLGFBQWN0QixFQUFLb0IsVUFBVSxlQUNoRDRCLEVBQU0xQixhQUFhLE1BQU90QixFQUFLb0IsVUFBVSxlQUV6QzJCLEVBQUd4QixPQUFPeUIsR0FDVkQsRUFBR3hCLE9BQU92QixHQUVWLElBQU1oQixFQUFldUIsU0FBU1ksY0FBYyxLQUM1Q25DLEVBQWFvQyxVQUFZL0QsRUFBVzJCLGFBQ3BDK0QsRUFBR3hCLE9BQU92QyxHQUVWLElBQU1zRSxFQUFVL0MsU0FBU1ksY0FBYyxLQUN2Q21DLEVBQVFsQyxVQUFZL0QsRUFBV2lHLFFBQy9CUCxFQUFHeEIsT0FBTytCLEdBRVYsSUFBTUMsRUFBT2hELFNBQVNZLGNBQWMsS0FPcEMsT0FOQW9DLEVBQUtuQyxVQUFZLGVBQ2pCbUMsRUFBS2pDLGFBQWEsT0FBUSxRQUUxQmlDLEVBQUtDLEtBQU9sSCxTQUFTNEQsaUJBQWlCN0MsR0FDdEMwRixFQUFHeEIsT0FBT2dDLEdBRUhSLEdBT1RELGdCQUFrQixZQUFvQyxFQUFBaEMsVUFBQTdDLGFBQUE4QyxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBckJGLEtBQUsvQyxhQUN4QlQsUUFBUSxTQUFDQyxHQUVuQixJQUFNb0csRUFBU25ILFNBQVNvSCx1QkFBdUJyRyxFQUFZdUQsS0FBSzFCLEtBQ2hFUSxPQUFPQyxLQUFLZ0UsTUFBTUMsWUFBWUgsRUFBUSxRQUFTLFdBQzdDaEMsT0FBT29DLFNBQVNMLEtBQU9DLEVBQU94RCxNQUVoQ1csS0FBS04sUUFBUXdELEtBQUtMLDZOQzlNckIsU0FBU00sR0FBRyxJQUE2SUMsRUFBRUMsRUFBbUNDLEVBQXVUQyxFQUFvSEMsRUFBaURDLEVBQXVEQyxFQUFqc0JOLEVBQUVPLFVBQVVDLFVBQVVULEVBQUVVLG9CQUFvQixPQUFPQyxLQUFLVixJQUFJQSxFQUFFVyxNQUFNLGNBQWNDLE9BQU9DLEdBQUcsSUFBSXJFLGlCQUFpQixVQUEwQnlELEVBQUUxRCxTQUFTWSxjQUFjLFVBQVUrQyxFQUFFLFNBQVNILEdBQUcsSUFBSUMsRUFBRUUsRUFBRUMsRUFBRUosRUFBRWUsV0FBVyxZQUFZWCxFQUFFWSxTQUFTQyxlQUFlaEIsRUFBRUMsRUFBRWdCLFlBQVlkLEVBQUVlLGFBQWFsQixFQUFFRyxFQUFFZ0IsbUJBQW1CQyxXQUFXLFdBQVdqQixFQUFFa0IsWUFBWXJCLFFBQVFELEVBQUV1QixhQUFhdkIsRUFBRXdCLFlBQVl4QixFQUFFdUIsZUFBZXZCLEVBQUV1QixZQUFZdkIsRUFBRXdCLFlBQVlyQixFQUFFSCxFQUFFeUIsTUFBTXpCLEVBQUV5QixPQUFPLFNBQVNKLFdBQVcsV0FBV3JCLEVBQUV5QixNQUFNdEIsTUFBTUMsRUFBRSxXQUFXLElBQUlKLEVBQUVDLEVBQUV6RCxTQUFTa0YsaUJBQWlCLHFDQUFxQyxJQUFJMUIsRUFBRSxFQUFFQSxFQUFFQyxFQUFFL0YsT0FBTzhGLElBQUlHLEVBQUVGLEVBQUVELEtBQUtLLEVBQUUsV0FBV3NCLGFBQWExQixHQUFHQSxFQUFFb0IsV0FBV2pCLEVBQUUsS0FBS0UsRUFBRU4sRUFBRTRCLFlBQVlBLFdBQVcsNEJBQTRCckIsRUFBRSxXQUFXRixJQUFJQyxHQUFHQSxFQUFFVCxhQUFhUyxFQUFFVCxZQUFZUSxJQUFXSCxFQUFFWixPQUFPLDZFQUE2RSxZQUFZcUIsS0FBS25FLFNBQVNxRixZQUFZLElBQUl0QixJQUFJL0QsU0FBU0MsaUJBQWlCLG1CQUFtQjhELEdBQUdGLElBQWo4QixDQUF3OEIzQyxRQUFRLFNBQVNzQyxFQUFFQyxFQUFFQyxHQUFnQixTQUFTQyxFQUFFSCxHQUFHLE1BQU0sTUFBTUEsR0FBRyxPQUFNQSxHQUFHLE9BQU9BLEdBQUcsT0FBT0EsR0FBRyxPQUFPQSxFQUFrcUIsU0FBUzNFLEVBQUUyRSxFQUFFQyxHQUFHLE9BQU9ELEVBQUU4QixJQUFJN0IsRUFBRTZCLElBQXVLLFNBQVNDLEVBQUUvQixFQUFFQyxHQUFHLElBQUlDLEVBQUVDLEVBQUVDLEVBQUUsR0FBR0osR0FBR0MsRUFBRSxJQUFJRyxFQUFFNEIsRUFBRUMsU0FBU2hDLEdBQUdELEVBQUVnQyxFQUFFRSxRQUFRbEMsR0FBR0UsRUFBRSxFQUFFQSxFQUFFRSxFQUFFbEcsT0FBT2dHLElBQUksR0FBR0YsSUFBSWdDLEVBQUVFLFFBQVE5QixFQUFFRixHQUFHaEUsS0FBSyxDQUFDaUUsRUFBRUMsRUFBRUYsR0FBRyxNQUFNLE9BQU9DLEVBQTB0RUYsRUFBRTdDLGNBQWMsV0FBVyxJQUFNK0UsRUFBRUMsRUFBRXhILEVBQTA3Qm9GLEVBQW1IRSxFQUF3NUpBLEVBQWdORixFQUFFQyxFQUFPQyxFQUFFQyxFQUFFQyxFQUEzTkQsRUFBbUNDLEVBQW9JQyxFQUE4S0UsRUFBcHZITCxFQUErRUMsRUFBeUJDLEVBQWxYSixFQUFoZ0xDLEVBQUVDLEVBQU9DLEVBQTJ0RzZCLEVBQUUsR0FBR0ssR0FBRSxFQUFHQyxFQUFFLGFBQWFsSCxFQUFFNkUsRUFBRTdDLGNBQWMsT0FBT21GLEVBQUVuSCxFQUFFb0gsYUFBYUMsRUFBRXJILEVBQUVtQyxhQUFhbUYsRUFBRXRILEVBQUV1SCxnQkFBZ0JDLEVBQUUzQyxFQUFFNEMsZ0JBQWdCQyxFQUFFLEdBQUdDLEVBQUUsQ0FBQ0MsVUFBVSxJQUFJQyxFQUFFLGFBQWFDLEVBQUVELEVBQUUsTUFBTUUsRUFBRTNDLFVBQVVDLFVBQVUyQyxFQUFFLFNBQVN6QyxLQUFLd0MsSUFBSSxPQUFPeEMsS0FBS3dDLElBQUlBLEVBQUV2QyxNQUFNLGNBQXdCLEdBQVZDLE9BQU9DLEdBQU11QyxFQUFFLGFBQWFDLEVBQUUsb0JBQW9CQyxFQUFFLHNCQUFzQkMsRUFBRXhELEVBQUV5RCxlQUF3S0MsRUFBRSw0QkFBNEJDLEdBQUUsRUFBR0MsRUFBRSxHQUFHQyxFQUFFLEdBQUdDLEVBQUU5RCxFQUFFK0QsaUJBQWlCQyxFQUFFLENBQUNDLEdBQUcsRUFBRUMsR0FBSyxJQUFJQyxFQUFFbEUsRUFBRTdDLGNBQWMsS0FBS2dILEdBQUUsRUFBR0MsR0FBRSxvQkFBb0JDLEdBQUUscUJBQXFCQyxHQUFFLHFCQUFxQkMsR0FBRSxRQUFRQyxHQUFFLFFBQVFDLEdBQUUsb0RBQW9EQyxHQUFFLFNBQVMzRSxFQUFFQyxFQUFFQyxFQUFFQyxHQUFHSCxFQUFFdkQsaUJBQWlCdUQsRUFBRXZELGlCQUFpQndELEVBQUVDLEVBQUVDLElBQUcsR0FBSUgsRUFBRTRFLGFBQWE1RSxFQUFFNEUsWUFBWSxLQUFLM0UsRUFBRUMsSUFBSTJFLEdBQUUsU0FBUzdFLEdBQUcsSUFBSUMsRUFBRSxHQUFHLE9BQU8sU0FBU0MsR0FBRyxPQUFPQSxLQUFLRCxJQUFJQSxFQUFFQyxHQUFHRixFQUFFRSxJQUFJRCxFQUFFQyxLQUFLNEUsSUFBaUI5RSxFQUFFLHdCQUFpSEUsRUFBRTJFLEdBQUUsU0FBUzdFLEdBQUcsTUFBTSxVQUE3RyxXQUFXLElBQUksSUFBSUEsRUFBRWpELFVBQVVrRCxFQUFFLEVBQUVDLEVBQUVGLEVBQUUsS0FBS0MsS0FBS0QsR0FBR0UsRUFBRUEsRUFBRTZFLFFBQVEvRSxFQUFFQyxHQUFHRCxJQUFJQyxJQUFJLE9BQU9DLEVBQW1DRCxFQUFHRCxHQUFHLElBQUlnRixjQUFjLFdBQVcsS0FBSyxLQUFLLEtBQUssb0JBQW9CLFNBQVMsb0JBQW9CLFNBQVMsZUFBZSxPQUFPLDJCQUEyQixjQUFjLDhDQUE4QyxJQUFJLE1BQWEsU0FBUy9FLEVBQUVFLEdBQUcsSUFBSUMsRUFBRSxLQUFLSCxLQUFLMkQsR0FBRyxHQUFHQSxFQUFFM0QsSUFBRyxFQUFHRSxJQUFJQyxFQUFFSCxFQUFFVyxNQUFNWixJQUFJNEQsRUFBRTNELEdBQUdHLEVBQUUsR0FBRzRELEVBQUU1RCxFQUFFLFNBQVMsSUFBSXdELEVBQUUzRCxHQUFHLElBQUlnRixTQUFTLElBQUkvRSxFQUFFRCxHQUFuQixDQUF1QitELEdBQUcsTUFBTTNELElBQUksT0FBT3VELEVBQUUzRCxLQUFPaUYsR0FBRyxTQUFTbEYsRUFBRUMsR0FBRyxPQUFPRCxFQUFFdUMsR0FBR3ZDLEVBQUVtRixPQUFPbkQsRUFBRW9ELGVBQWVuRixHQUFHLFNBQVNELEVBQUU4QixJQUFJOUIsRUFBRXVDLEVBQUV2QyxFQUFFbUYsUUFBUW5GLEVBQUU4QixJQUFJOUIsRUFBRUcsRUFBRUgsR0FBR3FGLEdBQUcsU0FBU3JGLEdBQUcsR0FBR3FDLEVBQUUsQ0FBQyxJQUFJbkMsRUFBRUMsRUFBRUMsRUFBRUMsRUFBRUwsR0FBRyxHQUFHLEdBQUdLLEVBQUVpRixVQUFVLElBQUlqRixFQUFFaUYsU0FBU0MsV0FBVyxRQUFRbEYsRUFBRWlGLFNBQVN0RSxTQUFTQyxjQUFjWixFQUFFaUYsU0FBUyxDQUFDakYsRUFBRWlGLFdBQVdqRixFQUFFbUYsUUFBUW5GLEVBQUVpRixTQUFTakYsRUFBRWlGLFNBQVMsT0FBbUZsRixHQUE1RUYsRUFBRUcsRUFBRWlGLFVBQVV0RCxFQUFFeUQsSUFBSXBGLEVBQUVtRixTQUFTdkYsRUFBRUksRUFBRXFGLFlBQVlyRixFQUFFc0YsU0FBUzNELEVBQUU0RCxJQUFJNUQsRUFBRTZELFdBQWMzTCxPQUFPLENBQUMsSUFBSThILEVBQUU4RCxTQUFTekYsR0FBRytELEdBQUUsRUFBR2pFLEVBQUUsRUFBSUEsRUFBRkMsRUFBSUQsSUFBSTZCLEVBQUUrRCxRQUFRN0YsRUFBRUMsR0FBR0UsR0FBRzJCLEVBQUVnRSxZQUFZM0YsTUFBUUwsRUFBRXBELFNBQVNBLFFBQVFxSixLQUFvQzVDLEtBQUtqSSxJQUFJaUksRUFBRSxPQUFPUCxFQUFFLGVBQWMsRUFBR0EsRUFBRSxjQUFhLEVBQUdBLEVBQUUsY0FBYSxFQUFHQSxFQUFFLGlCQUFpQjdDLEVBQUVpRyxlQUFlQyxXQUFXLDJDQUEyQyxPQUFPbkUsRUFBRW9FLElBQUksTUFBTSxJQUFJQyxNQUFNQyxXQUFXQyxPQUFPLEVBQUUsR0FBR3ZFLEVBQUV3RSxVQUFVLFdBQVdwTCxFQUFFNEcsRUFBRXlFLFNBQVMsVUFBVXJMLEVBQUU0RyxFQUFFMEUsYUFBYTFHLEVBQUVVLG1CQUFtQnNCLEVBQUV3RSxXQUFXeEUsRUFBRTBFLGFBQWExRSxFQUFFeUUsV0FBb0J6RyxFQUFrSEMsRUFBRTdDLGNBQWMsT0FBL0hoQyxFQUFFa0UsT0FBTyxVQUFVVSxFQUFFWCxJQUFJLFVBQVUyQyxFQUFFd0UsVUFBVXBMLEVBQUU1QixXQUFXd0csRUFBRXhHLFNBQVN3SSxFQUFFMEUsV0FBVzFFLEVBQUV3RSxXQUFXeEUsRUFBRTBFLFlBQW9DMUUsRUFBRXdFLFlBQVl4RSxFQUFFeUUsVUFBZ0h2RyxFQUFFLDZFQUE2RUMsRUFBRUYsRUFBRTdDLGNBQWMsT0FBT2dELEVBQUUsV0FBeUIsSUFBUkQsRUFBRXdHLFFBQWMzRSxFQUFFeUUsVUFBUyxHQUFJckUsRUFBRUosRUFBRXdFLFlBQVl4RSxFQUFFeUUsU0FBU3BFLEdBQUUsRUFBR2hCLFdBQVdnRSxLQUFLbEYsRUFBRXlHLE9BQU94RyxFQUFFRCxFQUFFMEcsUUFBUXpHLEVBQUVELEVBQUU1QyxhQUFhLFFBQVEsT0FBTzRDLEVBQUViLE9BQU9ZLEVBQUUsNEZBQWVDLEVBQUVkLElBQUlhLEdBQUttQyxHQUFFLEVBQUdMLEVBQUU2RCxTQUFTLDBCQUEwQjdELEVBQUU0RCxJQUFJNUQsRUFBRTZELFNBQVM3RCxFQUFFOEUsSUFBSS9ELEVBQUVmLEVBQUUrRSxJQUFJakQsR0FBRyxFQUFFOUIsRUFBRU0sRUFBRTBCLEVBQUVoQyxFQUFFZ0YsTUFBTWxFLEVBQUVkLEVBQUVpRixRQUFRM0UsRUFBRU4sRUFBRUUsUUFBUTJDLEdBQUUsU0FBUzdFLEdBQUcsT0FBT21FLEVBQUUxRSxLQUFLTyxFQUFFbUUsRUFBRTFFLE9BQU91QyxFQUFFeUQsSUFBSSxTQUFTekYsRUFBRUMsR0FBRyxNQUFNLGtCQUFrQkQsRUFBRUEsRUFBRTBCLGlCQUFpQnpCLEdBQUcsSUFBSStCLEVBQUVrRixhQUFhLFdBQVcsT0FBT2xILEVBQUU0QixhQUFhQSxXQUFXLHVCQUF1QixJQUFJdUYsUUFBUW5GLEVBQUVrRixhQUFhLFNBQVNsSCxHQUFHLE9BQU9BLEdBQUc0QixXQUFXNUIsR0FBR21ILFNBQVNuRixFQUFFa0YsYUFBYWxGLEVBQUVvRixJQUFJcEYsRUFBRWtGLGFBQWFHLE1BQU1DLEtBQUt2SyxZQUFZaUYsRUFBRW9GLElBQUksU0FBU3BILEdBQUcsT0FBT0EsR0FBRThFLEdBQUU5RSxJQUFPZ0MsRUFBRXVGLFdBQVcsU0FBU3ZILEdBQUcsSUFBSUMsRUFBRTZFLEdBQUU5RSxHQUFFLEtBQUssRUFBRyxPQUFTQyxFQUFGLElBQU1BLEdBQUUsR0FBSUEsR0FBRytCLEVBQUV3RixhQUFhLFNBQVN4SCxHQUFHLE9BQU9BLEdBQUU4QyxFQUFFOUMsSUFBT2dDLEVBQUV5RixVQUFVNUMsR0FBRSxTQUFTN0UsR0FBRyxJQUFJQyxHQUFHRCxHQUFHLElBQUlZLE1BQU0yQyxHQUFHLE1BQU0sQ0FBQ21FLE1BQU16SCxHQUFHQSxFQUFFLEdBQUcvRixPQUFPK0YsR0FBR0EsRUFBRSxNQUFNK0IsRUFBRUMsU0FBUyxTQUFTakMsR0FBRyxPQUFPQSxFQUFFMkgsUUFBUTNILEVBQUUySCxNQUFoaUwsU0FBVzNILEVBQUVDLEdBQUcsU0FBU0MsRUFBRUQsR0FBRyxJQUFJQyxFQUFFQyxFQUFFRixFQUFFMkgsS0FBSzVILEVBQUU2SCxVQUFVbEosSUFBSSxPQUFPd0IsR0FBR0QsRUFBRUMsRUFBRSxHQUFHeEIsR0FBR3VCLEVBQUVoRyxPQUFPZ0csUUFBRyxFQUFPLFNBQVNFLElBQUksSUFBSUosRUFBRUUsRUFBRUMsRUFBRUMsRUFBRUMsRUFBRWhGLEVBQUV5TSxFQUFFL0YsRUFBRWdHLEVBQUVwSixHQUFFLEVBQUdxSixFQUFFLEdBQUcsSUFBSTVILEVBQUUsRUFBRUEsRUFBRUcsRUFBRXJHLE9BQU9rRyxJQUFXL0UsR0FBUGdGLEVBQUVFLEVBQUVILElBQU9DLEVBQUVuRyxPQUFPLEdBQUc0TixFQUFFekgsRUFBRXdILFVBQVUsRUFBRXhILEVBQUVuRyxPQUFPLEdBQUc2SCxFQUFFa0csU0FBU0gsRUFBRSxJQUFJQyxFQUFFRyxXQUFXSixHQUFHckQsR0FBRTlELEtBQUttSCxJQUFJLE1BQU16TSxJQUFJMkUsR0FBR0UsS0FBS3ZCLEdBQUUsR0FBSSxJQUFJb0QsRUFBRXBELEdBQUUsRUFBR3FCLEVBQUUrQixHQUFHMkMsR0FBRS9ELEtBQUttSCxJQUFJLE1BQU16TSxJQUFJMkUsR0FBR0UsR0FBR0MsS0FBS3hCLEdBQUUsR0FBTW9KLEVBQUYsRUFBSXBKLEdBQUUsRUFBR3VCLEVBQUU2SCxHQUFHdEQsR0FBRTlELEtBQUttSCxJQUFJLE1BQU16TSxJQUFJOEUsR0FBR0QsS0FBS3ZCLEdBQUUsR0FBSSxJQUFJb0QsRUFBRXBELEdBQUUsRUFBR3dCLEVBQUU0QixHQUFHcEQsR0FBRSxFQUFHQSxJQUFJcUosRUFBRTlMLElBQUlvRSxFQUFFTixJQUFJZ0ksRUFBRXpGLEVBQUV2QyxHQUFHRSxJQUFJOEgsRUFBRTdILEVBQUVELEdBQUdDLElBQUk2SCxFQUFFekgsRUFBRUosR0FBR0EsR0FBR0QsR0FBR0YsSUFBSWdJLEVBQUU3SCxFQUFFLEdBQUcsSUFBSTZILEVBQUU3SCxJQUFJRixFQUFFa0ksT0FBTSxHQUFJSCxFQUFFSSxJQUFJbkksRUFBRW9JLEVBQUV0SSxLQUFLaUksSUFBSSxTQUFTM0gsSUFBSSxJQUFJSCxFQUFFbUUsSUFBR2hKLEVBQUUsR0FBR3lNLEVBQUUsa0JBQWtCLENBQUMsR0FBRy9GLEVBQUUvQixFQUFFc0ksT0FBTzNKLEdBQUcsa0JBQWtCbUosRUFBRSxHQUFHM0gsRUFBRTRCLEdBQUcxRyxJQUFJa0YsRUFBRVIsS0FBSzFFLEdBQUdBLEVBQUUsR0FBR3lNLEVBQUUsd0JBQXdCLENBQUMsR0FBRyxNQUFNL0YsRUFBRSxPQUFPcEQsR0FBRyxFQUFFdEQsR0FBR2tGLEVBQUVSLEtBQUsxRSxRQUFRK0UsSUFBSSxHQUFHLE1BQU0yQixFQUFFMUcsR0FBRzBHLEVBQUUrRixFQUFFLGdCQUFnQixDQUFDLEdBQUcsS0FBSy9GLEVBQUUsT0FBTzFHLEdBQUdrRixFQUFFUixLQUFLMUUsUUFBUStFLElBQUkvRSxHQUFHMEcsUUFBUSxHQUFHLGNBQWMrRixFQUFFLEdBQUcsTUFBTS9GLEVBQUUxRyxHQUFHMEcsRUFBRStGLEVBQUUsb0JBQW9CLENBQUMsR0FBRyxLQUFLL0YsRUFBRSxPQUFPeEIsRUFBRVIsS0FBSzFFLFFBQVErRSxJQUFJL0UsR0FBRzBHLE9BQU8sR0FBRyxxQkFBcUIrRixFQUFFLEdBQUczSCxFQUFFNEIsUUFBUSxDQUFDLEdBQUcsS0FBS0EsRUFBRSxZQUFZM0IsSUFBSTBILEVBQUUsZ0JBQWdCbkosR0FBRyxFQUFFQSxHQUFHLEdBQUcsSUFBSSxJQUFJMkIsRUFBRUMsRUFBRWxGLEVBQUV5TSxFQUFFL0YsRUFBRWdHLEVBQUUvSCxFQUFFOUYsT0FBT3lFLEVBQUUsRUFBRTBKLEVBQUUsS0FBSyxDQUFDLEdBQUduSSxFQUFFb0UsSUFBTXlELEdBQUhwSixFQUFLLE9BQU8wSixFQUFFL0gsRUFBRUosRUFBRXFFLElBQUdoRSxFQUFFLEdBQUcsTUFBTUQsRUFBRWlJLE9BQU8sSUFBSWpJLEVBQUVBLEVBQUV5RSxRQUFRUCxHQUFFLElBQUlwRSxLQUFLQyxLQUEyOUkxQixDQUFFcUIsRUFBRVYsT0FBT1UsSUFBSUEsRUFBRTJILE9BQU8zRixFQUFFd0csV0FBVyxXQUFXLElBQUl4SSxFQUFFLElBQUltQyxJQUFJbkMsRUFBRUMsRUFBRXdJLE1BQU0sQ0FBQyxJQUFJdkksRUFBRUQsRUFBRTdDLGNBQWMsT0FBTytDLEVBQUV5QyxFQUFFOEYsTUFBTUMsUUFBUXZJLEVBQUVKLEVBQUUwSSxNQUFNQyxRQUFRekksRUFBRXdJLE1BQU1DLFFBQXAxRyx1SkFBODFHL0YsRUFBRThGLE1BQU1DLFFBQVFqRixFQUFFMUQsRUFBRTBJLE1BQU1DLFFBQVFqRixFQUFFMUQsRUFBRTRJLFlBQVkxSSxHQUFHaUMsRUFBRWpDLEVBQUVzQixZQUFZeEIsRUFBRXNCLFlBQVlwQixHQUFHaUMsRUFBRStGLFdBQVcvRixFQUFFLElBQUlTLEVBQUU4RixNQUFNQyxRQUFReEksRUFBRUgsRUFBRTBJLE1BQU1DLFFBQVF2SSxFQUFFLE9BQU8rQixHQUFHLElBQUlILEVBQUVvRCxlQUFlLFNBQVNwRixHQUFHLEtBQUtBLEtBQUs2RCxJQUFJZCxFQUFFOEYsR0FBRyxDQUFDLElBQUk1SSxFQUFFK0IsRUFBRXVGLFdBQXQwSixTQUFXdkgsR0FBK2pCLElBQUlJLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVsRixFQUFFeU0sRUFBdEc5SCxFQUF3RytCLEVBQUUsMEdBQTBHZ0csRUFBRSwwQ0FBMEMsSUFBV3pILEdBQVBELEVBQXh1QixTQUFXTCxHQUFHLFNBQVNDLElBQUlJLElBQUlDLEVBQUVQLEtBQUtNLEdBQUdBLEVBQUUsSUFBSSxTQUFTSCxJQUFJSSxFQUFFLEtBQUtDLEVBQUVSLEtBQUtPLEdBQUdBLEVBQUUsSUFBSSxJQUFJLElBQUlGLEVBQUVDLEVBQUUsR0FBR0MsRUFBRSxHQUFHQyxFQUFFLEdBQUdsRixFQUFFLEVBQUV5TSxFQUFFLEVBQUUvRixHQUFFLElBQUssQ0FBQyxHQUFpQixNQUFkM0IsRUFBRUosRUFBRXNJLE9BQU9SLElBQVUsT0FBTzdILElBQUlDLElBQUlLLEVBQUUsR0FBR3dCLEVBQUUsQ0FBQyxHQUFHLE1BQU0zQixHQUFHLE1BQU1KLEVBQUU4SCxFQUFFLEdBQUcsQ0FBQy9GLEdBQUUsRUFBRytGLEdBQUcsRUFBRTdILElBQUksU0FBUzZILEdBQUcsTUFBTSxDQUFDLEdBQUczSCxFQUFFQyxHQUFHLENBQUMsR0FBR0osRUFBRXNJLE9BQU9SLEVBQUUsSUFBSTNILEVBQUVILEVBQUVzSSxPQUFPUixFQUFFLE1BQU16SCxFQUFFLENBQUN5SCxHQUFHLEVBQUUsU0FBUyxHQUFHLElBQUl6TSxFQUFFLENBQUM0RSxJQUFJNkgsR0FBRyxFQUFFLFNBQVMxSCxFQUFFLFNBQVMsR0FBRyxNQUFNQSxFQUFFL0UsR0FBRyxPQUFPLEdBQUcsTUFBTStFLEVBQUUvRSxHQUFHLE1BQU0sQ0FBQyxHQUFHLE1BQU0rRSxFQUFFLENBQUNILElBQUlDLElBQUk0SCxHQUFHLEVBQUUsU0FBUyxHQUFHLE1BQU0xSCxHQUFHLE1BQU1KLEVBQUVzSSxPQUFPUixFQUFFLEdBQUcsQ0FBQy9GLEdBQUUsRUFBRytGLEdBQUcsRUFBRSxVQUFVekgsR0FBR0QsRUFBRTBILEdBQUcsSUFBcVI3SCxDQUFFRCxJQUFPOUYsT0FBT2tHLEVBQUUsRUFBSUEsRUFBRkUsRUFBSUYsSUFBSSxHQUFVL0UsR0FBUGtGLEVBQUVGLEVBQUVELElBQU9HLEVBQUVyRyxPQUFPLEdBQXpUOEYsRUFBOFQzRSxFQUFwVDBHLEVBQUVwQixLQUFLWCxJQUFtQixHQUFma0ksV0FBV2xJLElBQVMrSCxFQUFFcEgsS0FBS1gsSUFBTSxNQUFNQSxHQUFHLE9BQU9BLEdBQUcsT0FBT0EsRUFBaVAsQ0FBQyxHQUFHOEgsRUFBRXpNLEVBQUVrRixFQUFFdUksTUFBTSxJQUFJdkksRUFBRXJHLE9BQU8sT0FBTzROLEVBQUUsR0FBR3ZILEVBQUVBLEVBQUV3SSxLQUFLLEtBQUsvRyxFQUFFa0YsYUFBYTNHLEdBQUcsT0FBT3VILEVBQUUsTUFBTSxRQUFzOEhPLENBQUVySSxJQUFJNkQsRUFBRTdELEdBQUdDLEdBQUkrRCxFQUFFMkMsTUFBTSxPQUFPOUMsRUFBRTdELElBQUlnQyxFQUFFZ0gsT0FBTyxTQUFTaEosR0FBRyxJQUFJQyxFQUFFLEdBQUdELEVBQW1CLElBQUksSUFBSUUsRUFBRSxFQUFFQyxHQUE1QkYsRUFBRStCLEVBQUVDLFNBQVNqQyxJQUFtQjlGLE9BQVNnRyxFQUFGQyxFQUFJRCxJQUFJZ0YsR0FBR2pGLEVBQUVDLEdBQUdGLEVBQUV5QixPQUFPLE9BQU94QixHQUFHK0IsRUFBRWdILE9BQU9sSCxJQUFJb0QsR0FBR2xELEVBQUVpSCxrQkFBa0IsU0FBU2pKLEVBQUVDLEdBQUcsR0FBR0QsRUFBRTlGLE9BQU8sQ0FBQyxJQUFJZ0csRUFBRUMsRUFBRUMsRUFBRUMsRUFBRUUsRUFBRXdCLEVBQUVnRyxFQUFFcEosRUFBRTBKLEVBQUVMLEVBQUUvSCxFQUFFK0IsRUFBRW9FLElBQUlqRSxFQUFFSCxFQUFFK0UsSUFBSSxHQUFHaEYsRUFBRWlHLEVBQUVrQixRQUFRakosRUFBRW9ELElBQUcwRSxFQUFFQyxFQUFFbUIsU0FBdHNObkosRUFBZ3ROQyxFQUE5c05BLEVBQWd0TjhCLElBQTlzTjdCLEVBQWd0TkYsRUFBRSxHQUFHb0ksTUFBbHNObkksSUFBbUJDLEdBQWZBLEVBQUVGLEVBQUVnQyxFQUFFb0UsSUFBSWdELE9BQVVsSixFQUFFQSxFQUFFaEcsT0FBTyxLQUFJaUcsRUFBRTRCLEVBQUU5QixFQUFFQyxNQUFPRCxFQUFFK0IsRUFBRUUsUUFBUWpDLEdBQUdELEVBQUVnQyxFQUFFb0UsSUFBSThDLE9BQU9qSixHQUFFRCxFQUFFZ0MsRUFBRW9FLElBQUkrQyxPQUFPaEosR0FBSTJCLEtBQUtvRCxHQUFHL0UsRUFBRUEsRUFBRWlJLElBQUkzRyxRQUFRdEIsS0FBMmtONEgsRUFBRUssTUFBTXBJLEVBQUUsR0FBR29JLE9BQU1DLEVBQUVqRixJQUFJbkQsRUFBRXpHLFVBQVV1TyxFQUFFakcsSUFBSSxHQUFHSyxLQUFNNEYsRUFBRXNCLFFBQU8sRUFBR3RCLEVBQUVqRyxLQUFLSyxJQUFJNUIsRUFBRXdILE1BQU14SCxFQUFFLElBQUlQLEVBQUVzSixLQUFLak8sR0FBY2tGLEVBQUVQLEdBQWJLLEVBQUVMLEVBQUU5RixRQUFhLEdBQUdpRyxFQUFFLEVBQUlBLEVBQUZFLEVBQUlGLElBQUksSUFBR0QsRUFBRUYsRUFBRUcsSUFBSzJCLEtBQUtLLEVBQUUsQ0FBTzVCLEVBQUVQLEVBQVJJLEVBQUVELEVBQUUsS0FBV2tJLEdBQUd0RyxJQUFJQyxFQUFFRSxRQUFRaEMsRUFBRWhFLFFBQWx0TzhELEVBQTJ0T0EsRUFBRUksR0FBRzBCLElBQTl0TzdCLEVBQWt1T0MsRUFBRTRCLElBQWx1TzVCLEVBQXN1T2lDLEVBQXB1T2hDLEVBQXN1T0gsRUFBRUksR0FBR2lKLE9BQTl0TzlJLEVBQUZELEVBQUpGLE9BQUFBLEVBQWMsYUFBYTJDLEVBQUVDLFVBQVksSUFBRmhELEVBQU1PLEVBQUVMLEVBQUUsR0FBOEJJLEdBQXpCTCxFQUFFQyxJQUFFRSxFQUFFbUosS0FBS0MsSUFBSXhKLEVBQUUsR0FBRyxNQUFXRyxJQUFJRyxHQUFHLEdBQUdGLEdBQUdHLEVBQUVQLEVBQUVNLEdBQUdDLEVBQUksRUFBRkwsRUFBSXFKLEtBQUtFLEtBQUt6SixFQUFFQyxHQUFHRCxFQUFJRSxFQUFGSyxHQUE0bU9QLEVBQUVJLEdBQUdGLEVBQUUsTUFBTUssSUFBSTVCLEVBQUVxRCxFQUFFRSxRQUFRM0IsRUFBRXJFLEtBQUs4TCxFQUFFa0IsT0FBT3ZLLEVBQUVxSixFQUFFbUIsT0FBTzVJLEVBQUU1QixJQUFJb0QsR0FBR0MsRUFBRTBILE9BQU96SixFQUFFTSxHQUFHeUIsRUFBRWlGLFFBQVFoSCxJQUE3MU8sSUFBV0QsRUFBRUMsRUFBRUMsRUFBRUMsRUFBT0MsRUFBSUUsRUFBRUMsRUFBcVNQLEVBQUVDLEVBQUVDLEVBQU9DLEdBQXFoTzZCLEVBQUUwSCxPQUFPLFNBQVMxSixFQUFFQyxHQUFHLElBQUlDLEVBQUVGLEVBQUVYLElBQUlZLEVBQUUvRCxJQUFJLGtCQUFrQitELEVBQUVtSSxJQUFJdUIsT0FBT3pKLEVBQUVGLEVBQUUwSSxNQUFNL0IsTUFBTTNHLEVBQUUwSSxNQUFNL0IsTUFBTTNHLEVBQUV3QixZQUFZLEVBQUUsS0FBS3hCLEVBQUV3QixZQUFZLElBQUl4QixFQUFFMEksTUFBTS9CLE1BQU16RyxLQUFLOEIsRUFBRTRILE9BQU8sU0FBUzVKLEdBQUcsSUFBSUMsRUFBRUMsRUFBRUMsRUFBRUMsR0FBRSxFQUFHQyxFQUFFTCxFQUFFZ0MsRUFBRW9FLElBQUlnRCxLQUFLLElBQUluSixFQUFFLEVBQUVBLEVBQUVJLEVBQUVuRyxTQUFTa0csRUFBRUgsSUFBSSxJQUFHQyxFQUFFRyxFQUFFSixJQUFLWCxRQUFRMEMsRUFBRWtGLGFBQWFoSCxFQUFFd0gsU0FBU3ZILEVBQUU2QixFQUFFd0YsYUFBYXRILEVBQUV5SixPQUFPLENBQUMsWUFBWXhKLElBQUlELEVBQUVDLEdBQUdDLEVBQUVGLEVBQUUsTUFBTSxPQUFPRSxHQUFHNEIsRUFBRTZILFVBQVUsU0FBUzdKLEVBQUVDLEVBQUVFLEdBQUcsSUFBSUMsRUFBRUMsRUFBRUMsRUFBRUMsRUFBRWxGLEVBQUU0RSxHQUFHLFlBQVlBLEVBQUVlLFNBQVNDLGNBQWM2RyxFQUFFOUgsRUFBRWdDLEVBQUVvRSxLQUFLMEIsRUFBRXpJLE1BQU1hLEdBQUdDLEVBQUVkLE9BQU95SSxFQUFFekksSUFBSWtELEVBQUV1SCxLQUFLOUosRUFBRSxPQUFPOEgsRUFBRXpJLElBQUlvRCxFQUFFcUgsS0FBSzlKLEVBQUVpRCxFQUFFNkUsRUFBRXpJLEtBQUtxRCxFQUFFb0gsS0FBSzlKLEVBQUVpRCxLQUFLNkUsRUFBRXhJLFNBQVNZLEdBQUdDLEVBQUViLFNBQVMwQyxFQUFFd0UsV0FBV3hHLEVBQUVWLFVBQVVjLEVBQUVtQyxFQUFFdUgsS0FBSzlKLEVBQUUsVUFBVThILEVBQUV4SSxPQUFPYyxFQUFFRyxHQUFFLEdBQUl1SCxFQUFFc0IsS0FBSyxHQUFHL04sSUFBSXlNLEVBQUVpQyxLQUFJLEVBQXYzTyxTQUFXL0osRUFBRUMsR0FBRyxJQUFJQyxFQUFFQyxFQUFFQyxFQUFFQyxFQUFFQyxFQUFFTixFQUFFZ0sscUJBQXFCLFVBQVUsSUFBSTlKLEVBQUUsRUFBRUMsRUFBRUcsRUFBRXBHLE9BQVNnRyxFQUFGQyxFQUFJRCxLQUFJRSxFQUFFRSxFQUFFSixJQUFLOEIsRUFBRW9FLEtBQUksR0FBRy9GLEVBQUVELEVBQUVvQyxhQUFhLFlBQWF2QyxFQUFFRixLQUFLLENBQUNULE9BQU9lLEVBQUVxSCxNQUFNdEgsRUFBRW9DLGFBQWEsU0FBU21ILEtBQUt2SixFQUFFb0MsYUFBYSxRQUFRZixNQUFNckIsRUFBRW9DLGFBQWEsV0FBZ3BPdUYsQ0FBRTlILEVBQUU2SCxFQUFFc0IsT0FBT3RCLEVBQUV4SSxRQUFRZSxFQUFFLENBQUNmLE9BQU93SSxFQUFFeEksT0FBT21DLE1BQU1jLEVBQUV1SCxLQUFLOUosRUFBRSxVQUFVOEgsRUFBRXNCLEtBQUtySixLQUFLTSxJQUFHQyxHQUFHOEIsR0FBRzBGLEVBQUV6SSxNQUFNaUUsRUFBRTNDLEtBQUttSCxFQUFFeEksUUFBUSxPQUFRd0ksRUFBRXpJLEtBQUswQyxFQUFFK0YsRUFBRXpJLElBQUlnQixJQUFJQSxFQUFFOEgsUUFBUTlILEVBQUVmLFFBQVEsS0FBS3dJLEVBQUV6SSxJQUFJZ0IsRUFBRXNILE1BQU01SCxLQUFLLENBQUM3RCxJQUFJNEwsRUFBRXpJLElBQUljLEVBQUUsRUFBRWlJLElBQUkvSCxNQUFNeUgsRUFBRXpJLEtBQUt5SSxFQUFFc0IsS0FBS3JKLEtBQUssQ0FBQ1QsT0FBT3dJLEVBQUV6SSxJQUFJb0MsTUFBTSxPQUFPcUcsRUFBRXFCLE9BQU8sS0FBS3JCLEVBQUVvQixPQUFPaEosRUFBRTRILEVBQUVtQyxZQUFZNU8sR0FBR2dGLElBQUkyQixFQUFFd0UsV0FBV2xHLElBQUkwQixFQUFFeUUsVUFBVWxHLEdBQUd5QixFQUFFd0UsWUFBWXNCLEVBQUVtQyxZQUFZN0osR0FBR3FDLEVBQUVxSCxLQUFLOUosRUFBRWtELEVBQUU5QyxHQUFHSixFQUFFVixPQUFPLElBQUlvRCxFQUFFb0gsS0FBSzlKLEVBQUVrRCxJQUFJNEUsRUFBRW1DLFlBQVluQyxFQUFFeEksVUFBVXdJLEVBQUV6SSxLQUFLVyxFQUFFWCxLQUFLVyxFQUFFWCxNQUFNMkMsRUFBRUUsUUFBUTRGLEVBQUV6SSxRQUFRLE9BQU95SSxFQUFFekksSUFBSVcsRUFBRTJDLGdCQUFnQixPQUFPM0MsRUFBRVgsSUFBSXlJLEVBQUV6SSxLQUFLeUksRUFBRW9DLFFBQU8sR0FBSWxJLEVBQUUrRCxRQUFRLFNBQVMvRixFQUFFQyxHQUFHLElBQUlDLEVBQTUyUUYsRUFBT0MsRUFBRUMsRUFBY0MsRUFBdTFRQSxFQUFFRixFQUFFMEYsVUFBVTFGLEVBQUV5RixXQUFXMUYsRUFBRWdDLEVBQUVvRSxNQUFNcEcsRUFBRWdDLEVBQUVvRSxJQUFJLElBQUlsRyxFQUFFRixFQUFFZ0MsRUFBRW9FLEtBQUtqRyxHQUFHRCxFQUFFaUssU0FBU3ZQLE9BQU9zRixFQUFFZ0ssUUFBUWpLLEVBQUV5RixhQUFhMUQsRUFBRTZILFVBQVU3SixFQUFFQSxFQUFFZSxXQUFXZCxHQUFHQyxFQUFFK0osVUFBVS9KLEVBQUVpSyxPQUFPdlAsR0FBM2dSb0YsRUFBK2dSQSxFQUF0Z1JFLEVBQUU4QixFQUFFNEgsT0FBTzVKLEdBQUdHLEdBQUUsRUFBRyxZQUFZRCxJQUFJQyxFQUFFdkYsRUFBRXNGLElBQUlELEVBQUUrQixFQUFFZ0gsT0FBTzlJLEdBQUc4QixFQUFFaUgsa0JBQWtCaEosRUFBRUQsS0FBS0EsRUFBRWdDLEVBQUVvRSxJQUFJK0QsT0FBT2hLLEtBQXc2UTZCLEVBQUU4RCxTQUFTLGFBQWExQixHQUFHVCxHQUFHRyxJQUFJOUQsRUFBRStELG9CQUFwOVJKLEdBQUUsRUFBR0csRUFBRTlELEVBQUUrRCxpQkFBaUJILEVBQUUsR0FBR0MsRUFBRSxHQUFHN0IsRUFBRStFLElBQUlqRCxHQUFHLEVBQUVFLEVBQUUyQyxNQUFNNEMsS0FBS2EsSUFBSXBLLEVBQUVxSyxZQUFZLEVBQUV6SCxFQUFFMEgsYUFBYXRHLEVBQUV1RyxPQUFPaEIsS0FBS2EsSUFBSXBLLEVBQUV3SyxhQUFhLEVBQUU1SCxFQUFFNkgsY0FBY3pHLEVBQUUwRyxHQUFHMUcsRUFBRTJDLE1BQU0sSUFBSTNDLEVBQUUyRyxHQUFHM0csRUFBRXVHLE9BQU8sSUFBSTNQLEVBQUUsQ0FBQ29KLEVBQUV1RyxPQUFPdkcsRUFBRTJDLE1BQU03QyxHQUFHaUYsS0FBSyxLQUFLL0UsRUFBRTRHLEdBQUc1SSxFQUFFd0csYUFBYXhFLEVBQUU2RyxJQUFJN0csRUFBRTRHLEtBQTB2UjVJLEVBQUUwRSxZQUFZckIsR0FBRy9DLEVBQUVOLEVBQUUrRCxRQUFRekQsSUFBcUJuQyxFQUFFSCxFQUFFNEUsWUFBWSxRQUFRLFdBQVd4RSxFQUFFLFNBQUZBLElBQWEsSUFBSUosRUFBRUMsRUFBRTRCLFlBQVksR0FBR3hCLEVBQUVnQixXQUFXakIsRUFBRSxZQUFZSixFQUFFLElBQUksS0FBS0MsRUFBRXdJLE9BQU96RyxFQUFFOEksWUFBVzVLLEVBQUVBLEdBQUdDLEVBQUVRLEtBQUtYLEtBQU0yQixhQUFhdEIsS0FBS0EsRUFBRWdCLFdBQVdqQixFQUFFSCxFQUFFd0ksS0FBSyxFQUFFLElBQXNKbEksRUFBRXFDLEVBQUU2SCxhQUFvSTlGLEdBQUUzRSxFQUFFLFVBQW5SQSxFQUEwSixXQUFXMkQsRUFBRTRGLEtBQUthLElBQUlwSyxFQUFFcUssWUFBWSxFQUFFekgsRUFBRTBILGVBQWV0RyxFQUFFMkMsT0FBTy9ELEVBQUU2SCxlQUFlbEssRUFBRUEsRUFBRXFDLEVBQUU2SCxhQUFhOUcsR0FBRzNCLEVBQUU4SSxZQUFqUTdLLEVBQThSLEdBQW5SRyxFQUFFLFNBQUZBLElBQWEsSUFBSUMsRUFBRSxJQUFJZ0csS0FBS2xHLEVBQUlFLEVBQUZKLEVBQUlDLEVBQUVtQixXQUFXakIsRUFBRUgsRUFBRUksSUFBSUgsRUFBRSxLQUFLRixNQUFhLFdBQVdHLEVBQUUsSUFBSWtHLEtBQUtuRyxJQUFJQSxFQUFFbUIsV0FBV2pCLEVBQUVILE9BQW9LMEUsR0FBRTFFLEVBQUUsbUJBQW1CRyxJQUFNNEIsRUFBRStJLFlBQVkxRixHQUFHckQsRUFBRThJLFNBQVN6RixHQUFHckQsRUFBRWdFLFlBQVkxRCxFQUFFK0MsR0FBR1AsRUFBRTlDLEVBQUVoQyxFQUFFeUQsZUFBZSxDQUFDdUgsR0FBR2hKLEVBQUVqQyxLQUFLLFNBQVNDLEdBQUcsSUFBSUMsRUFBRUQsRUFBRWlMLFFBQVEsbUJBQW1CakosRUFBRS9CLEdBQUcrQixFQUFFL0IsR0FBR29ILE1BQU1yRixFQUFFaEMsSUFBSStDLEVBQUU5QyxHQUFHRCxFQUFFLEdBQUdvRSxHQUFHcEMsRUFBRThJLFNBQVMsQ0FBQ25GLFVBQVMsT0FBUSxLQUFLbkMsR0FBR0EsRUFBRXRKLFFBQVE4RixFQUFFeUQsZUFBZTFELEtBQUt5RCxFQUFFeUgsU0FBU2pMLEVBQUUrSyxZQUFZMUYsR0FBRyxXQUFBLG9CQUFpQjZGLE9BQWpCLFlBQUFDLFFBQWlCRCxVQUFRLFVBQUFDLFFBQWlCRCxPQUFPRSxTQUFRRixPQUFPRSxRQUFRL0YsR0FBRyxtQkFBbUJnRyxRQUFRQSxPQUFPQyxLQUFLRCxPQUFPLGNBQWMsV0FBVyxPQUFPaEcsS0FBS3JELEVBQUUwRSxhQUFhNUQsRUFBRSxlQUE3bVU3QyxFQUE2blUsYUFBM25VQyxFQUF3b1UsMklBQWpvVUMsRUFBRSxJQUFJSCxFQUFFdUwsT0FBZTFFLFFBQVEsV0FBVy9ELEVBQUU3QyxJQUFHLEVBQUdvRixNQUFNbEYsRUFBRXlHLE9BQU8sV0FBVzlELEVBQUU3QyxHQUFHLElBQUlFLEVBQUV3RyxNQUFNdEIsTUFBTWxGLEVBQUVkLElBQUlhLEVBQUUsWUFBL04sQ0FBazRVeEMsT0FBT2xCLFVDQTExVyxJQUFJbEQsZ0JBQUFBLEVBQ0E2QixTQUFBQSxFQUtKdUMsT0FBT0MsUUFBVSxXQUNmNk4sdUJBQXVCLFNBQUM5USxFQUFPcEIsR0FDekJvQixFQUNGa0MsUUFBUWxDLE1BQU1BLElBRWRtQyxLQUFLMUIsSUFBTSxJQUFJUSxPQUFPQyxLQUFLZ0MsSUFBSXBCLFNBQVNVLGVBQWUsT0FBUSxDQUM3RFcsS0FBTSxHQUNOQyxPQUFReEUsRUFBV3lDLE9BQ25Ca0MsYUFBYSxJQUVmekIsU0FBU1UsZUFBZSxPQUFPSyxhQUFhLE9BQVEsZUFFcERrTyxpQkFPQWxULFNBQVNvSCx1QkFBdUI5QyxLQUFLdkQsV0FBWXVELEtBQUsxQixTQVM1RHFRLHVCQUF5QixTQUFDeFIsR0FDeEIsR0FBSTZDLEtBQUt2RCxXQUNQVSxFQUFTLEtBQU02QyxLQUFLdkQsZ0JBRHRCLENBSUEsSUFBTWtCLEVBQUtrUixtQkFBbUIsTUFDekJsUixFQUlIakMsU0FBU29ULG9CQUFvQm5SLEVBQUksU0FBQ0UsRUFBT3BCLElBQ3ZDdUQsS0FBS3ZELFdBQWFBLElBS2xCc1MscUJBQ0E1UixFQUFTLEtBQU1WLElBSmJzRCxRQUFRbEMsTUFBTUEsTUFObEJBLE1BQVEsMEJBQ1JWLEVBQVNVLE1BQU8sU0FrQnBCa1IsbUJBQXFCLFdBQWtDLElBQWpDdFMsRUFBaUMsRUFBQXlELFVBQUE3QyxhQUFBOEMsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQXBCRixLQUFLdkQsV0FDaEMyQyxFQUFPTyxTQUFTVSxlQUFlLG1CQUNyQ2pCLEVBQUtvQixVQUFZL0QsRUFBVzJDLEtBRVpPLFNBQVNVLGVBQWUsc0JBQ2hDRyxVQUFZL0QsRUFBV2lHLFFBRS9CLElBQU1OLEVBQVF6QyxTQUFTVSxlQUFlLGtCQUN0QytCLEVBQU1DLFVBQVksaUJBRWxCRCxFQUFNMUIsYUFBYSxhQUFjdEIsRUFBS29CLFVBQVUsZUFDaEQ0QixFQUFNMUIsYUFBYSxNQUFPdEIsRUFBS29CLFVBQVUsZUFFekM0QixFQUFNSSxJQUFNOUcsU0FBUzZHLHNCQUFzQjlGLEdBRTNCa0QsU0FBU1UsZUFBZSxzQkFDaENHLFVBQVkvRCxFQUFXMEIsYUFHM0IxQixFQUFXdVMsaUJBQ2JDLDBCQUdGQyxtQkFPRkQsd0JBQTBCLFdBQXNELElBQXJERSxFQUFxRCxFQUFBalAsVUFBQTdDLGFBQUE4QyxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBcENGLEtBQUt2RCxXQUFXdVMsZ0JBQ3BESSxFQUFRelAsU0FBU1UsZUFBZSxvQkFDdEMsSUFBSyxJQUFJZ1AsS0FBT0YsRUFBZ0IsQ0FDOUIsSUFBTUcsRUFBTTNQLFNBQVNZLGNBQWMsTUFFN0JnUCxFQUFNNVAsU0FBU1ksY0FBYyxNQUNuQ2dQLEVBQUkvTyxVQUFZNk8sRUFDaEJFLEVBQUkxRCxNQUFNMkQsTUFBTSxVQUNoQkYsRUFBSXZELFlBQVl3RCxHQUVoQixJQUFNRSxFQUFPOVAsU0FBU1ksY0FBYyxNQUNwQ2tQLEVBQUtqUCxVQUFZMk8sRUFBZUUsR0FDaENJLEVBQUs1RCxNQUFNMkQsTUFBTSxVQUVqQkYsRUFBSXZELFlBQVkwRCxHQUVoQkwsRUFBTXJELFlBQVl1RCxLQVF0QkosZ0JBQWtCLFdBQXVDLElBQXRDUSxFQUFzQyxFQUFBeFAsVUFBQTdDLGFBQUE4QyxJQUFBRCxVQUFBLEdBQUFBLFVBQUEsR0FBNUJGLEtBQUt2RCxXQUFXaVQsUUFDckNDLEVBQVloUSxTQUFTVSxlQUFlLHFCQUNwQ2xCLEVBQVFRLFNBQVNZLGNBQWMsTUFJckMsR0FIQXBCLEVBQU1xQixVQUFZLFVBQ2xCbVAsRUFBVTVELFlBQVk1TSxJQUVqQnVRLEVBQVMsQ0FDWixJQUFNRSxFQUFZalEsU0FBU1ksY0FBYyxLQUd6QyxPQUZBcVAsRUFBVXBQLFVBQVksdUJBQ3RCbVAsRUFBVTVELFlBQVk2RCxHQUd4QixJQUFNNU4sRUFBS3JDLFNBQVNVLGVBQWUsZ0JBQ25DcVAsRUFBUWxULFFBQVEsU0FBQ3FULEdBQ2Y3TixFQUFHK0osWUFBWStELGlCQUFpQkQsTUFFbENGLEVBQVU1RCxZQUFZL0osSUFPeEI4TixpQkFBbUIsU0FBQ0QsR0FDaEIsSUFBTTFOLEVBQUt4QyxTQUFTWSxjQUFjLE1BQzVCd1AsRUFBZXBRLFNBQVNZLGNBQWMsT0FDNUN3UCxFQUFhMU4sVUFBWSxnQkFDekJGLEVBQUc0SixZQUFZZ0UsR0FFZixJQUFNM1EsRUFBT08sU0FBU1ksY0FBYyxNQUNwQ25CLEVBQUtvQixVQUFZcVAsRUFBT3pRLEtBQ3hCQSxFQUFLaUQsVUFBWSxnQkFDakJqRCxFQUFLc0IsYUFBYSxPQUFRLFVBQzFCdEIsRUFBS3NCLGFBQWEsV0FBWSxLQUM5QnFQLEVBQWFoRSxZQUFZM00sR0FFekIsSUFBTTRRLEVBQU9yUSxTQUFTWSxjQUFjLFFBQ3BDeVAsRUFBS3hQLFVBQVlxUCxFQUFPRyxLQUN4QkEsRUFBSzNOLFVBQVksY0FDakIyTixFQUFLdFAsYUFBYSxXQUFZLEtBQzlCcVAsRUFBYWhFLFlBQVlpRSxHQUV6QixJQUFNQyxFQUFnQnRRLFNBQVNZLGNBQWMsT0FDN0MwUCxFQUFjNU4sVUFBWSxpQkFDMUJGLEVBQUc0SixZQUFZa0UsR0FFZixJQUFNQyxFQUFTdlEsU0FBU1ksY0FBYyxPQUN0QzJQLEVBQU8xUCxVQUFQLFdBQThCcVAsRUFBT0ssT0FDckNBLEVBQU83TixVQUFZLFNBQ25CNk4sRUFBT3hQLGFBQWEsV0FBWSxLQUNoQ3VQLEVBQWNsRSxZQUFZbUUsR0FFMUIsSUFBTUMsRUFBV3hRLFNBQVNZLGNBQWMsS0FLeEMsT0FKQTRQLEVBQVMzUCxVQUFZcVAsRUFBT00sU0FDNUJBLEVBQVN6UCxhQUFhLFdBQVksS0FDbEN1UCxFQUFjbEUsWUFBWW9FLEdBRW5CaE8sR0FRWHlNLGVBQWlCLFdBQWdDLElBQS9CblMsRUFBK0IsRUFBQXlELFVBQUE3QyxhQUFBOEMsSUFBQUQsVUFBQSxHQUFBQSxVQUFBLEdBQXBCRixLQUFLdkQsV0FDMUIyVCxFQUFhelEsU0FBU1UsZUFBZSxjQUNyQzhCLEVBQUt4QyxTQUFTWSxjQUFjLE1BQ2xDNEIsRUFBRzNCLFVBQVkvRCxFQUFXMkMsS0FDMUIrQyxFQUFHekIsYUFBYSxlQUFnQmpFLEVBQVcyQyxNQUMzQ2dSLEVBQVdyRSxZQUFZNUosSUFPekIwTSxtQkFBcUIsU0FBQ3pQLEVBQU1DLEdBQ3JCQSxJQUNQQSxFQUFNd0IsT0FBT29DLFNBQVNMLE1BRXBCeEQsRUFBT0EsRUFBSzhJLFFBQVEsVUFBVyxRQUMvQixJQUNNakssRUFEUSxJQUFJK0YsT0FBSixPQUFrQjVFLEVBQWxCLHFCQUNRMkwsS0FBSzFMLEdBQzNCLE9BQUtwQixFQUdBQSxFQUFRLEdBR05vUyxtQkFBbUJwUyxFQUFRLEdBQUdpSyxRQUFRLE1BQU8sTUFGL0MsR0FIQSxNQzFMTixXQUNDLElBQUlvSSxFQUFlQyxNQUFNQyxVQUFVQyxPQUMvQjdNLEVBQVlELFVBQVVDLFVBQVVHLE1BQU0sNkJBRzFDLEdBQUlILEVBQ0YsSUFBSThNLEVBQVE5TSxFQUFVLEdBQ2xCK00sRUFBVXZGLFNBQVN4SCxFQUFVLElBSWpDME0sS0FBa0IxTSxHQUNMLFlBQVY4TSxHQUFrQyxJQUFYQyxHQUNiLFdBQVZELEdBQWtDLElBQVhDLEtBTTVCSixNQUFNQyxVQUFVQyxPQUFTLFNBQWdCRyxHQUN2QyxJQUFJQyxFQUFRcEcsS0FHWixTQUFTcUcsRUFBYUMsR0FDcEJ0RyxLQUFLckwsS0FBTyxlQUNacUwsS0FBS3VHLEtBQU8sR0FDWnZHLEtBQUtzRyxRQUFVQSxFQUtqQixPQUZBRCxFQUFhTixVQUFZUyxPQUFPQyxPQUFPQyxNQUFNWCxXQUV0Q2xULFFBQVFDLFVBQVVyQixLQUFLLFdBQzVCLEdBQUlnRSxVQUFVN0MsT0FBUyxFQUFHLE1BQU0sSUFBSStULFVBY3BDLE9BVEFSLEVBQVdBLEVBQVN0UyxJQUFJLFNBQVMrUyxHQUMvQixPQUFJQSxhQUFtQkMsUUFDZEQsRUFHQUUsT0FBT0YsS0FJWC9ULFFBQVFrVSxJQUNiWixFQUFTdFMsSUFBSSxTQUFTK1MsR0FDRyxpQkFBWkEsSUFDVEEsRUFBVSxJQUFJQyxRQUFRRCxJQUd4QixJQUFJSSxFQUFTLElBQUlDLElBQUlMLEVBQVFoUyxLQUFLc1MsU0FFbEMsR0FBZSxVQUFYRixHQUFpQyxXQUFYQSxFQUN4QixNQUFNLElBQUlYLEVBQWEsa0JBR3pCLE9BQU9qVSxNQUFNd1UsRUFBUU8sY0FHeEIxVixLQUFLLFNBQVMyVixHQUdmLEdBQUlBLEVBQVVDLEtBQUssU0FBUy9VLEdBQzFCLE9BQVFBLEVBQVNnVixLQUVqQixNQUFNLElBQUlqQixFQUFhLDZCQUt6QixPQUFPeFQsUUFBUWtVLElBQ2JLLEVBQVV2VCxJQUFJLFNBQVN2QixFQUFVeUIsR0FDL0IsT0FBT3FTLEVBQU1uVSxJQUFJa1UsRUFBU3BTLEdBQUl6QixRQUdqQ2IsS0FBSyxlQUtWcVUsTUFBTUMsVUFBVXdCLElBQU0sU0FBYVgsR0FDakMsT0FBTzVHLEtBQUtnRyxPQUFPLENBQUNZLE1BbkZ2QiIsImZpbGUiOiJhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgXCJyZXF1aXJlLWpzZG9jXCI6IFtcImVycm9yXCIsIHtcbiAgICBcInJlcXVpcmVcIjoge1xuICAgICAgICBcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIjogdHJ1ZSxcbiAgICAgICAgXCJNZXRob2REZWZpbml0aW9uXCI6IGZhbHNlLFxuICAgICAgICBcIkNsYXNzRGVjbGFyYXRpb25cIjogZmFsc2UsXG4gICAgICAgIFwiQXJyb3dGdW5jdGlvbkV4cHJlc3Npb25cIjogZmFsc2UsXG4gICAgICAgIFwiRnVuY3Rpb25FeHByZXNzaW9uXCI6IGZhbHNlXG4gICAgfVxufV0qL1xuLyogZXNsaW50IHZhbGlkLWpzZG9jOiBcImVycm9yXCIqL1xuLyogZXNsaW50IG1heC1sZW46IFtcImVycm9yXCIsIHsgXCJjb2RlXCI6IDEwMCB9XSovXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFtcImVycm9yXCIsIHsgXCJ2YXJzXCI6IFwibG9jYWxcIiB9XSovXG4vLyBpbXBvcnQgaWRiIGZyb20gXCJpZGJcIjtcblxuLyoqXG4gKiBDb21tb24gZGF0YWJhc2UgaGVscGVyIGZ1bmN0aW9ucy5cbiAqL1xubGV0IGRicHJvbWlzZTtcbmNsYXNzIERCSGVscGVyIHtcbiAgLyoqXG4gICAqIERhdGFiYXNlIFVSTC5cbiAgICogQ2hhbmdlIHRoaXMgdG8gcmVzdGF1cmFudHMuanNvbiBmaWxlIGxvY2F0aW9uIG9uIHlvdXIgc2VydmVyLlxuICAgKi9cbiAgc3RhdGljIGdldCBEQVRBQkFTRV9VUkwoKSB7XG4gICAgLyoqXG4gICAgKiBjb25zdCBwb3J0ID0gODAwMCAvLyBDaGFuZ2UgdGhpcyB0byB5b3VyIHNlcnZlciBwb3J0XG4gICAgKiByZXR1cm4gYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fS9kYXRhL3Jlc3RhdXJhbnRzLmpzb25gO1xuICAgICovXG4gICAgY29uc3QgcG9ydCA9IDEzMzc7IC8vIENoYW5nZSB0aGlzIHRvIHlvdXIgc2VydmVyIHBvcnRcbiAgICByZXR1cm4gYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fS9yZXN0YXVyYW50c2A7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIERhdGFiYXNlXG4gICAqL1xuXG4gIHN0YXRpYyBvcGVuRGF0YWJhc2UoKSB7XG4gICAgLy8gaWYgKCFuYXZpZ2F0b3Iuc2VydmljZVdvcmtlcil7XG4gICAgLy8gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAvLyB9XG5cbiAgICByZXR1cm4gaWRiLm9wZW4oJ3Jlc3RhdXJhbnREYicsIDEsIGZ1bmN0aW9uKHVwZ3JhZGVEYikge1xuICAgICAgdXBncmFkZURiLmNyZWF0ZU9iamVjdFN0b3JlKCdyZXN0YXVyYW50RGInLCB7XG4gICAgICAgIGtleVBhdGg6ICdpZCd9KTtcbiAgICAgIC8vIHN0b3JlLmNyZWF0ZUluZGV4KCdieS1pZCcsJ2lkJyk7XG4gICAgfSk7XG4gIH1cbiAgLypcbiAgKlNhdmluZyBvbiBkYXRhYmFzZVxuICAqL1xuICBzdGF0aWMgc2F2ZURhdGFiYXNlKGRhdGEpIHtcbiAgICByZXR1cm4gREJIZWxwZXIub3BlbkRhdGFiYXNlKCkudGhlbihmdW5jdGlvbihkYikge1xuICAgICAgaWYgKCFkYikgcmV0dXJuO1xuICAgICAgbGV0IHR4ID0gZGIudHJhbnNhY3Rpb24oJ3Jlc3RhdXJhbnREYicsICdyZWFkd3JpdGUnKTtcbiAgICAgIGxldCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdyZXN0YXVyYW50RGInKTtcbiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihyZXN0YXVyYW50KSB7XG4gICAgICAgIHN0b3JlLnB1dChyZXN0YXVyYW50KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHR4LmNvbXBsZXRlO1xuICAgIH0pO1xuICB9XG5cbiAgLypcbiAgKkdldHRpbmcgZGF0YSBmcm9tIERCXG4gICovXG4gIHN0YXRpYyBnZXRDYWNoZWREYigpIHtcbiAgICBkYnByb21pc2UgPSBEQkhlbHBlci5vcGVuRGF0YWJhc2UoKTtcbiAgICByZXR1cm4gZGJwcm9taXNlLnRoZW4oZnVuY3Rpb24oZGIpIHtcbiAgICAgIGlmICghZGIpIHJldHVybjtcbiAgICAgIGxldCB0eCA9IGRiLnRyYW5zYWN0aW9uKCdyZXN0YXVyYW50RGInKTtcbiAgICAgIGxldCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCdyZXN0YXVyYW50RGInKTtcbiAgICAgIHJldHVybiBzdG9yZS5nZXRBbGwoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tQXBpKCkge1xuICAgIHJldHVybiBmZXRjaChEQkhlbHBlci5EQVRBQkFTRV9VUkwpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkudGhlbigocmVzdGF1cmFudHMpID0+IHtcbiAgICAgICAgREJIZWxwZXIuc2F2ZURhdGFiYXNlKHJlc3RhdXJhbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3RhdXJhbnRzO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYWxsIHJlc3RhdXJhbnRzLlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50cyhjYWxsYmFjaykge1xuICAgIC8qKiBzdGFnZTFcbiAgICAqbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICp4aHIub3BlbignR0VUJywgREJIZWxwZXIuREFUQUJBU0VfVVJMKTtcbiAgICAqeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAqICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7IC8vIEdvdCBhIHN1Y2Nlc3MgcmVzcG9uc2UgZnJvbSBzZXJ2ZXIhXG4gICAgKiAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAqICAgIGNvbnN0IHJlc3RhdXJhbnRzID0ganNvbi5yZXN0YXVyYW50cztcbiAgICAqICAgIGNhbGxiYWNrKG51bGwsIHJlc3RhdXJhbnRzKTtcbiAgICAqICB9IGVsc2UgeyAvLyBPb3BzIS4gR290IGFuIGVycm9yIGZyb20gc2VydmVyLlxuICAgICogICAgY29uc3QgZXJyb3IgPSAoYFJlcXVlc3QgZmFpbGVkLiBSZXR1cm5lZCBzdGF0dXMgb2YgJHt4aHIuc3RhdHVzfWApO1xuICAgICogICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICogIH1cbiAgICAqfTtcbiAgICAqeGhyLnNlbmQoKTtcbiAgICAqKi9cblxuICAgLyoqIFRlc3RpbmcgZmV0Y2ggZnJvbSBkdW1teSBzZXJ2ZXJcbiAgICAqZmV0Y2goREJIZWxwZXIuREFUQUJBU0VfVVJMKVxuICAgICogIC50aGVuKHJlc3BvbmQgPT4ge1xuICAgICogICAgaWYgKCFyZXNwb25kLm9rKXtcbiAgICAqICAgICAgdGhyb3cgXCJVbmFibGUgdG8gZmV0Y2ggZnJvbSBzZXJ2ZXIhXCI7XG4gICAgKiAgICB9XG4gICAgKiAgICByZXR1cm4gcmVzcG9uZC5qc29uKCk7XG4gICAgKiAgfSlcbiAgICAqICAudGhlbihyZXN0YXVyYW50cyA9PiBjYWxsYmFjayhudWxsLCByZXN0YXVyYW50cykpXG4gICAgKiAgLmNhdGNoKGUgPT4gY2FsbGJhY2soZSxudWxsKSlcbiAgICAqKi9cblxuICAgIHJldHVybiBEQkhlbHBlci5nZXRDYWNoZWREYigpLnRoZW4oKHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICBpZiAocmVzdGF1cmFudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdGF1cmFudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIERCSGVscGVyLmZyb21BcGkoKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKChyZXN0YXVyYW50cykgPT4ge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN0YXVyYW50cyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcikgPT4ge1xuICAgICAgICBjYWxsYmFjayhlciwgbnVsbCk7XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAvKipcbiAgICogRmV0Y2ggYSByZXN0YXVyYW50IGJ5IGl0cyBJRC5cbiAgICovXG5cbiAgc3RhdGljIGZldGNoUmVzdGF1cmFudEJ5SWQoaWQsIGNhbGxiYWNrKSB7XG4gICAgLy8gZmV0Y2ggYWxsIHJlc3RhdXJhbnRzIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlc3RhdXJhbnQgPSByZXN0YXVyYW50cy5maW5kKChyKSA9PiByLmlkID09IGlkKTtcbiAgICAgICAgaWYgKHJlc3RhdXJhbnQpIHsgLy8gR290IHRoZSByZXN0YXVyYW50XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdGF1cmFudCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIFJlc3RhdXJhbnQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGRhdGFiYXNlXG4gICAgICAgICAgY2FsbGJhY2soJ1Jlc3RhdXJhbnQgZG9lcyBub3QgZXhpc3QnLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSB0eXBlIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlDdWlzaW5lKGN1aXNpbmUsIGNhbGxiYWNrKSB7XG4gICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzICB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZ1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZpbHRlciByZXN0YXVyYW50cyB0byBoYXZlIG9ubHkgZ2l2ZW4gY3Vpc2luZSB0eXBlXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSByZXN0YXVyYW50cy5maWx0ZXIoKHIpID0+IHIuY3Vpc2luZV90eXBlID09IGN1aXNpbmUpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCByZXN0YXVyYW50cyBieSBhIG5laWdoYm9yaG9vZCB3aXRoIHByb3BlciBlcnJvciBoYW5kbGluZy5cbiAgICovXG5cbiAgc3RhdGljIGZldGNoUmVzdGF1cmFudEJ5TmVpZ2hib3Job29kKG5laWdoYm9yaG9vZCwgY2FsbGJhY2spIHtcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaWx0ZXIgcmVzdGF1cmFudHMgdG8gaGF2ZSBvbmx5IGdpdmVuIG5laWdoYm9yaG9vZFxuICAgICAgICBjb25zdCByZXN1bHRzID0gcmVzdGF1cmFudHMuZmlsdGVyKChyKSA9PiByLm5laWdoYm9yaG9vZCA9PSBuZWlnaGJvcmhvb2QpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCByZXN0YXVyYW50cyBieSBhIGN1aXNpbmUgYW5kIGEgbmVpZ2hib3Job29kIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlDdWlzaW5lQW5kTmVpZ2hib3Job29kKGN1aXNpbmUsIG5laWdoYm9yaG9vZCwgY2FsbGJhY2spIHtcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcmVzdWx0cyA9IHJlc3RhdXJhbnRzO1xuICAgICAgICBpZiAoY3Vpc2luZSAhPSAnYWxsJykgeyAvLyBmaWx0ZXIgYnkgY3Vpc2luZVxuICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigocikgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5laWdoYm9yaG9vZCAhPSAnYWxsJykgeyAvLyBmaWx0ZXIgYnkgbmVpZ2hib3Job29kXG4gICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiByLm5laWdoYm9yaG9vZCA9PSBuZWlnaGJvcmhvb2QpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGFsbCBuZWlnaGJvcmhvb2RzIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hOZWlnaGJvcmhvb2RzKGNhbGxiYWNrKSB7XG4gICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG4gICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gR2V0IGFsbCBuZWlnaGJvcmhvb2RzIGZyb20gYWxsIHJlc3RhdXJhbnRzXG4gICAgICAgIGNvbnN0IG5laWdoYm9yaG9vZHMgPSByZXN0YXVyYW50cy5tYXAoKHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLm5laWdoYm9yaG9vZCk7XG4gICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gbmVpZ2hib3Job29kc1xuICAgICAgICBjb25zdCB1bmlxdWVOZWlnaGJvcmhvb2RzID0gbmVpZ2hib3Job29kcy5maWx0ZXIoKHYsIGkpID0+IG5laWdoYm9yaG9vZHMuaW5kZXhPZih2KSA9PSBpKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgdW5pcXVlTmVpZ2hib3Job29kcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYWxsIGN1aXNpbmVzIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hDdWlzaW5lcyhjYWxsYmFjaykge1xuICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdldCBhbGwgY3Vpc2luZXMgZnJvbSBhbGwgcmVzdGF1cmFudHNcbiAgICAgICAgY29uc3QgY3Vpc2luZXMgPSByZXN0YXVyYW50cy5tYXAoKHYsIGkpID0+IHJlc3RhdXJhbnRzW2ldLmN1aXNpbmVfdHlwZSk7XG4gICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGZyb20gY3Vpc2luZXNcbiAgICAgICAgY29uc3QgdW5pcXVlQ3Vpc2luZXMgPSBjdWlzaW5lcy5maWx0ZXIoKHYsIGkpID0+IGN1aXNpbmVzLmluZGV4T2YodikgPT0gaSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHVuaXF1ZUN1aXNpbmVzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0YXVyYW50IHBhZ2UgVVJMLlxuICAgKi9cblxuICBzdGF0aWMgdXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KSB7XG4gICAgcmV0dXJuIChgLi9yZXN0YXVyYW50Lmh0bWw/aWQ9JHtyZXN0YXVyYW50LmlkfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RhdXJhbnQgaW1hZ2UgVVJMLlxuICAgKi9cblxuICBzdGF0aWMgaW1hZ2VVcmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpIHtcbiAgICAvLyByZXR1cm4gKGAvaW1nLyR7cmVzdGF1cmFudC5waG90b2dyYXBofWBcbiAgICByZXR1cm4gKGAvZGlzdC9pbWcvJHtyZXN0YXVyYW50LnBob3RvZ3JhcGh9LmpwZ2ApO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcCBtYXJrZXIgZm9yIGEgcmVzdGF1cmFudC5cbiAgICovXG5cbiAgc3RhdGljIG1hcE1hcmtlckZvclJlc3RhdXJhbnQocmVzdGF1cmFudCwgbWFwKSB7XG4gICAgY29uc3QgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICBwb3NpdGlvbjogcmVzdGF1cmFudC5sYXRsbmcsXG4gICAgICB0aXRsZTogcmVzdGF1cmFudC5uYW1lLFxuICAgICAgdXJsOiBEQkhlbHBlci51cmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpLFxuICAgICAgbWFwOiBtYXAsXG4gICAgICBhbmltYXRpb246IGdvb2dsZS5tYXBzLkFuaW1hdGlvbi5EUk9QfVxuICAgICk7XG4gICAgcmV0dXJuIG1hcmtlcjtcbiAgfVxufVxuIiwiLyogZXNsaW50IG1heC1sZW46IFtcImVycm9yXCIsIHsgXCJjb2RlXCI6IDEwMCB9XSovXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFtcImVycm9yXCIsIHsgXCJ2YXJzXCI6IFwibG9jYWxcIiB9XSovXG5cbmxldCByZXN0YXVyYW50cztcbmxldCBuZWlnaGJvcmhvb2RzO1xubGV0IGN1aXNpbmVzO1xudmFyIG1hcDtcbnZhciBtYXJrZXJzID0gW107XG5cbi8qKlxuICogRmV0Y2ggbmVpZ2hib3Job29kcyBhbmQgY3Vpc2luZXMgYXMgc29vbiBhcyB0aGUgcGFnZSBpcyBsb2FkZWQuXG4gKi9cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGZldGNoTmVpZ2hib3Job29kcygpO1xuICBmZXRjaEN1aXNpbmVzKCk7XG59KTtcblxuLyoqXG4gKiBGZXRjaCBhbGwgbmVpZ2hib3Job29kcyBhbmQgc2V0IHRoZWlyIEhUTUwuXG4gKi9cbmZldGNoTmVpZ2hib3Job29kcyA9ICgpID0+IHtcbiAgREJIZWxwZXIuZmV0Y2hOZWlnaGJvcmhvb2RzKChlcnJvciwgbmVpZ2hib3Job29kcykgPT4ge1xuICAgIGlmIChlcnJvciAhPSBudWxsKSB7IC8vIEdvdCBhbiBlcnJvclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYubmVpZ2hib3Job29kcyA9IG5laWdoYm9yaG9vZHM7XG4gICAgICBmaWxsTmVpZ2hib3Job29kc0hUTUwoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBTZXQgbmVpZ2hib3Job29kcyBIVE1MLlxuICovXG5cbmZpbGxOZWlnaGJvcmhvb2RzSFRNTCA9IChuZWlnaGJvcmhvb2RzID0gc2VsZi5uZWlnaGJvcmhvb2RzKSA9PiB7XG4gIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZWlnaGJvcmhvb2RzLXNlbGVjdCcpO1xuICBuZWlnaGJvcmhvb2RzLmZvckVhY2goKG5laWdoYm9yaG9vZCkgPT4ge1xuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIG9wdGlvbi5pbm5lckhUTUwgPSBuZWlnaGJvcmhvb2Q7XG4gICAgb3B0aW9uLnZhbHVlID0gbmVpZ2hib3Job29kO1xuICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBuZWlnaGJvcmhvb2QpO1xuICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb24pO1xuICAgIC8vIHNlbGVjdFswXS5zZXRBdHRyaWJ1dGUoJ2xhYmVsJyxzZWxlY3RbMF0uaW5uZXJIVE1MKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEZldGNoIGFsbCBjdWlzaW5lcyBhbmQgc2V0IHRoZWlyIEhUTUwuXG4gKi9cblxuZmV0Y2hDdWlzaW5lcyA9ICgpID0+IHtcbiAgREJIZWxwZXIuZmV0Y2hDdWlzaW5lcygoZXJyb3IsIGN1aXNpbmVzKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7IC8vIEdvdCBhbiBlcnJvciFcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmN1aXNpbmVzID0gY3Vpc2luZXM7XG4gICAgICBmaWxsQ3Vpc2luZXNIVE1MKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogU2V0IGN1aXNpbmVzIEhUTUwuXG4gKi9cblxuZmlsbEN1aXNpbmVzSFRNTCA9IChjdWlzaW5lcyA9IHNlbGYuY3Vpc2luZXMpID0+IHtcbiAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1aXNpbmVzLXNlbGVjdCcpO1xuXG4gIGN1aXNpbmVzLmZvckVhY2goKGN1aXNpbmUpID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBvcHRpb24uaW5uZXJIVE1MID0gY3Vpc2luZTtcbiAgICBvcHRpb24udmFsdWUgPSBjdWlzaW5lO1xuICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjdWlzaW5lKTtcbiAgICBvcHRpb24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ29wdGlvbicpO1xuICAgIHNlbGVjdC5hcHBlbmQob3B0aW9uKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgR29vZ2xlIG1hcCwgY2FsbGVkIGZyb20gSFRNTC5cbiAqL1xuXG53aW5kb3cuaW5pdE1hcCA9ICgpID0+IHtcbiAgbGV0IGxvYyA9IHtcbiAgICBsYXQ6IDQwLjcyMjIxNixcbiAgICBsbmc6IC03My45ODc1MDEsXG4gIH07XG5cbiAgc2VsZi5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuICAgIHpvb206IDEyLFxuICAgIGNlbnRlcjogbG9jLFxuICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcbiAgfSk7XG5cbiAgdXBkYXRlUmVzdGF1cmFudHMoKTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHBhZ2UgYW5kIG1hcCBmb3IgY3VycmVudCByZXN0YXVyYW50cy5cbiAqL1xuXG51cGRhdGVSZXN0YXVyYW50cyA9ICgpID0+IHtcbiAgY29uc3QgY1NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdWlzaW5lcy1zZWxlY3QnKTtcbiAgY29uc3QgblNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZWlnaGJvcmhvb2RzLXNlbGVjdCcpO1xuXG4gIGNvbnN0IGNJbmRleCA9IGNTZWxlY3Quc2VsZWN0ZWRJbmRleDtcbiAgY29uc3QgbkluZGV4ID0gblNlbGVjdC5zZWxlY3RlZEluZGV4O1xuXG4gIGNvbnN0IGN1aXNpbmUgPSBjU2VsZWN0W2NJbmRleF0udmFsdWU7XG5cbiAgLy8gY1NlbGVjdFswXS5zZXRBdHRyaWJ1dGUoJ2xhYmVsJyxjU2VsZWN0WzBdLmlubmVySFRNTCk7XG4gIGNvbnN0IG5laWdoYm9yaG9vZCA9IG5TZWxlY3RbbkluZGV4XS52YWx1ZTtcblxuICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmVBbmROZWlnaGJvcmhvb2QoY3Vpc2luZSwgbmVpZ2hib3Job29kLCAoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7IC8vIEdvdCBhbiBlcnJvciFcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNldFJlc3RhdXJhbnRzKHJlc3RhdXJhbnRzKTtcbiAgICAgIGZpbGxSZXN0YXVyYW50c0hUTUwoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDbGVhciBjdXJyZW50IHJlc3RhdXJhbnRzLCB0aGVpciBIVE1MIGFuZCByZW1vdmUgdGhlaXIgbWFwIG1hcmtlcnMuXG4gKi9cblxucmVzZXRSZXN0YXVyYW50cyA9IChyZXN0YXVyYW50cykgPT4ge1xuICAvLyBSZW1vdmUgYWxsIHJlc3RhdXJhbnRzXG4gIHNlbGYucmVzdGF1cmFudHMgPSBbXTtcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudHMtbGlzdCcpO1xuICB1bC5pbm5lckhUTUwgPSAnJztcblxuICAvLyBSZW1vdmUgYWxsIG1hcCBtYXJrZXJzXG4gIHNlbGYubWFya2Vycy5mb3JFYWNoKChtKSA9PiBtLnNldE1hcChudWxsKSk7XG4gIHNlbGYubWFya2VycyA9IFtdO1xuICBzZWxmLnJlc3RhdXJhbnRzID0gcmVzdGF1cmFudHM7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbGwgcmVzdGF1cmFudHMgSFRNTCBhbmQgYWRkIHRoZW0gdG8gdGhlIHdlYnBhZ2UuXG4gKi9cblxuZmlsbFJlc3RhdXJhbnRzSFRNTCA9IChyZXN0YXVyYW50cyA9IHNlbGYucmVzdGF1cmFudHMpID0+IHtcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudHMtbGlzdCcpO1xuICByZXN0YXVyYW50cy5mb3JFYWNoKChyZXN0YXVyYW50KSA9PiB7XG4gICAgdWwuYXBwZW5kKGNyZWF0ZVJlc3RhdXJhbnRIVE1MKHJlc3RhdXJhbnQpKTtcbiAgfSk7XG4gIGFkZE1hcmtlcnNUb01hcCgpO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgcmVzdGF1cmFudCBIVE1MLlxuICovXG5cbmNyZWF0ZVJlc3RhdXJhbnRIVE1MID0gKHJlc3RhdXJhbnQpID0+IHtcbiAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBsaS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbGlzdGl0ZW0nKTtcbiAgbGkuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG5cbiAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgaW1hZ2UuY2xhc3NOYW1lID0gJ3Jlc3RhdXJhbnQtaW1nJztcbiAgY29uc3QgaW1nVXJsQXJyYXkgPSBbREJIZWxwZXIuaW1hZ2VVcmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQsICdzbWFsbCcpLFxuICAgICAgICAgICAgICAgICAgICAgICBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCwgJ21lZGl1bScpLFxuICAgICAgICAgICAgICAgICAgICAgICBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCwgJ2xhcmdlJyldO1xuICBpbWFnZS5zcmMgPSBgJHtpbWdVcmxBcnJheVsxXX1gO1xuICBpbWFnZS5zcmNzZXQgPSBgJHtpbWdVcmxBcnJheVswXX0gNjIwdywgJHtpbWdVcmxBcnJheVsxXX0gODAwdywgJHtpbWdVcmxBcnJheVsyXX0gMTQ0MHdgO1xuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnaW1nJyk7XG4gIC8vaW1hZ2Uuc3JjID0gREJIZWxwZXIuaW1hZ2VVcmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpO1xuXG4gIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICBuYW1lLmlubmVySFRNTCA9IHJlc3RhdXJhbnQubmFtZTtcbiAgLyogdW5pcXVlIGFsdCBmb3IgdGhlIGltYWdlICovXG4gIGltYWdlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG5hbWUuaW5uZXJIVE1MKycgcmVzdGF1cmFudCcpO1xuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsIG5hbWUuaW5uZXJIVE1MKycgcmVzdGF1cmFudCcpO1xuXG4gIGxpLmFwcGVuZChpbWFnZSk7XG4gIGxpLmFwcGVuZChuYW1lKTtcblxuICBjb25zdCBuZWlnaGJvcmhvb2QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIG5laWdoYm9yaG9vZC5pbm5lckhUTUwgPSByZXN0YXVyYW50Lm5laWdoYm9yaG9vZDtcbiAgbGkuYXBwZW5kKG5laWdoYm9yaG9vZCk7XG5cbiAgY29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgYWRkcmVzcy5pbm5lckhUTUwgPSByZXN0YXVyYW50LmFkZHJlc3M7XG4gIGxpLmFwcGVuZChhZGRyZXNzKTtcblxuICBjb25zdCBtb3JlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBtb3JlLmlubmVySFRNTCA9ICdWaWV3IERldGFpbHMnO1xuICBtb3JlLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaW5rJyk7XG5cbiAgbW9yZS5ocmVmID0gREJIZWxwZXIudXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KTtcbiAgbGkuYXBwZW5kKG1vcmUpO1xuXG4gIHJldHVybiBsaTtcbn07XG5cbi8qKlxuICogQWRkIG1hcmtlcnMgZm9yIGN1cnJlbnQgcmVzdGF1cmFudHMgdG8gdGhlIG1hcC5cbiAqL1xuXG5hZGRNYXJrZXJzVG9NYXAgPSAocmVzdGF1cmFudHMgPSBzZWxmLnJlc3RhdXJhbnRzKSA9PiB7XG4gIHJlc3RhdXJhbnRzLmZvckVhY2goKHJlc3RhdXJhbnQpID0+IHtcbiAgICAvLyBBZGQgbWFya2VyIHRvIHRoZSBtYXBcbiAgICBjb25zdCBtYXJrZXIgPSBEQkhlbHBlci5tYXBNYXJrZXJGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQsIHNlbGYubWFwKTtcbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIsICdjbGljaycsICgpID0+IHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWFya2VyLnVybDtcbiAgICB9KTtcbiAgICBzZWxmLm1hcmtlcnMucHVzaChtYXJrZXIpO1xuICB9KTtcbn07XG4iLCIvKiEgcGljdHVyZWZpbGwgLSB2My4wLjIgLSAyMDE2LTAyLTEyXG4gKiBodHRwczovL3Njb3R0amVobC5naXRodWIuaW8vcGljdHVyZWZpbGwvXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDsgTGljZW5zZWQgTUlUXG4gKi9cbiFmdW5jdGlvbihhKXt2YXIgYj1uYXZpZ2F0b3IudXNlckFnZW50O2EuSFRNTFBpY3R1cmVFbGVtZW50JiYvZWNrby8udGVzdChiKSYmYi5tYXRjaCgvcnZcXDooXFxkKykvKSYmUmVnRXhwLiQxPDQ1JiZhZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXt2YXIgYixjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIiksZD1mdW5jdGlvbihhKXt2YXIgYixkLGU9YS5wYXJlbnROb2RlO1wiUElDVFVSRVwiPT09ZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPyhiPWMuY2xvbmVOb2RlKCksZS5pbnNlcnRCZWZvcmUoYixlLmZpcnN0RWxlbWVudENoaWxkKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZW1vdmVDaGlsZChiKX0pKTooIWEuX3BmTGFzdFNpemV8fGEub2Zmc2V0V2lkdGg+YS5fcGZMYXN0U2l6ZSkmJihhLl9wZkxhc3RTaXplPWEub2Zmc2V0V2lkdGgsZD1hLnNpemVzLGEuc2l6ZXMrPVwiLDEwMHZ3XCIsc2V0VGltZW91dChmdW5jdGlvbigpe2Euc2l6ZXM9ZH0pKX0sZT1mdW5jdGlvbigpe3ZhciBhLGI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInBpY3R1cmUgPiBpbWcsIGltZ1tzcmNzZXRdW3NpemVzXVwiKTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKWQoYlthXSl9LGY9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYiksYj1zZXRUaW1lb3V0KGUsOTkpfSxnPWEubWF0Y2hNZWRpYSYmbWF0Y2hNZWRpYShcIihvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSxoPWZ1bmN0aW9uKCl7ZigpLGcmJmcuYWRkTGlzdGVuZXImJmcuYWRkTGlzdGVuZXIoZil9O3JldHVybiBjLnNyY3NldD1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCIsL15bY3xpXXxkJC8udGVzdChkb2N1bWVudC5yZWFkeVN0YXRlfHxcIlwiKT9oKCk6ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixoKSxmfSgpKX0od2luZG93KSxmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhKXtyZXR1cm5cIiBcIj09PWF8fFwiXHRcIj09PWF8fFwiXFxuXCI9PT1hfHxcIlxcZlwiPT09YXx8XCJcXHJcIj09PWF9ZnVuY3Rpb24gZShiLGMpe3ZhciBkPW5ldyBhLkltYWdlO3JldHVybiBkLm9uZXJyb3I9ZnVuY3Rpb24oKXtBW2JdPSExLGJhKCl9LGQub25sb2FkPWZ1bmN0aW9uKCl7QVtiXT0xPT09ZC53aWR0aCxiYSgpfSxkLnNyYz1jLFwicGVuZGluZ1wifWZ1bmN0aW9uIGYoKXtNPSExLFA9YS5kZXZpY2VQaXhlbFJhdGlvLE49e30sTz17fSxzLkRQUj1QfHwxLFEud2lkdGg9TWF0aC5tYXgoYS5pbm5lcldpZHRofHwwLHouY2xpZW50V2lkdGgpLFEuaGVpZ2h0PU1hdGgubWF4KGEuaW5uZXJIZWlnaHR8fDAsei5jbGllbnRIZWlnaHQpLFEudnc9US53aWR0aC8xMDAsUS52aD1RLmhlaWdodC8xMDAscj1bUS5oZWlnaHQsUS53aWR0aCxQXS5qb2luKFwiLVwiKSxRLmVtPXMuZ2V0RW1WYWx1ZSgpLFEucmVtPVEuZW19ZnVuY3Rpb24gZyhhLGIsYyxkKXt2YXIgZSxmLGcsaDtyZXR1cm5cInNhdmVEYXRhXCI9PT1CLmFsZ29yaXRobT9hPjIuNz9oPWMrMTooZj1iLWMsZT1NYXRoLnBvdyhhLS42LDEuNSksZz1mKmUsZCYmKGcrPS4xKmUpLGg9YStnKTpoPWM+MT9NYXRoLnNxcnQoYSpiKTphLGg+Y31mdW5jdGlvbiBoKGEpe3ZhciBiLGM9cy5nZXRTZXQoYSksZD0hMTtcInBlbmRpbmdcIiE9PWMmJihkPXIsYyYmKGI9cy5zZXRSZXMoYykscy5hcHBseVNldENhbmRpZGF0ZShiLGEpKSksYVtzLm5zXS5ldmFsZWQ9ZH1mdW5jdGlvbiBpKGEsYil7cmV0dXJuIGEucmVzLWIucmVzfWZ1bmN0aW9uIGooYSxiLGMpe3ZhciBkO3JldHVybiFjJiZiJiYoYz1hW3MubnNdLnNldHMsYz1jJiZjW2MubGVuZ3RoLTFdKSxkPWsoYixjKSxkJiYoYj1zLm1ha2VVcmwoYiksYVtzLm5zXS5jdXJTcmM9YixhW3MubnNdLmN1ckNhbj1kLGQucmVzfHxhYShkLGQuc2V0LnNpemVzKSksZH1mdW5jdGlvbiBrKGEsYil7dmFyIGMsZCxlO2lmKGEmJmIpZm9yKGU9cy5wYXJzZVNldChiKSxhPXMubWFrZVVybChhKSxjPTA7YzxlLmxlbmd0aDtjKyspaWYoYT09PXMubWFrZVVybChlW2NdLnVybCkpe2Q9ZVtjXTticmVha31yZXR1cm4gZH1mdW5jdGlvbiBsKGEsYil7dmFyIGMsZCxlLGYsZz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic291cmNlXCIpO2ZvcihjPTAsZD1nLmxlbmd0aDtkPmM7YysrKWU9Z1tjXSxlW3MubnNdPSEwLGY9ZS5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIiksZiYmYi5wdXNoKHtzcmNzZXQ6ZixtZWRpYTplLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpLHR5cGU6ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLHNpemVzOmUuZ2V0QXR0cmlidXRlKFwic2l6ZXNcIil9KX1mdW5jdGlvbiBtKGEsYil7ZnVuY3Rpb24gYyhiKXt2YXIgYyxkPWIuZXhlYyhhLnN1YnN0cmluZyhtKSk7cmV0dXJuIGQ/KGM9ZFswXSxtKz1jLmxlbmd0aCxjKTp2b2lkIDB9ZnVuY3Rpb24gZSgpe3ZhciBhLGMsZCxlLGYsaSxqLGssbCxtPSExLG89e307Zm9yKGU9MDtlPGgubGVuZ3RoO2UrKylmPWhbZV0saT1mW2YubGVuZ3RoLTFdLGo9Zi5zdWJzdHJpbmcoMCxmLmxlbmd0aC0xKSxrPXBhcnNlSW50KGosMTApLGw9cGFyc2VGbG9hdChqKSxYLnRlc3QoaikmJlwid1wiPT09aT8oKGF8fGMpJiYobT0hMCksMD09PWs/bT0hMDphPWspOlkudGVzdChqKSYmXCJ4XCI9PT1pPygoYXx8Y3x8ZCkmJihtPSEwKSwwPmw/bT0hMDpjPWwpOlgudGVzdChqKSYmXCJoXCI9PT1pPygoZHx8YykmJihtPSEwKSwwPT09az9tPSEwOmQ9ayk6bT0hMDttfHwoby51cmw9ZyxhJiYoby53PWEpLGMmJihvLmQ9YyksZCYmKG8uaD1kKSxkfHxjfHxhfHwoby5kPTEpLDE9PT1vLmQmJihiLmhhczF4PSEwKSxvLnNldD1iLG4ucHVzaChvKSl9ZnVuY3Rpb24gZigpe2ZvcihjKFQpLGk9XCJcIixqPVwiaW4gZGVzY3JpcHRvclwiOzspe2lmKGs9YS5jaGFyQXQobSksXCJpbiBkZXNjcmlwdG9yXCI9PT1qKWlmKGQoaykpaSYmKGgucHVzaChpKSxpPVwiXCIsaj1cImFmdGVyIGRlc2NyaXB0b3JcIik7ZWxzZXtpZihcIixcIj09PWspcmV0dXJuIG0rPTEsaSYmaC5wdXNoKGkpLHZvaWQgZSgpO2lmKFwiKFwiPT09aylpKz1rLGo9XCJpbiBwYXJlbnNcIjtlbHNle2lmKFwiXCI9PT1rKXJldHVybiBpJiZoLnB1c2goaSksdm9pZCBlKCk7aSs9a319ZWxzZSBpZihcImluIHBhcmVuc1wiPT09ailpZihcIilcIj09PWspaSs9ayxqPVwiaW4gZGVzY3JpcHRvclwiO2Vsc2V7aWYoXCJcIj09PWspcmV0dXJuIGgucHVzaChpKSx2b2lkIGUoKTtpKz1rfWVsc2UgaWYoXCJhZnRlciBkZXNjcmlwdG9yXCI9PT1qKWlmKGQoaykpO2Vsc2V7aWYoXCJcIj09PWspcmV0dXJuIHZvaWQgZSgpO2o9XCJpbiBkZXNjcmlwdG9yXCIsbS09MX1tKz0xfX1mb3IodmFyIGcsaCxpLGosayxsPWEubGVuZ3RoLG09MCxuPVtdOzspe2lmKGMoVSksbT49bClyZXR1cm4gbjtnPWMoViksaD1bXSxcIixcIj09PWcuc2xpY2UoLTEpPyhnPWcucmVwbGFjZShXLFwiXCIpLGUoKSk6ZigpfX1mdW5jdGlvbiBuKGEpe2Z1bmN0aW9uIGIoYSl7ZnVuY3Rpb24gYigpe2YmJihnLnB1c2goZiksZj1cIlwiKX1mdW5jdGlvbiBjKCl7Z1swXSYmKGgucHVzaChnKSxnPVtdKX1mb3IodmFyIGUsZj1cIlwiLGc9W10saD1bXSxpPTAsaj0wLGs9ITE7Oyl7aWYoZT1hLmNoYXJBdChqKSxcIlwiPT09ZSlyZXR1cm4gYigpLGMoKSxoO2lmKGspe2lmKFwiKlwiPT09ZSYmXCIvXCI9PT1hW2orMV0pe2s9ITEsais9MixiKCk7Y29udGludWV9ais9MX1lbHNle2lmKGQoZSkpe2lmKGEuY2hhckF0KGotMSkmJmQoYS5jaGFyQXQoai0xKSl8fCFmKXtqKz0xO2NvbnRpbnVlfWlmKDA9PT1pKXtiKCksais9MTtjb250aW51ZX1lPVwiIFwifWVsc2UgaWYoXCIoXCI9PT1lKWkrPTE7ZWxzZSBpZihcIilcIj09PWUpaS09MTtlbHNle2lmKFwiLFwiPT09ZSl7YigpLGMoKSxqKz0xO2NvbnRpbnVlfWlmKFwiL1wiPT09ZSYmXCIqXCI9PT1hLmNoYXJBdChqKzEpKXtrPSEwLGorPTI7Y29udGludWV9fWYrPWUsais9MX19fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGsudGVzdChhKSYmcGFyc2VGbG9hdChhKT49MD8hMDpsLnRlc3QoYSk/ITA6XCIwXCI9PT1hfHxcIi0wXCI9PT1hfHxcIiswXCI9PT1hPyEwOiExfXZhciBlLGYsZyxoLGksaixrPS9eKD86WystXT9bMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/KD86Y2h8Y218ZW18ZXh8aW58bW18cGN8cHR8cHh8cmVtfHZofHZtaW58dm1heHx2dykkL2ksbD0vXmNhbGNcXCgoPzpbMC05YS16IFxcLlxcK1xcLVxcKlxcL1xcKFxcKV0rKVxcKSQvaTtmb3IoZj1iKGEpLGc9Zi5sZW5ndGgsZT0wO2c+ZTtlKyspaWYoaD1mW2VdLGk9aFtoLmxlbmd0aC0xXSxjKGkpKXtpZihqPWksaC5wb3AoKSwwPT09aC5sZW5ndGgpcmV0dXJuIGo7aWYoaD1oLmpvaW4oXCIgXCIpLHMubWF0Y2hlc01lZGlhKGgpKXJldHVybiBqfXJldHVyblwiMTAwdndcIn1iLmNyZWF0ZUVsZW1lbnQoXCJwaWN0dXJlXCIpO3ZhciBvLHAscSxyLHM9e30sdD0hMSx1PWZ1bmN0aW9uKCl7fSx2PWIuY3JlYXRlRWxlbWVudChcImltZ1wiKSx3PXYuZ2V0QXR0cmlidXRlLHg9di5zZXRBdHRyaWJ1dGUseT12LnJlbW92ZUF0dHJpYnV0ZSx6PWIuZG9jdW1lbnRFbGVtZW50LEE9e30sQj17YWxnb3JpdGhtOlwiXCJ9LEM9XCJkYXRhLXBmc3JjXCIsRD1DK1wic2V0XCIsRT1uYXZpZ2F0b3IudXNlckFnZW50LEY9L3JpZGVudC8udGVzdChFKXx8L2Vja28vLnRlc3QoRSkmJkUubWF0Y2goL3J2XFw6KFxcZCspLykmJlJlZ0V4cC4kMT4zNSxHPVwiY3VycmVudFNyY1wiLEg9L1xccytcXCs/XFxkKyhlXFxkKyk/dy8sST0vKFxcKFteKV0rXFwpKT9cXHMqKC4rKS8sSj1hLnBpY3R1cmVmaWxsQ0ZHLEs9XCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpibG9jaztwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7Zm9udC1zaXplOjFlbTt3aWR0aDoxZW07b3ZlcmZsb3c6aGlkZGVuO2NsaXA6cmVjdCgwcHgsIDBweCwgMHB4LCAwcHgpXCIsTD1cImZvbnQtc2l6ZToxMDAlIWltcG9ydGFudDtcIixNPSEwLE49e30sTz17fSxQPWEuZGV2aWNlUGl4ZWxSYXRpbyxRPXtweDoxLFwiaW5cIjo5Nn0sUj1iLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLFM9ITEsVD0vXlsgXFx0XFxuXFxyXFx1MDAwY10rLyxVPS9eWywgXFx0XFxuXFxyXFx1MDAwY10rLyxWPS9eW14gXFx0XFxuXFxyXFx1MDAwY10rLyxXPS9bLF0rJC8sWD0vXlxcZCskLyxZPS9eLT8oPzpbMC05XSt8WzAtOV0qXFwuWzAtOV0rKSg/OltlRV1bKy1dP1swLTldKyk/JC8sWj1mdW5jdGlvbihhLGIsYyxkKXthLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkfHwhMSk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudChcIm9uXCIrYixjKX0sJD1mdW5jdGlvbihhKXt2YXIgYj17fTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW4gYnx8KGJbY109YShjKSksYltjXX19LF89ZnVuY3Rpb24oKXt2YXIgYT0vXihbXFxkXFwuXSspKGVtfHZ3fHB4KSQvLGI9ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLGI9MCxjPWFbMF07KytiIGluIGE7KWM9Yy5yZXBsYWNlKGFbYl0sYVsrK2JdKTtyZXR1cm4gY30sYz0kKGZ1bmN0aW9uKGEpe3JldHVyblwicmV0dXJuIFwiK2IoKGF8fFwiXCIpLnRvTG93ZXJDYXNlKCksL1xcYmFuZFxcYi9nLFwiJiZcIiwvLC9nLFwifHxcIiwvbWluLShbYS16LVxcc10rKTovZyxcImUuJDE+PVwiLC9tYXgtKFthLXotXFxzXSspOi9nLFwiZS4kMTw9XCIsL2NhbGMoW14pXSspL2csXCIoJDEpXCIsLyhcXGQrW1xcLl0qW1xcZF0qKShbYS16XSspL2csXCIoJDEgKiBlLiQyKVwiLC9eKD8hKGUuW2Etel18WzAtOVxcLiY9fD48XFwrXFwtXFwqXFwoXFwpXFwvXSkpLiovZ2ksXCJcIikrXCI7XCJ9KTtyZXR1cm4gZnVuY3Rpb24oYixkKXt2YXIgZTtpZighKGIgaW4gTikpaWYoTltiXT0hMSxkJiYoZT1iLm1hdGNoKGEpKSlOW2JdPWVbMV0qUVtlWzJdXTtlbHNlIHRyeXtOW2JdPW5ldyBGdW5jdGlvbihcImVcIixjKGIpKShRKX1jYXRjaChmKXt9cmV0dXJuIE5bYl19fSgpLGFhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudz8oYS5jV2lkdGg9cy5jYWxjTGlzdExlbmd0aChifHxcIjEwMHZ3XCIpLGEucmVzPWEudy9hLmNXaWR0aCk6YS5yZXM9YS5kLGF9LGJhPWZ1bmN0aW9uKGEpe2lmKHQpe3ZhciBjLGQsZSxmPWF8fHt9O2lmKGYuZWxlbWVudHMmJjE9PT1mLmVsZW1lbnRzLm5vZGVUeXBlJiYoXCJJTUdcIj09PWYuZWxlbWVudHMubm9kZU5hbWUudG9VcHBlckNhc2UoKT9mLmVsZW1lbnRzPVtmLmVsZW1lbnRzXTooZi5jb250ZXh0PWYuZWxlbWVudHMsZi5lbGVtZW50cz1udWxsKSksYz1mLmVsZW1lbnRzfHxzLnFzYShmLmNvbnRleHR8fGIsZi5yZWV2YWx1YXRlfHxmLnJlc2VsZWN0P3Muc2VsOnMuc2VsU2hvcnQpLGU9Yy5sZW5ndGgpe2ZvcihzLnNldHVwUnVuKGYpLFM9ITAsZD0wO2U+ZDtkKyspcy5maWxsSW1nKGNbZF0sZik7cy50ZWFyZG93blJ1bihmKX19fTtvPWEuY29uc29sZSYmY29uc29sZS53YXJuP2Z1bmN0aW9uKGEpe2NvbnNvbGUud2FybihhKX06dSxHIGluIHZ8fChHPVwic3JjXCIpLEFbXCJpbWFnZS9qcGVnXCJdPSEwLEFbXCJpbWFnZS9naWZcIl09ITAsQVtcImltYWdlL3BuZ1wiXT0hMCxBW1wiaW1hZ2Uvc3ZnK3htbFwiXT1iLmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0ltYWdlXCIsXCIxLjFcIikscy5ucz0oXCJwZlwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpKS5zdWJzdHIoMCw5KSxzLnN1cFNyY3NldD1cInNyY3NldFwiaW4gdixzLnN1cFNpemVzPVwic2l6ZXNcImluIHYscy5zdXBQaWN0dXJlPSEhYS5IVE1MUGljdHVyZUVsZW1lbnQscy5zdXBTcmNzZXQmJnMuc3VwUGljdHVyZSYmIXMuc3VwU2l6ZXMmJiFmdW5jdGlvbihhKXt2LnNyY3NldD1cImRhdGE6LGFcIixhLnNyYz1cImRhdGE6LGFcIixzLnN1cFNyY3NldD12LmNvbXBsZXRlPT09YS5jb21wbGV0ZSxzLnN1cFBpY3R1cmU9cy5zdXBTcmNzZXQmJnMuc3VwUGljdHVyZX0oYi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpKSxzLnN1cFNyY3NldCYmIXMuc3VwU2l6ZXM/IWZ1bmN0aW9uKCl7dmFyIGE9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBZ0FCQVBBQUFQLy8vd0FBQUNINUJBQUFBQUFBTEFBQUFBQUNBQUVBQUFJQ0JBb0FPdz09XCIsYz1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCIsZD1iLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksZT1mdW5jdGlvbigpe3ZhciBhPWQud2lkdGg7Mj09PWEmJihzLnN1cFNpemVzPSEwKSxxPXMuc3VwU3Jjc2V0JiYhcy5zdXBTaXplcyx0PSEwLHNldFRpbWVvdXQoYmEpfTtkLm9ubG9hZD1lLGQub25lcnJvcj1lLGQuc2V0QXR0cmlidXRlKFwic2l6ZXNcIixcIjlweFwiKSxkLnNyY3NldD1jK1wiIDF3LFwiK2ErXCIgOXdcIixkLnNyYz1jfSgpOnQ9ITAscy5zZWxTaG9ydD1cInBpY3R1cmU+aW1nLGltZ1tzcmNzZXRdXCIscy5zZWw9cy5zZWxTaG9ydCxzLmNmZz1CLHMuRFBSPVB8fDEscy51PVEscy50eXBlcz1BLHMuc2V0U2l6ZT11LHMubWFrZVVybD0kKGZ1bmN0aW9uKGEpe3JldHVybiBSLmhyZWY9YSxSLmhyZWZ9KSxzLnFzYT1mdW5jdGlvbihhLGIpe3JldHVyblwicXVlcnlTZWxlY3RvclwiaW4gYT9hLnF1ZXJ5U2VsZWN0b3JBbGwoYik6W119LHMubWF0Y2hlc01lZGlhPWZ1bmN0aW9uKCl7cmV0dXJuIGEubWF0Y2hNZWRpYSYmKG1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiAwLjFlbSlcIil8fHt9KS5tYXRjaGVzP3MubWF0Y2hlc01lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiFhfHxtYXRjaE1lZGlhKGEpLm1hdGNoZXN9OnMubWF0Y2hlc01lZGlhPXMubU1RLHMubWF0Y2hlc01lZGlhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scy5tTVE9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/XyhhKTohMH0scy5jYWxjTGVuZ3RoPWZ1bmN0aW9uKGEpe3ZhciBiPV8oYSwhMCl8fCExO3JldHVybiAwPmImJihiPSExKSxifSxzLnN1cHBvcnRzVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gYT9BW2FdOiEwfSxzLnBhcnNlU2l6ZT0kKGZ1bmN0aW9uKGEpe3ZhciBiPShhfHxcIlwiKS5tYXRjaChJKTtyZXR1cm57bWVkaWE6YiYmYlsxXSxsZW5ndGg6YiYmYlsyXX19KSxzLnBhcnNlU2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhLmNhbmRzfHwoYS5jYW5kcz1tKGEuc3Jjc2V0LGEpKSxhLmNhbmRzfSxzLmdldEVtVmFsdWU9ZnVuY3Rpb24oKXt2YXIgYTtpZighcCYmKGE9Yi5ib2R5KSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9ei5zdHlsZS5jc3NUZXh0LGU9YS5zdHlsZS5jc3NUZXh0O2Muc3R5bGUuY3NzVGV4dD1LLHouc3R5bGUuY3NzVGV4dD1MLGEuc3R5bGUuY3NzVGV4dD1MLGEuYXBwZW5kQ2hpbGQoYykscD1jLm9mZnNldFdpZHRoLGEucmVtb3ZlQ2hpbGQoYykscD1wYXJzZUZsb2F0KHAsMTApLHouc3R5bGUuY3NzVGV4dD1kLGEuc3R5bGUuY3NzVGV4dD1lfXJldHVybiBwfHwxNn0scy5jYWxjTGlzdExlbmd0aD1mdW5jdGlvbihhKXtpZighKGEgaW4gTyl8fEIudVQpe3ZhciBiPXMuY2FsY0xlbmd0aChuKGEpKTtPW2FdPWI/YjpRLndpZHRofXJldHVybiBPW2FdfSxzLnNldFJlcz1mdW5jdGlvbihhKXt2YXIgYjtpZihhKXtiPXMucGFyc2VTZXQoYSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtkPmM7YysrKWFhKGJbY10sYS5zaXplcyl9cmV0dXJuIGJ9LHMuc2V0UmVzLnJlcz1hYSxzLmFwcGx5U2V0Q2FuZGlkYXRlPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe3ZhciBjLGQsZSxmLGgsayxsLG0sbixvPWJbcy5uc10scD1zLkRQUjtpZihrPW8uY3VyU3JjfHxiW0ddLGw9by5jdXJDYW58fGooYixrLGFbMF0uc2V0KSxsJiZsLnNldD09PWFbMF0uc2V0JiYobj1GJiYhYi5jb21wbGV0ZSYmbC5yZXMtLjE+cCxufHwobC5jYWNoZWQ9ITAsbC5yZXM+PXAmJihoPWwpKSksIWgpZm9yKGEuc29ydChpKSxmPWEubGVuZ3RoLGg9YVtmLTFdLGQ9MDtmPmQ7ZCsrKWlmKGM9YVtkXSxjLnJlcz49cCl7ZT1kLTEsaD1hW2VdJiYobnx8ayE9PXMubWFrZVVybChjLnVybCkpJiZnKGFbZV0ucmVzLGMucmVzLHAsYVtlXS5jYWNoZWQpP2FbZV06YzticmVha31oJiYobT1zLm1ha2VVcmwoaC51cmwpLG8uY3VyU3JjPW0sby5jdXJDYW49aCxtIT09ayYmcy5zZXRTcmMoYixoKSxzLnNldFNpemUoYikpfX0scy5zZXRTcmM9ZnVuY3Rpb24oYSxiKXt2YXIgYzthLnNyYz1iLnVybCxcImltYWdlL3N2Zyt4bWxcIj09PWIuc2V0LnR5cGUmJihjPWEuc3R5bGUud2lkdGgsYS5zdHlsZS53aWR0aD1hLm9mZnNldFdpZHRoKzErXCJweFwiLGEub2Zmc2V0V2lkdGgrMSYmKGEuc3R5bGUud2lkdGg9YykpfSxzLmdldFNldD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT0hMSxmPWFbcy5uc10uc2V0cztmb3IoYj0wO2I8Zi5sZW5ndGgmJiFlO2IrKylpZihjPWZbYl0sYy5zcmNzZXQmJnMubWF0Y2hlc01lZGlhKGMubWVkaWEpJiYoZD1zLnN1cHBvcnRzVHlwZShjLnR5cGUpKSl7XCJwZW5kaW5nXCI9PT1kJiYoYz1kKSxlPWM7YnJlYWt9cmV0dXJuIGV9LHMucGFyc2VTZXRzPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmLGcsaCxpPWImJlwiUElDVFVSRVwiPT09Yi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpLGo9YVtzLm5zXTsoai5zcmM9PT1jfHxkLnNyYykmJihqLnNyYz13LmNhbGwoYSxcInNyY1wiKSxqLnNyYz94LmNhbGwoYSxDLGouc3JjKTp5LmNhbGwoYSxDKSksKGouc3Jjc2V0PT09Y3x8ZC5zcmNzZXR8fCFzLnN1cFNyY3NldHx8YS5zcmNzZXQpJiYoZT13LmNhbGwoYSxcInNyY3NldFwiKSxqLnNyY3NldD1lLGg9ITApLGouc2V0cz1bXSxpJiYoai5waWM9ITAsbChiLGouc2V0cykpLGouc3Jjc2V0PyhmPXtzcmNzZXQ6ai5zcmNzZXQsc2l6ZXM6dy5jYWxsKGEsXCJzaXplc1wiKX0sai5zZXRzLnB1c2goZiksZz0ocXx8ai5zcmMpJiZILnRlc3Qoai5zcmNzZXR8fFwiXCIpLGd8fCFqLnNyY3x8ayhqLnNyYyxmKXx8Zi5oYXMxeHx8KGYuc3Jjc2V0Kz1cIiwgXCIrai5zcmMsZi5jYW5kcy5wdXNoKHt1cmw6ai5zcmMsZDoxLHNldDpmfSkpKTpqLnNyYyYmai5zZXRzLnB1c2goe3NyY3NldDpqLnNyYyxzaXplczpudWxsfSksai5jdXJDYW49bnVsbCxqLmN1clNyYz1jLGouc3VwcG9ydGVkPSEoaXx8ZiYmIXMuc3VwU3Jjc2V0fHxnJiYhcy5zdXBTaXplcyksaCYmcy5zdXBTcmNzZXQmJiFqLnN1cHBvcnRlZCYmKGU/KHguY2FsbChhLEQsZSksYS5zcmNzZXQ9XCJcIik6eS5jYWxsKGEsRCkpLGouc3VwcG9ydGVkJiYhai5zcmNzZXQmJighai5zcmMmJmEuc3JjfHxhLnNyYyE9PXMubWFrZVVybChqLnNyYykpJiYobnVsbD09PWouc3JjP2EucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpOmEuc3JjPWouc3JjKSxqLnBhcnNlZD0hMH0scy5maWxsSW1nPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iLnJlc2VsZWN0fHxiLnJlZXZhbHVhdGU7YVtzLm5zXXx8KGFbcy5uc109e30pLGM9YVtzLm5zXSwoZHx8Yy5ldmFsZWQhPT1yKSYmKCghYy5wYXJzZWR8fGIucmVldmFsdWF0ZSkmJnMucGFyc2VTZXRzKGEsYS5wYXJlbnROb2RlLGIpLGMuc3VwcG9ydGVkP2MuZXZhbGVkPXI6aChhKSl9LHMuc2V0dXBSdW49ZnVuY3Rpb24oKXsoIVN8fE18fFAhPT1hLmRldmljZVBpeGVsUmF0aW8pJiZmKCl9LHMuc3VwUGljdHVyZT8oYmE9dSxzLmZpbGxJbWc9dSk6IWZ1bmN0aW9uKCl7dmFyIGMsZD1hLmF0dGFjaEV2ZW50Py9kJHxeYy86L2QkfF5jfF5pLyxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5yZWFkeVN0YXRlfHxcIlwiO2Y9c2V0VGltZW91dChlLFwibG9hZGluZ1wiPT09YT8yMDA6OTk5KSxiLmJvZHkmJihzLmZpbGxJbWdzKCksYz1jfHxkLnRlc3QoYSksYyYmY2xlYXJUaW1lb3V0KGYpKX0sZj1zZXRUaW1lb3V0KGUsYi5ib2R5Pzk6OTkpLGc9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9ZnVuY3Rpb24oKXt2YXIgZj1uZXcgRGF0ZS1kO2I+Zj9jPXNldFRpbWVvdXQoZSxiLWYpOihjPW51bGwsYSgpKX07cmV0dXJuIGZ1bmN0aW9uKCl7ZD1uZXcgRGF0ZSxjfHwoYz1zZXRUaW1lb3V0KGUsYikpfX0saD16LmNsaWVudEhlaWdodCxpPWZ1bmN0aW9uKCl7TT1NYXRoLm1heChhLmlubmVyV2lkdGh8fDAsei5jbGllbnRXaWR0aCkhPT1RLndpZHRofHx6LmNsaWVudEhlaWdodCE9PWgsaD16LmNsaWVudEhlaWdodCxNJiZzLmZpbGxJbWdzKCl9O1ooYSxcInJlc2l6ZVwiLGcoaSw5OSkpLFooYixcInJlYWR5c3RhdGVjaGFuZ2VcIixlKX0oKSxzLnBpY3R1cmVmaWxsPWJhLHMuZmlsbEltZ3M9YmEscy50ZWFyZG93blJ1bj11LGJhLl89cyxhLnBpY3R1cmVmaWxsQ0ZHPXtwZjpzLHB1c2g6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zaGlmdCgpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHNbYl0/c1tiXS5hcHBseShzLGEpOihCW2JdPWFbMF0sUyYmcy5maWxsSW1ncyh7cmVzZWxlY3Q6ITB9KSl9fTtmb3IoO0omJkoubGVuZ3RoOylhLnBpY3R1cmVmaWxsQ0ZHLnB1c2goSi5zaGlmdCgpKTthLnBpY3R1cmVmaWxsPWJhLFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iYTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcInBpY3R1cmVmaWxsXCIsZnVuY3Rpb24oKXtyZXR1cm4gYmF9KSxzLnN1cFBpY3R1cmV8fChBW1wiaW1hZ2Uvd2VicFwiXT1lKFwiaW1hZ2Uvd2VicFwiLFwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmtvQUFBQlhSVUpRVmxBNFdBb0FBQUFRQUFBQUFBQUFBQUFBUVV4UVNBd0FBQUFCQnhBUi9ROUVSUDhEQUFCV1VEZ2dHQUFBQURBQkFKMEJLZ0VBQVFBREFEUWxwQUFEY0FEKysvMVFBQT09XCIpKX0od2luZG93LGRvY3VtZW50KTsiLCIvKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImNvZGVcIjogMTAwIH1dKi9cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNcIjogXCJsb2NhbFwiIH1dKi9cblxuXG5sZXQgcmVzdGF1cmFudDtcbmxldCBtYXA7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBHb29nbGUgbWFwLCBjYWxsZWQgZnJvbSBIVE1MLlxuICovXG53aW5kb3cuaW5pdE1hcCA9ICgpID0+IHtcbiAgZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCgoZXJyb3IsIHJlc3RhdXJhbnQpID0+IHtcbiAgICBpZiAoZXJyb3IpIHsgLy8gR290IGFuIGVycm9yIVxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcbiAgICAgICAgem9vbTogMTYsXG4gICAgICAgIGNlbnRlcjogcmVzdGF1cmFudC5sYXRsbmcsXG4gICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLnNldEF0dHJpYnV0ZSgncm9sZScsICdhcHBsaWNhdGlvbicpO1xuXG4gICAgICBmaWxsQnJlYWRjcnVtYigpO1xuXG4gICAgICAvKlxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLnNldEF0dHJpYnV0ZSgncm9sZScsJ2FwcGxpY2F0aW9uJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJykuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsJzQnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywndHJ1ZScpO1xuICAgICAgKi9cbiAgICAgIERCSGVscGVyLm1hcE1hcmtlckZvclJlc3RhdXJhbnQoc2VsZi5yZXN0YXVyYW50LCBzZWxmLm1hcCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgcmVzdGF1cmFudCBmcm9tIHBhZ2UgVVJMLlxuICovXG5cbmZldGNoUmVzdGF1cmFudEZyb21VUkwgPSAoY2FsbGJhY2spID0+IHtcbiAgaWYgKHNlbGYucmVzdGF1cmFudCkgeyAvLyByZXN0YXVyYW50IGFscmVhZHkgZmV0Y2hlZCFcbiAgICBjYWxsYmFjayhudWxsLCBzZWxmLnJlc3RhdXJhbnQpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpZCA9IGdldFBhcmFtZXRlckJ5TmFtZSgnaWQnKTtcbiAgaWYgKCFpZCkgeyAvLyBubyBpZCBmb3VuZCBpbiBVUkxcbiAgICBlcnJvciA9ICdObyByZXN0YXVyYW50IGlkIGluIFVSTCc7XG4gICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICB9IGVsc2Uge1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudEJ5SWQoaWQsIChlcnJvciwgcmVzdGF1cmFudCkgPT4ge1xuICAgICAgc2VsZi5yZXN0YXVyYW50ID0gcmVzdGF1cmFudDtcbiAgICAgIGlmICghcmVzdGF1cmFudCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZmlsbFJlc3RhdXJhbnRIVE1MKCk7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN0YXVyYW50KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgcmVzdGF1cmFudCBIVE1MIGFuZCBhZGQgaXQgdG8gdGhlIHdlYnBhZ2VcbiAqL1xuXG5maWxsUmVzdGF1cmFudEhUTUwgPSAocmVzdGF1cmFudCA9IHNlbGYucmVzdGF1cmFudCkgPT4ge1xuICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnQtbmFtZScpO1xuICBuYW1lLmlubmVySFRNTCA9IHJlc3RhdXJhbnQubmFtZTtcblxuICBjb25zdCBhZGRyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnQtYWRkcmVzcycpO1xuICBhZGRyZXNzLmlubmVySFRNTCA9IHJlc3RhdXJhbnQuYWRkcmVzcztcblxuICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LWltZycpO1xuICBpbWFnZS5jbGFzc05hbWUgPSAncmVzdGF1cmFudC1pbWcnO1xuICAvKiB1bmlxdWUgYWx0LWFyaWFsYWJlbCAqL1xuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBuYW1lLmlubmVySFRNTCsnIHJlc3RhdXJhbnQnKTtcbiAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCBuYW1lLmlubmVySFRNTCsnIHJlc3RhdXJhbnQnKTtcblxuICBpbWFnZS5zcmMgPSBEQkhlbHBlci5pbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCk7XG5cbiAgY29uc3QgY3Vpc2luZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LWN1aXNpbmUnKTtcbiAgY3Vpc2luZS5pbm5lckhUTUwgPSByZXN0YXVyYW50LmN1aXNpbmVfdHlwZTtcblxuICAvLyBmaWxsIG9wZXJhdGluZyBob3Vyc1xuICBpZiAocmVzdGF1cmFudC5vcGVyYXRpbmdfaG91cnMpIHtcbiAgICBmaWxsUmVzdGF1cmFudEhvdXJzSFRNTCgpO1xuICB9XG4gIC8vIGZpbGwgcmV2aWV3c1xuICBmaWxsUmV2aWV3c0hUTUwoKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHJlc3RhdXJhbnQgb3BlcmF0aW5nIGhvdXJzIEhUTUwgdGFibGUgYW5kIGFkZCBpdCB0byB0aGUgd2VicGFnZS5cbiAqL1xuXG5maWxsUmVzdGF1cmFudEhvdXJzSFRNTCA9IChvcGVyYXRpbmdIb3VycyA9IHNlbGYucmVzdGF1cmFudC5vcGVyYXRpbmdfaG91cnMpID0+IHtcbiAgY29uc3QgaG91cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1ob3VycycpO1xuICBmb3IgKGxldCBrZXkgaW4gb3BlcmF0aW5nSG91cnMpIHtcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuXG4gICAgY29uc3QgZGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBkYXkuaW5uZXJIVE1MID0ga2V5O1xuICAgIGRheS5zdHlsZS5jb2xvcj0nIzUyNTI1Mic7XG4gICAgcm93LmFwcGVuZENoaWxkKGRheSk7XG5cbiAgICBjb25zdCB0aW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0aW1lLmlubmVySFRNTCA9IG9wZXJhdGluZ0hvdXJzW2tleV07XG4gICAgdGltZS5zdHlsZS5jb2xvcj0nIzUyNTI1Mic7XG5cbiAgICByb3cuYXBwZW5kQ2hpbGQodGltZSk7XG5cbiAgICBob3Vycy5hcHBlbmRDaGlsZChyb3cpO1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbGwgcmV2aWV3cyBIVE1MIGFuZCBhZGQgdGhlbSB0byB0aGUgd2VicGFnZS5cbiAqL1xuXG5maWxsUmV2aWV3c0hUTUwgPSAocmV2aWV3cyA9IHNlbGYucmVzdGF1cmFudC5yZXZpZXdzKSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXZpZXdzLWNvbnRhaW5lcicpO1xuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG4gIHRpdGxlLmlubmVySFRNTCA9ICdSZXZpZXdzJztcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICBpZiAoIXJldmlld3MpIHtcbiAgICBjb25zdCBub1Jldmlld3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgbm9SZXZpZXdzLmlubmVySFRNTCA9ICdObyByZXZpZXdzIHlldCEnO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChub1Jldmlld3MpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXZpZXdzLWxpc3QnKTtcbiAgcmV2aWV3cy5mb3JFYWNoKChyZXZpZXcpID0+IHtcbiAgICB1bC5hcHBlbmRDaGlsZChjcmVhdGVSZXZpZXdIVE1MKHJldmlldykpO1xuICB9KTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHVsKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHJldmlldyBIVE1MIGFuZCBhZGQgaXQgdG8gdGhlIHdlYnBhZ2UuXG4gKi9cblxuY3JlYXRlUmV2aWV3SFRNTCA9IChyZXZpZXcpID0+IHtcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgY29uc3QgcmV2aWV3SGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcmV2aWV3SGVhZGVyLmNsYXNzTmFtZSA9ICdyZXZpZXctaGVhZGVyJztcbiAgICBsaS5hcHBlbmRDaGlsZChyZXZpZXdIZWFkZXIpO1xuXG4gICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7XG4gICAgbmFtZS5pbm5lckhUTUwgPSByZXZpZXcubmFtZTtcbiAgICBuYW1lLmNsYXNzTmFtZSA9ICdyZXZpZXctYXV0aG9yJztcbiAgICBuYW1lLnNldEF0dHJpYnV0ZSgncm9sZScsICdoZWFkZXInKTsgLy9hZGRlZCBBUklBIHJvbGUgZm9yIGFjY2Vzc2liaWx0eVxuICAgIG5hbWUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7IC8vYWRkZWQgdGFiaW5kZXggZm9yIGFjY2Vzc2liaWx0eVxuICAgIHJldmlld0hlYWRlci5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgZGF0ZS5pbm5lckhUTUwgPSByZXZpZXcuZGF0ZTtcbiAgICBkYXRlLmNsYXNzTmFtZSA9ICdyZXZpZXctZGF0ZSc7XG4gICAgZGF0ZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTsgLy9hZGRlZCB0YWJpbmRleCBmb3IgYWNjZXNzaWJpbHR5XG4gICAgcmV2aWV3SGVhZGVyLmFwcGVuZENoaWxkKGRhdGUpO1xuXG4gICAgY29uc3QgcmV2aWV3Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJldmlld0NvbnRlbnQuY2xhc3NOYW1lID0gJ3Jldmlldy1jb250ZW50JztcbiAgICBsaS5hcHBlbmRDaGlsZChyZXZpZXdDb250ZW50KTtcblxuICAgIGNvbnN0IHJhdGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJhdGluZy5pbm5lckhUTUwgPSBgUmF0aW5nOiAke3Jldmlldy5yYXRpbmd9YDtcbiAgICByYXRpbmcuY2xhc3NOYW1lID0gJ3JhdGluZyc7XG4gICAgcmF0aW5nLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpOyAvL2FkZGVkIHRhYmluZGV4IGZvciBhY2Nlc3NpYmlsdHlcbiAgICByZXZpZXdDb250ZW50LmFwcGVuZENoaWxkKHJhdGluZyk7XG5cbiAgICBjb25zdCBjb21tZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb21tZW50cy5pbm5lckhUTUwgPSByZXZpZXcuY29tbWVudHM7XG4gICAgY29tbWVudHMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7IC8vYWRkZWQgdGFiaW5kZXggZm9yIGFjY2Vzc2liaWx0eVxuICAgIHJldmlld0NvbnRlbnQuYXBwZW5kQ2hpbGQoY29tbWVudHMpO1xuXG4gICAgcmV0dXJuIGxpO1xuICB9XG5cblxuLyoqXG4gKiBBZGQgcmVzdGF1cmFudCBuYW1lIHRvIHRoZSBicmVhZGNydW1iIG5hdmlnYXRpb24gbWVudVxuICovXG5cbmZpbGxCcmVhZGNydW1iID0gKHJlc3RhdXJhbnQ9c2VsZi5yZXN0YXVyYW50KSA9PiB7XG4gIGNvbnN0IGJyZWFkY3J1bWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWRjcnVtYicpO1xuICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGxpLmlubmVySFRNTCA9IHJlc3RhdXJhbnQubmFtZTtcbiAgbGkuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCByZXN0YXVyYW50Lm5hbWUpIC8vYWRkZWQgYXJpYS1jdXJyZW50IGZvciBhY2Nlc3NpYmlsdHlcbiAgYnJlYWRjcnVtYi5hcHBlbmRDaGlsZChsaSk7XG59O1xuXG4vKipcbiAqIEdldCBhIHBhcmFtZXRlciBieSBuYW1lIGZyb20gcGFnZSBVUkwuXG4gKi9cblxuZ2V0UGFyYW1ldGVyQnlOYW1lID0gKG5hbWUsIHVybCkgPT4ge1xuICBpZiAoIXVybCkge1xudXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG59XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csICdcXFxcJCYnKTtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBbPyZdJHtuYW1lfSg9KFteJiNdKil8JnwjfCQpYCk7XG4gIGNvbnN0IHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmICghcmVzdWx0cykge1xucmV0dXJuIG51bGw7XG59XG4gIGlmICghcmVzdWx0c1syXSkge1xucmV0dXJuICcnO1xufVxuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xufTtcblxuXG4vKlxuU2NyZWVuIFJlYWRlciBTRVRUSU5HUyBmb3IgdGhlIHJldmlld3NcbiovXG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBuYXRpdmVBZGRBbGwgPSBDYWNoZS5wcm90b3R5cGUuYWRkQWxsO1xuICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKEZpcmVmb3h8Q2hyb21lKVxcLyhcXGQrXFwuKS8pO1xuXG4gIC8vIEhhcyBuaWNlIGJlaGF2aW9yIG9mIGB2YXJgIHdoaWNoIGV2ZXJ5b25lIGhhdGVzXG4gIGlmICh1c2VyQWdlbnQpIHtcbiAgICB2YXIgYWdlbnQgPSB1c2VyQWdlbnRbMV07XG4gICAgdmFyIHZlcnNpb24gPSBwYXJzZUludCh1c2VyQWdlbnRbMl0pO1xuICB9XG5cbiAgaWYgKFxuICAgIG5hdGl2ZUFkZEFsbCAmJiAoIXVzZXJBZ2VudCB8fFxuICAgICAgKGFnZW50ID09PSAnRmlyZWZveCcgJiYgdmVyc2lvbiA+PSA0NikgfHxcbiAgICAgIChhZ2VudCA9PT0gJ0Nocm9tZScgICYmIHZlcnNpb24gPj0gNTApXG4gICAgKVxuICApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBDYWNoZS5wcm90b3R5cGUuYWRkQWxsID0gZnVuY3Rpb24gYWRkQWxsKHJlcXVlc3RzKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcztcblxuICAgIC8vIFNpbmNlIERPTUV4Y2VwdGlvbnMgYXJlIG5vdCBjb25zdHJ1Y3RhYmxlOlxuICAgIGZ1bmN0aW9uIE5ldHdvcmtFcnJvcihtZXNzYWdlKSB7XG4gICAgICB0aGlzLm5hbWUgPSAnTmV0d29ya0Vycm9yJztcbiAgICAgIHRoaXMuY29kZSA9IDE5O1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBOZXR3b3JrRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblxuICAgICAgLy8gU2ltdWxhdGUgc2VxdWVuY2U8KFJlcXVlc3Qgb3IgVVNWU3RyaW5nKT4gYmluZGluZzpcbiAgICAgIHZhciBzZXF1ZW5jZSA9IFtdO1xuXG4gICAgICByZXF1ZXN0cyA9IHJlcXVlc3RzLm1hcChmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcocmVxdWVzdCk7IC8vIG1heSB0aHJvdyBUeXBlRXJyb3JcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgcmVxdWVzdHMubWFwKGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNjaGVtZSA9IG5ldyBVUkwocmVxdWVzdC51cmwpLnByb3RvY29sO1xuXG4gICAgICAgICAgaWYgKHNjaGVtZSAhPT0gJ2h0dHA6JyAmJiBzY2hlbWUgIT09ICdodHRwczonKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTmV0d29ya0Vycm9yKFwiSW52YWxpZCBzY2hlbWVcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZldGNoKHJlcXVlc3QuY2xvbmUoKSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2VzKSB7XG4gICAgICAvLyBJZiBzb21lIG9mIHRoZSByZXNwb25zZXMgaGFzIG5vdCBPSy1laXNoIHN0YXR1cyxcbiAgICAgIC8vIHRoZW4gd2hvbGUgb3BlcmF0aW9uIHNob3VsZCByZWplY3RcbiAgICAgIGlmIChyZXNwb25zZXMuc29tZShmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gIXJlc3BvbnNlLm9rO1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5ldHdvcmtFcnJvcignSW5jb3JyZWN0IHJlc3BvbnNlIHN0YXR1cycpO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBjaGVjayB0aGF0IHJlcXVlc3RzIGRvbid0IG92ZXJ3cml0ZSBvbmUgYW5vdGhlclxuICAgICAgLy8gKGRvbid0IHRoaW5rIHRoaXMgaXMgcG9zc2libGUgdG8gcG9seWZpbGwgZHVlIHRvIG9wYXF1ZSByZXNwb25zZXMpXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIHJlc3BvbnNlcy5tYXAoZnVuY3Rpb24ocmVzcG9uc2UsIGkpIHtcbiAgICAgICAgICByZXR1cm4gY2FjaGUucHV0KHJlcXVlc3RzW2ldLCByZXNwb25zZSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICB9O1xuXG4gIENhY2hlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQocmVxdWVzdCkge1xuICAgIHJldHVybiB0aGlzLmFkZEFsbChbcmVxdWVzdF0pO1xuICB9O1xufSgpKTsiXX0=
