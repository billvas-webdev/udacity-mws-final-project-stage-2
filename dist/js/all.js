"use strict";var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var dbpromise=void 0,DBHelper=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"openDatabase",value:function(){return idb.open("restaurantDb",1,function(e){e.createObjectStore("restaurantDb",{keyPath:"id"})})}},{key:"saveDatabase",value:function(r){return n.openDatabase().then(function(e){if(e){var t=e.transaction("restaurantDb","readwrite"),n=t.objectStore("restaurantDb");return r.forEach(function(e){n.put(e)}),t.complete}})}},{key:"getCachedDb",value:function(){return(dbpromise=n.openDatabase()).then(function(e){if(e)return e.transaction("restaurantDb").objectStore("restaurantDb").getAll()})}},{key:"fromApi",value:function(){return fetch(n.DATABASE_URL).then(function(e){return e.json()}).then(function(e){return n.saveDatabase(e),e})}},{key:"fetchRestaurants",value:function(t){return n.getCachedDb().then(function(e){return e.length?Promise.resolve(e):n.fromApi()}).then(function(e){t(null,e)}).catch(function(e){t(e,null)})}},{key:"fetchRestaurantById",value:function(r,a){n.fetchRestaurants(function(e,t){if(e)a(e,null);else{var n=t.find(function(e){return e.id==r});n?a(null,n):a("Restaurant does not exist",null)}})}},{key:"fetchRestaurantByCuisine",value:function(r,a){n.fetchRestaurants(function(e,t){if(e)a(e,null);else{var n=t.filter(function(e){return e.cuisine_type==r});a(null,n)}})}},{key:"fetchRestaurantByNeighborhood",value:function(r,a){n.fetchRestaurants(function(e,t){if(e)a(e,null);else{var n=t.filter(function(e){return e.neighborhood==r});a(null,n)}})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(r,a,i){n.fetchRestaurants(function(e,t){if(e)i(e,null);else{var n=t;"all"!=r&&(n=n.filter(function(e){return e.cuisine_type==r})),"all"!=a&&(n=n.filter(function(e){return e.neighborhood==a})),i(null,n)}})}},{key:"fetchNeighborhoods",value:function(a){n.fetchRestaurants(function(e,n){if(e)a(e,null);else{var r=n.map(function(e,t){return n[t].neighborhood}),t=r.filter(function(e,t){return r.indexOf(e)==t});a(null,t)}})}},{key:"fetchCuisines",value:function(a){n.fetchRestaurants(function(e,n){if(e)a(e,null);else{var r=n.map(function(e,t){return n[t].cuisine_type}),t=r.filter(function(e,t){return r.indexOf(e)==t});a(null,t)}})}},{key:"urlForRestaurant",value:function(e){return"./restaurant.html?id="+e.id}},{key:"imageUrlForRestaurant",value:function(e){return"/dist/img/"+e.photograph+".jpg"}},{key:"mapMarkerForRestaurant",value:function(e,t){return new google.maps.Marker({position:e.latlng,title:e.name,url:n.urlForRestaurant(e),map:t,animation:google.maps.Animation.DROP})}},{key:"DATABASE_URL",get:function(){return"http://localhost:1337/restaurants"}}]),n}(),restaurants=void 0,neighborhoods=void 0,cuisines=void 0,markers=[];document.addEventListener("DOMContentLoaded",function(){fetchNeighborhoods(),fetchCuisines()}),fetchNeighborhoods=function(){DBHelper.fetchNeighborhoods(function(e,t){null!=e?console.error(e):(self.neighborhoods=t,fillNeighborhoodsHTML())})},fillNeighborhoodsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.neighborhoods,n=document.getElementById("neighborhoods-select");e.forEach(function(e){var t=document.createElement("option");t.innerHTML=e,t.value=e,t.setAttribute("aria-label",e),t.setAttribute("role","option"),n.append(t)})},fetchCuisines=function(){DBHelper.fetchCuisines(function(e,t){e?console.error(e):(self.cuisines=t,fillCuisinesHTML())})},fillCuisinesHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.cuisines,n=document.getElementById("cuisines-select");e.forEach(function(e){var t=document.createElement("option");t.innerHTML=e,t.value=e,t.setAttribute("aria-label",e),t.setAttribute("role","option"),n.append(t)})},window.initMap=function(){self.map=new google.maps.Map(document.getElementById("map"),{zoom:12,center:{lat:40.722216,lng:-73.987501},scrollwheel:!1}),updateRestaurants()},updateRestaurants=function(){var e=document.getElementById("cuisines-select"),t=document.getElementById("neighborhoods-select"),n=e.selectedIndex,r=t.selectedIndex,a=e[n].value,i=t[r].value;DBHelper.fetchRestaurantByCuisineAndNeighborhood(a,i,function(e,t){e?console.error(e):(resetRestaurants(t),fillRestaurantsHTML())})},resetRestaurants=function(e){self.restaurants=[],document.getElementById("restaurants-list").innerHTML="",self.markers.forEach(function(e){return e.setMap(null)}),self.markers=[],self.restaurants=e},fillRestaurantsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurants,t=document.getElementById("restaurants-list");e.forEach(function(e){t.append(createRestaurantHTML(e))}),addMarkersToMap()},createRestaurantHTML=function(e){var t=document.createElement("li");t.setAttribute("role","listitem"),t.setAttribute("tabindex","0");var n=document.createElement("img");n.className="restaurant-img",n.setAttribute("role","img"),n.src=DBHelper.imageUrlForRestaurant(e);var r=document.createElement("h2");r.innerHTML=e.name,n.setAttribute("aria-label",r.innerHTML+" restaurant"),n.setAttribute("alt",r.innerHTML+" restaurant"),t.append(n),t.append(r);var a=document.createElement("p");a.innerHTML=e.neighborhood,t.append(a);var i=document.createElement("p");i.innerHTML=e.address,t.append(i);var s=document.createElement("a");return s.innerHTML="View Details",s.setAttribute("role","link"),s.href=DBHelper.urlForRestaurant(e),t.append(s),t},addMarkersToMap=function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurants).forEach(function(e){var t=DBHelper.mapMarkerForRestaurant(e,self.map);google.maps.event.addListener(t,"click",function(){window.location.href=t.url}),self.markers.push(t)})};var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t,a,n,r,i,s,o,u=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(u)&&u.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(a=document.createElement("source"),n=function(e){var t,n,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=a.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout(function(){r.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,n=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=n}))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)n(t[e])},i=function(){clearTimeout(t),t=setTimeout(r,99)},s=e.matchMedia&&matchMedia("(orientation: landscape)"),o=function(){i(),s&&s.addListener&&s.addListener(i)},a.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?o():document.addEventListener("DOMContentLoaded",o),i))}(window),function(e,i,c){function l(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function M(e,t){return e.res-t.res}function T(e,t){var n,r,a;if(e&&t)for(a=H.parseSet(t),e=H.makeUrl(e),n=0;n<a.length;n++)if(e===H.makeUrl(a[n].url)){r=a[n];break}return r}i.createElement("picture");var a,f,u,r,s,n,o,d,m,p,t,h,g,v,A,b,y,w,E,R,L,C,H={},S=!1,B=function(){},x=i.createElement("img"),k=x.getAttribute,D=x.setAttribute,I=x.removeAttribute,z=i.documentElement,N={},P={algorithm:""},U="data-pfsrc",F=U+"set",_=navigator.userAgent,$=/rident/.test(_)||/ecko/.test(_)&&_.match(/rv\:(\d+)/)&&35<RegExp.$1,O="currentSrc",W=/\s+\+?\d+(e\d+)?w/,j=/(\([^)]+\))?\s*(.+)/,Q=e.picturefillCFG,G="font-size:100%!important;",q=!0,V={},K={},J=e.devicePixelRatio,X={px:1,in:96},Y=i.createElement("a"),Z=!1,ee=/^[ \t\n\r\u000c]+/,te=/^[, \t\n\r\u000c]+/,ne=/^[^ \t\n\r\u000c]+/,re=/[,]+$/,ae=/^\d+$/,ie=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,se=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},oe=function(t){var n={};return function(e){return e in n||(n[e]=t(e)),n[e]}},ue=(r=/^([\d\.]+)(em|vw|px)$/,s=oe(function(e){return"return "+function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var n;if(!(e in V))if(V[e]=!1,t&&(n=e.match(r)))V[e]=n[1]*X[n[2]];else try{V[e]=new Function("e",s(e))(X)}catch(e){}return V[e]}),ce=function(e,t){return e.w?(e.cWidth=H.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},le=function(e){if(S){var t,n,r,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),r=(t=a.elements||H.qsa(a.context||i,a.reevaluate||a.reselect?H.sel:H.selShort)).length){for(H.setupRun(a),Z=!0,n=0;n<r;n++)H.fillImg(t[n],a);H.teardownRun(a)}}};e.console&&console.warn,O in x||(O="src"),N["image/jpeg"]=!0,N["image/gif"]=!0,N["image/png"]=!0,N["image/svg+xml"]=i.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),H.ns=("pf"+(new Date).getTime()).substr(0,9),H.supSrcset="srcset"in x,H.supSizes="sizes"in x,H.supPicture=!!e.HTMLPictureElement,H.supSrcset&&H.supPicture&&!H.supSizes&&(E=i.createElement("img"),x.srcset="data:,a",E.src="data:,a",H.supSrcset=x.complete===E.complete,H.supPicture=H.supSrcset&&H.supPicture),H.supSrcset&&!H.supSizes?(b="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",y=i.createElement("img"),w=function(){2===y.width&&(H.supSizes=!0),f=H.supSrcset&&!H.supSizes,S=!0,setTimeout(le)},y.onload=w,y.onerror=w,y.setAttribute("sizes","9px"),y.srcset=b+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",y.src=b):S=!0,H.selShort="picture>img,img[srcset]",H.sel=H.selShort,H.cfg=P,H.DPR=J||1,H.u=X,H.types=N,H.setSize=B,H.makeUrl=oe(function(e){return Y.href=e,Y.href}),H.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},H.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?H.matchesMedia=function(e){return!e||matchMedia(e).matches}:H.matchesMedia=H.mMQ,H.matchesMedia.apply(this,arguments)},H.mMQ=function(e){return!e||ue(e)},H.calcLength=function(e){var t=ue(e,!0)||!1;return t<0&&(t=!1),t},H.supportsType=function(e){return!e||N[e]},H.parseSize=oe(function(e){var t=(e||"").match(j);return{media:t&&t[1],length:t&&t[2]}}),H.parseSet=function(e){return e.cands||(e.cands=function(r,f){function e(e){var t,n=e.exec(r.substring(u));return n?(t=n[0],u+=t.length,t):void 0}function t(){var e,t,n,r,a,i,s,o,u,c=!1,l={};for(r=0;r<m.length;r++)i=(a=m[r])[a.length-1],s=a.substring(0,a.length-1),o=parseInt(s,10),u=parseFloat(s),ae.test(s)&&"w"===i?((e||t)&&(c=!0),0===o?c=!0:e=o):ie.test(s)&&"x"===i?((e||t||n)&&(c=!0),u<0?c=!0:t=u):ae.test(s)&&"h"===i?((n||t)&&(c=!0),0===o?c=!0:n=o):c=!0;c||(l.url=d,e&&(l.w=e),t&&(l.d=t),n&&(l.h=n),n||t||e||(l.d=1),1===l.d&&(f.has1x=!0),l.set=f,p.push(l))}function n(){for(e(ee),a="",i="in descriptor";;){if(s=r.charAt(u),"in descriptor"===i)if(l(s))a&&(m.push(a),a="",i="after descriptor");else{if(","===s)return u+=1,a&&m.push(a),void t();if("("===s)a+=s,i="in parens";else{if(""===s)return a&&m.push(a),void t();a+=s}}else if("in parens"===i)if(")"===s)a+=s,i="in descriptor";else{if(""===s)return m.push(a),void t();a+=s}else if("after descriptor"===i)if(l(s));else{if(""===s)return void t();i="in descriptor",u-=1}u+=1}}for(var d,m,a,i,s,o=r.length,u=0,p=[];;){if(e(te),o<=u)return p;d=e(ne),m=[],","===d.slice(-1)?(d=d.replace(re,""),t()):n()}}(e.srcset,e)),e.cands},H.getEmValue=function(){var e;if(!a&&(e=i.body)){var t=i.createElement("div"),n=z.style.cssText,r=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",z.style.cssText=G,e.style.cssText=G,e.appendChild(t),a=t.offsetWidth,e.removeChild(t),a=parseFloat(a,10),z.style.cssText=n,e.style.cssText=r}return a||16},H.calcListLength=function(e){if(!(e in K)||P.uT){var t=H.calcLength(function(e){var t,n,r,a,i,s,o,u=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(n=function(e){function t(){a&&(i.push(a),a="")}function n(){i[0]&&(s.push(i),i=[])}for(var r,a="",i=[],s=[],o=0,u=0,c=!1;;){if(""===(r=e.charAt(u)))return t(),n(),s;if(c){if("*"===r&&"/"===e[u+1]){c=!1,u+=2,t();continue}u+=1}else{if(l(r)){if(e.charAt(u-1)&&l(e.charAt(u-1))||!a){u+=1;continue}if(0===o){t(),u+=1;continue}r=" "}else if("("===r)o+=1;else if(")"===r)o-=1;else{if(","===r){t(),n(),u+=1;continue}if("/"===r&&"*"===e.charAt(u+1)){c=!0,u+=2;continue}}a+=r,u+=1}}}(e)).length,t=0;t<r;t++)if(i=(a=n[t])[a.length-1],o=i,u.test(o)&&0<=parseFloat(o)||c.test(o)||"0"===o||"-0"===o||"+0"===o){if(s=i,a.pop(),0===a.length)return s;if(a=a.join(" "),H.matchesMedia(a))return s}return"100vw"}(e));K[e]=t||X.width}return K[e]},H.setRes=function(e){var t;if(e)for(var n=0,r=(t=H.parseSet(e)).length;n<r;n++)ce(t[n],e.sizes);return t},H.setRes.res=ce,H.applySetCandidate=function(e,t){if(e.length){var n,r,a,i,s,o,u,c,l,f=t[H.ns],d=H.DPR;if(o=f.curSrc||t[O],(u=f.curCan||(y=t,w=o,!(E=e[0].set)&&w&&(E=(E=y[H.ns].sets)&&E[E.length-1]),(R=T(w,E))&&(w=H.makeUrl(w),y[H.ns].curSrc=w,(y[H.ns].curCan=R).res||ce(R,R.set.sizes)),R))&&u.set===e[0].set&&((l=$&&!t.complete&&u.res-.1>d)||(u.cached=!0,u.res>=d&&(s=u))),!s)for(e.sort(M),s=e[(i=e.length)-1],r=0;r<i;r++)if((n=e[r]).res>=d){s=e[a=r-1]&&(l||o!==H.makeUrl(n.url))&&(m=e[a].res,p=n.res,h=d,g=e[a].cached,b=A=v=void 0,"saveData"===P.algorithm?2.7<m?b=h+1:(A=(p-h)*(v=Math.pow(m-.6,1.5)),g&&(A+=.1*v),b=m+A):b=1<h?Math.sqrt(m*p):m,h<b)?e[a]:n;break}s&&(c=H.makeUrl(s.url),f.curSrc=c,f.curCan=s,c!==o&&H.setSrc(t,s),H.setSize(t))}var m,p,h,g,v,A,b,y,w,E,R},H.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},H.getSet=function(e){var t,n,r,a=!1,i=e[H.ns].sets;for(t=0;t<i.length&&!a;t++)if((n=i[t]).srcset&&H.matchesMedia(n.media)&&(r=H.supportsType(n.type))){"pending"===r&&(n=r),a=n;break}return a},H.parseSets=function(e,t,n){var r,a,i,s,o=t&&"PICTURE"===t.nodeName.toUpperCase(),u=e[H.ns];(u.src===c||n.src)&&(u.src=k.call(e,"src"),u.src?D.call(e,U,u.src):I.call(e,U)),(u.srcset===c||n.srcset||!H.supSrcset||e.srcset)&&(r=k.call(e,"srcset"),u.srcset=r,s=!0),u.sets=[],o&&(u.pic=!0,function(e,t){var n,r,a,i,s=e.getElementsByTagName("source");for(n=0,r=s.length;n<r;n++)(a=s[n])[H.ns]=!0,(i=a.getAttribute("srcset"))&&t.push({srcset:i,media:a.getAttribute("media"),type:a.getAttribute("type"),sizes:a.getAttribute("sizes")})}(t,u.sets)),u.srcset?(a={srcset:u.srcset,sizes:k.call(e,"sizes")},u.sets.push(a),(i=(f||u.src)&&W.test(u.srcset||""))||!u.src||T(u.src,a)||a.has1x||(a.srcset+=", "+u.src,a.cands.push({url:u.src,d:1,set:a}))):u.src&&u.sets.push({srcset:u.src,sizes:null}),u.curCan=null,u.curSrc=c,u.supported=!(o||a&&!H.supSrcset||i&&!H.supSizes),s&&H.supSrcset&&!u.supported&&(r?(D.call(e,F,r),e.srcset=""):I.call(e,F)),u.supported&&!u.srcset&&(!u.src&&e.src||e.src!==H.makeUrl(u.src))&&(null===u.src?e.removeAttribute("src"):e.src=u.src),u.parsed=!0},H.fillImg=function(e,t){var n,r,a,i,s,o=t.reselect||t.reevaluate;e[H.ns]||(e[H.ns]={}),n=e[H.ns],(o||n.evaled!==u)&&((!n.parsed||t.reevaluate)&&H.parseSets(e,e.parentNode,t),n.supported?n.evaled=u:(r=e,i=H.getSet(r),s=!1,"pending"!==i&&(s=u,i&&(a=H.setRes(i),H.applySetCandidate(a,r))),r[H.ns].evaled=s))},H.setupRun=function(){(!Z||q||J!==e.devicePixelRatio)&&(q=!1,J=e.devicePixelRatio,V={},K={},H.DPR=J||1,X.width=Math.max(e.innerWidth||0,z.clientWidth),X.height=Math.max(e.innerHeight||0,z.clientHeight),X.vw=X.width/100,X.vh=X.height/100,u=[X.height,X.width,J].join("-"),X.em=H.getEmValue(),X.rem=X.em)},H.supPicture?(le=B,H.fillImg=B):(h=e.attachEvent?/d$|^c/:/d$|^c|^i/,g=function e(){var t=i.readyState||"";v=setTimeout(e,"loading"===t?200:999),i.body&&(H.fillImgs(),(n=n||h.test(t))&&clearTimeout(v))},v=setTimeout(g,i.body?9:99),A=z.clientHeight,se(e,"resize",(o=function(){q=Math.max(e.innerWidth||0,z.clientWidth)!==X.width||z.clientHeight!==A,A=z.clientHeight,q&&H.fillImgs()},d=99,t=function e(){var t=new Date-p;t<d?m=setTimeout(e,d-t):(m=null,o())},function(){p=new Date,m||(m=setTimeout(t,d))})),se(i,"readystatechange",g)),H.picturefill=le,H.fillImgs=le,H.teardownRun=B,le._=H,e.picturefillCFG={pf:H,push:function(e){var t=e.shift();"function"==typeof H[t]?H[t].apply(H,e):(P[t]=e[0],Z&&H.fillImgs({reselect:!0}))}};for(;Q&&Q.length;)e.picturefillCFG.push(Q.shift());e.picturefill=le,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=le:"function"==typeof define&&define.amd&&define("picturefill",function(){return le}),H.supPicture||(N["image/webp"]=(R="image/webp",L="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(C=new e.Image).onerror=function(){N[R]=!1,le()},C.onload=function(){N[R]=1===C.width,le()},C.src=L,"pending"))}(window,document);var restaurant=void 0,map=void 0;window.initMap=function(){fetchRestaurantFromURL(function(e,t){e?console.error(e):(self.map=new google.maps.Map(document.getElementById("map"),{zoom:16,center:t.latlng,scrollwheel:!1}),document.getElementById("map").setAttribute("role","application"),fillBreadcrumb(),DBHelper.mapMarkerForRestaurant(self.restaurant,self.map))})},fetchRestaurantFromURL=function(n){if(self.restaurant)n(null,self.restaurant);else{var e=getParameterByName("id");e?DBHelper.fetchRestaurantById(e,function(e,t){(self.restaurant=t)?(fillRestaurantHTML(),n(null,t)):console.error(e)}):(error="No restaurant id in URL",n(error,null))}},fillRestaurantHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant,t=document.getElementById("restaurant-name");t.innerHTML=e.name,document.getElementById("restaurant-address").innerHTML=e.address;var n=document.getElementById("restaurant-img");n.className="restaurant-img",n.setAttribute("aria-label",t.innerHTML+" restaurant"),n.setAttribute("alt",t.innerHTML+" restaurant"),n.src=DBHelper.imageUrlForRestaurant(e),document.getElementById("restaurant-cuisine").innerHTML=e.cuisine_type,e.operating_hours&&fillRestaurantHoursHTML(),fillReviewsHTML()},fillRestaurantHoursHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.operating_hours,t=document.getElementById("restaurant-hours");for(var n in e){var r=document.createElement("tr"),a=document.createElement("td");a.innerHTML=n,a.style.color="#525252",r.appendChild(a);var i=document.createElement("td");i.innerHTML=e[n],i.style.color="#525252",r.appendChild(i),t.appendChild(r)}},fillReviewsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.reviews,t=document.getElementById("reviews-container"),n=document.createElement("h2");if(n.innerHTML="Reviews",t.appendChild(n),!e){var r=document.createElement("p");return r.innerHTML="No reviews yet!",void t.appendChild(r)}var a=document.getElementById("reviews-list");e.forEach(function(e){a.appendChild(createReviewHTML(e))}),t.appendChild(a)},createReviewHTML=function(e){var t=document.createElement("li"),n=document.createElement("div");n.className="review-header",t.appendChild(n);var r=document.createElement("h4");r.innerHTML=e.name,r.className="review-author",r.setAttribute("role","header"),r.setAttribute("tabindex","0"),n.appendChild(r);var a=document.createElement("span");a.innerHTML=e.date,a.className="review-date",a.setAttribute("tabindex","0"),n.appendChild(a);var i=document.createElement("div");i.className="review-content",t.appendChild(i);var s=document.createElement("div");s.innerHTML="Rating: "+e.rating,s.className="rating",s.setAttribute("tabindex","0"),i.appendChild(s);var o=document.createElement("p");return o.innerHTML=e.comments,o.setAttribute("tabindex","0"),i.appendChild(o),t},fillBreadcrumb=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant,t=document.getElementById("breadcrumb"),n=document.createElement("li");n.innerHTML=e.name,n.setAttribute("aria-current",e.name),t.appendChild(n)},getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},function(){var e=Cache.prototype.addAll,t=navigator.userAgent.match(/(Firefox|Chrome)\/(\d+\.)/);if(t)var n=t[1],r=parseInt(t[2]);e&&(!t||"Firefox"===n&&46<=r||"Chrome"===n&&50<=r)||(Cache.prototype.addAll=function(n){var r=this;function a(e){this.name="NetworkError",this.code=19,this.message=e}return a.prototype=Object.create(Error.prototype),Promise.resolve().then(function(){if(arguments.length<1)throw new TypeError;return n=n.map(function(e){return e instanceof Request?e:String(e)}),Promise.all(n.map(function(e){"string"==typeof e&&(e=new Request(e));var t=new URL(e.url).protocol;if("http:"!==t&&"https:"!==t)throw new a("Invalid scheme");return fetch(e.clone())}))}).then(function(e){if(e.some(function(e){return!e.ok}))throw new a("Incorrect response status");return Promise.all(e.map(function(e,t){return r.put(n[t],e)}))}).then(function(){})},Cache.prototype.add=function(e){return this.addAll([e])})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVyLmpzIiwibWFpbi5qcyIsInBpY3R1cmVmaWxsLm1pbi5qcyIsInJlc3RhdXJhbnRfaW5mby5qcyIsInNlcnZpY2V3b3JrZXItY2FjaGUtcG9seWZpbGwuanMiXSwibmFtZXMiOlsiZGJwcm9taXNlIiwiREJIZWxwZXIiLCJpZGIiLCJvcGVuIiwidXBncmFkZURiIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiZGF0YSIsIm9wZW5EYXRhYmFzZSIsInRoZW4iLCJkYiIsInR4IiwidHJhbnNhY3Rpb24iLCJzdG9yZSIsIm9iamVjdFN0b3JlIiwiZm9yRWFjaCIsInJlc3RhdXJhbnQiLCJwdXQiLCJjb21wbGV0ZSIsImdldEFsbCIsImZldGNoIiwiREFUQUJBU0VfVVJMIiwicmVzcG9uc2UiLCJqc29uIiwicmVzdGF1cmFudHMiLCJzYXZlRGF0YWJhc2UiLCJjYWxsYmFjayIsImdldENhY2hlZERiIiwibGVuZ3RoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmcm9tQXBpIiwiY2F0Y2giLCJlciIsImlkIiwiZmV0Y2hSZXN0YXVyYW50cyIsImVycm9yIiwiZmluZCIsInIiLCJjdWlzaW5lIiwicmVzdWx0cyIsImZpbHRlciIsImN1aXNpbmVfdHlwZSIsIm5laWdoYm9yaG9vZCIsIm5laWdoYm9yaG9vZHMiLCJtYXAiLCJ2IiwiaSIsInVuaXF1ZU5laWdoYm9yaG9vZHMiLCJpbmRleE9mIiwiY3Vpc2luZXMiLCJ1bmlxdWVDdWlzaW5lcyIsInBob3RvZ3JhcGgiLCJnb29nbGUiLCJtYXBzIiwiTWFya2VyIiwicG9zaXRpb24iLCJsYXRsbmciLCJ0aXRsZSIsIm5hbWUiLCJ1cmwiLCJ1cmxGb3JSZXN0YXVyYW50IiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsIm1hcmtlcnMiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmZXRjaE5laWdoYm9yaG9vZHMiLCJmZXRjaEN1aXNpbmVzIiwiY29uc29sZSIsInNlbGYiLCJmaWxsTmVpZ2hib3Job29kc0hUTUwiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJzZWxlY3QiLCJnZXRFbGVtZW50QnlJZCIsIm9wdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsImFwcGVuZCIsImZpbGxDdWlzaW5lc0hUTUwiLCJ3aW5kb3ciLCJpbml0TWFwIiwiTWFwIiwiem9vbSIsImNlbnRlciIsImxhdCIsImxuZyIsInNjcm9sbHdoZWVsIiwidXBkYXRlUmVzdGF1cmFudHMiLCJjU2VsZWN0IiwiblNlbGVjdCIsImNJbmRleCIsInNlbGVjdGVkSW5kZXgiLCJuSW5kZXgiLCJmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmVBbmROZWlnaGJvcmhvb2QiLCJyZXNldFJlc3RhdXJhbnRzIiwiZmlsbFJlc3RhdXJhbnRzSFRNTCIsIm0iLCJzZXRNYXAiLCJ1bCIsImNyZWF0ZVJlc3RhdXJhbnRIVE1MIiwiYWRkTWFya2Vyc1RvTWFwIiwibGkiLCJpbWFnZSIsImNsYXNzTmFtZSIsInNyYyIsImltYWdlVXJsRm9yUmVzdGF1cmFudCIsImFkZHJlc3MiLCJtb3JlIiwiaHJlZiIsIm1hcmtlciIsIm1hcE1hcmtlckZvclJlc3RhdXJhbnQiLCJldmVudCIsImFkZExpc3RlbmVyIiwibG9jYXRpb24iLCJwdXNoIiwiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJIVE1MUGljdHVyZUVsZW1lbnQiLCJ0ZXN0IiwibWF0Y2giLCJSZWdFeHAiLCIkMSIsInBhcmVudE5vZGUiLCJub2RlTmFtZSIsInRvVXBwZXJDYXNlIiwiY2xvbmVOb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJfcGZMYXN0U2l6ZSIsIm9mZnNldFdpZHRoIiwic2l6ZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xlYXJUaW1lb3V0IiwibWF0Y2hNZWRpYSIsInNyY3NldCIsInJlYWR5U3RhdGUiLCJyZXMiLCJrIiwicyIsInBhcnNlU2V0IiwibWFrZVVybCIsInAiLCJxIiwidCIsInUiLCJ3IiwiZ2V0QXR0cmlidXRlIiwieCIsInkiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ6IiwiZG9jdW1lbnRFbGVtZW50IiwiQSIsIkIiLCJhbGdvcml0aG0iLCJDIiwiRCIsIkUiLCJGIiwiRyIsIkgiLCJJIiwiSiIsInBpY3R1cmVmaWxsQ0ZHIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJkZXZpY2VQaXhlbFJhdGlvIiwiUSIsInB4IiwiaW4iLCJSIiwiUyIsIlQiLCJVIiwiViIsIlciLCJYIiwiWSIsIloiLCJhdHRhY2hFdmVudCIsIiQiLCJfIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiRnVuY3Rpb24iLCJhYSIsImNXaWR0aCIsImNhbGNMaXN0TGVuZ3RoIiwiYmEiLCJlbGVtZW50cyIsIm5vZGVUeXBlIiwiY29udGV4dCIsInFzYSIsInJlZXZhbHVhdGUiLCJyZXNlbGVjdCIsInNlbCIsInNlbFNob3J0Iiwic2V0dXBSdW4iLCJmaWxsSW1nIiwidGVhcmRvd25SdW4iLCJ3YXJuIiwiaW1wbGVtZW50YXRpb24iLCJoYXNGZWF0dXJlIiwibnMiLCJEYXRlIiwiZ2V0VGltZSIsInN1YnN0ciIsInN1cFNyY3NldCIsInN1cFNpemVzIiwic3VwUGljdHVyZSIsIndpZHRoIiwib25sb2FkIiwib25lcnJvciIsImNmZyIsIkRQUiIsInR5cGVzIiwic2V0U2l6ZSIsIm1hdGNoZXNNZWRpYSIsIm1hdGNoZXMiLCJtTVEiLCJhcHBseSIsInRoaXMiLCJjYWxjTGVuZ3RoIiwic3VwcG9ydHNUeXBlIiwicGFyc2VTaXplIiwibWVkaWEiLCJjYW5kcyIsImV4ZWMiLCJzdWJzdHJpbmciLCJqIiwibCIsIm8iLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJoYXMxeCIsInNldCIsIm4iLCJjaGFyQXQiLCJzbGljZSIsImdldEVtVmFsdWUiLCJib2R5Iiwic3R5bGUiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJ1VCIsInBvcCIsImpvaW4iLCJzZXRSZXMiLCJhcHBseVNldENhbmRpZGF0ZSIsImN1clNyYyIsImN1ckNhbiIsInNldHMiLCJjYWNoZWQiLCJzb3J0IiwiTWF0aCIsInBvdyIsInNxcnQiLCJzZXRTcmMiLCJ0eXBlIiwiZ2V0U2V0IiwicGFyc2VTZXRzIiwiY2FsbCIsInBpYyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3VwcG9ydGVkIiwicGFyc2VkIiwiZXZhbGVkIiwibWF4IiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ2dyIsInZoIiwiZW0iLCJyZW0iLCJmaWxsSW1ncyIsInBpY3R1cmVmaWxsIiwicGYiLCJzaGlmdCIsIm1vZHVsZSIsIl90eXBlb2YiLCJleHBvcnRzIiwiZGVmaW5lIiwiYW1kIiwiSW1hZ2UiLCJmZXRjaFJlc3RhdXJhbnRGcm9tVVJMIiwiZmlsbEJyZWFkY3J1bWIiLCJnZXRQYXJhbWV0ZXJCeU5hbWUiLCJmZXRjaFJlc3RhdXJhbnRCeUlkIiwiZmlsbFJlc3RhdXJhbnRIVE1MIiwib3BlcmF0aW5nX2hvdXJzIiwiZmlsbFJlc3RhdXJhbnRIb3Vyc0hUTUwiLCJmaWxsUmV2aWV3c0hUTUwiLCJvcGVyYXRpbmdIb3VycyIsImhvdXJzIiwia2V5Iiwicm93IiwiZGF5IiwiY29sb3IiLCJ0aW1lIiwicmV2aWV3cyIsImNvbnRhaW5lciIsIm5vUmV2aWV3cyIsInJldmlldyIsImNyZWF0ZVJldmlld0hUTUwiLCJyZXZpZXdIZWFkZXIiLCJkYXRlIiwicmV2aWV3Q29udGVudCIsInJhdGluZyIsImNvbW1lbnRzIiwiYnJlYWRjcnVtYiIsImRlY29kZVVSSUNvbXBvbmVudCIsIm5hdGl2ZUFkZEFsbCIsIkNhY2hlIiwicHJvdG90eXBlIiwiYWRkQWxsIiwiYWdlbnQiLCJ2ZXJzaW9uIiwicmVxdWVzdHMiLCJjYWNoZSIsIk5ldHdvcmtFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiT2JqZWN0IiwiY3JlYXRlIiwiRXJyb3IiLCJUeXBlRXJyb3IiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsIlN0cmluZyIsImFsbCIsInNjaGVtZSIsIlVSTCIsInByb3RvY29sIiwiY2xvbmUiLCJyZXNwb25zZXMiLCJzb21lIiwib2siLCJhZGQiXSwibWFwcGluZ3MiOiI2WEFpQkEsSUFBSUEsZUFBQUEsRUFDRUMsMEhBdUJGLE9BQU9DLElBQUlDLEtBQUssZUFBZ0IsRUFBRyxTQUFTQyxHQUMxQ0EsRUFBVUMsa0JBQWtCLGVBQWdCLENBQzFDQyxRQUFTLDhDQU9LQyxHQUNsQixPQUFPTixFQUFTTyxlQUFlQyxLQUFLLFNBQVNDLEdBQzNDLEdBQUtBLEVBQUwsQ0FDQSxJQUFJQyxFQUFLRCxFQUFHRSxZQUFZLGVBQWdCLGFBQ3BDQyxFQUFRRixFQUFHRyxZQUFZLGdCQUkzQixPQUhBUCxFQUFLUSxRQUFRLFNBQVNDLEdBQ3BCSCxFQUFNSSxJQUFJRCxLQUVMTCxFQUFHTyxrREFTWixPQURBbEIsVUFBWUMsRUFBU08sZ0JBQ0pDLEtBQUssU0FBU0MsR0FDN0IsR0FBS0EsRUFHTCxPQUZTQSxFQUFHRSxZQUFZLGdCQUNURSxZQUFZLGdCQUNkSyw2Q0FLZixPQUFPQyxNQUFNbkIsRUFBU29CLGNBQ25CWixLQUFLLFNBQVNhLEdBQ2IsT0FBT0EsRUFBU0MsU0FDZmQsS0FBSyxTQUFDZSxHQUVQLE9BREF2QixFQUFTd0IsYUFBYUQsR0FDZkEsNkNBUVdFLEdBNkJ0QixPQUFPekIsRUFBUzBCLGNBQWNsQixLQUFLLFNBQUNlLEdBQ2xDLE9BQUlBLEVBQVlJLE9BQ1BDLFFBQVFDLFFBQVFOLEdBRWhCdkIsRUFBUzhCLFlBRWpCdEIsS0FBSyxTQUFDZSxHQUNMRSxFQUFTLEtBQU1GLEtBRWhCUSxNQUFNLFNBQUNDLEdBQ05QLEVBQVNPLEVBQUksb0RBU1FDLEVBQUlSLEdBRTdCekIsRUFBU2tDLGlCQUFpQixTQUFDQyxFQUFPWixHQUNoQyxHQUFJWSxFQUNGVixFQUFTVSxFQUFPLFVBQ1gsQ0FDTCxJQUFNcEIsRUFBYVEsRUFB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SXpCLFFBR2pDYixLQUFLLGVBS1ZvVSxNQUFNQyxVQUFVd0IsSUFBTSxTQUFhWCxHQUNqQyxPQUFPNUcsS0FBS2dHLE9BQU8sQ0FBQ1ksTUFuRnZCIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBcInJlcXVpcmUtanNkb2NcIjogW1wiZXJyb3JcIiwge1xuICAgIFwicmVxdWlyZVwiOiB7XG4gICAgICAgIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiOiB0cnVlLFxuICAgICAgICBcIk1ldGhvZERlZmluaXRpb25cIjogZmFsc2UsXG4gICAgICAgIFwiQ2xhc3NEZWNsYXJhdGlvblwiOiBmYWxzZSxcbiAgICAgICAgXCJBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvblwiOiBmYWxzZSxcbiAgICAgICAgXCJGdW5jdGlvbkV4cHJlc3Npb25cIjogZmFsc2VcbiAgICB9XG59XSovXG4vKiBlc2xpbnQgdmFsaWQtanNkb2M6IFwiZXJyb3JcIiovXG4vKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImNvZGVcIjogMTAwIH1dKi9cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNcIjogXCJsb2NhbFwiIH1dKi9cbi8vIGltcG9ydCBpZGIgZnJvbSBcImlkYlwiO1xuXG4vKipcbiAqIENvbW1vbiBkYXRhYmFzZSBoZWxwZXIgZnVuY3Rpb25zLlxuICovXG5sZXQgZGJwcm9taXNlO1xuY2xhc3MgREJIZWxwZXIge1xuICAvKipcbiAgICogRGF0YWJhc2UgVVJMLlxuICAgKiBDaGFuZ2UgdGhpcyB0byByZXN0YXVyYW50cy5qc29uIGZpbGUgbG9jYXRpb24gb24geW91ciBzZXJ2ZXIuXG4gICAqL1xuICBzdGF0aWMgZ2V0IERBVEFCQVNFX1VSTCgpIHtcbiAgICAvKipcbiAgICAqIGNvbnN0IHBvcnQgPSA4MDAwIC8vIENoYW5nZSB0aGlzIHRvIHlvdXIgc2VydmVyIHBvcnRcbiAgICAqIHJldHVybiBgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9L2RhdGEvcmVzdGF1cmFudHMuanNvbmA7XG4gICAgKi9cbiAgICBjb25zdCBwb3J0ID0gMTMzNzsgLy8gQ2hhbmdlIHRoaXMgdG8geW91ciBzZXJ2ZXIgcG9ydFxuICAgIHJldHVybiBgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9L3Jlc3RhdXJhbnRzYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgRGF0YWJhc2VcbiAgICovXG5cbiAgc3RhdGljIG9wZW5EYXRhYmFzZSgpIHtcbiAgICAvLyBpZiAoIW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyKXtcbiAgICAvLyAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIC8vIH1cblxuICAgIHJldHVybiBpZGIub3BlbigncmVzdGF1cmFudERiJywgMSwgZnVuY3Rpb24odXBncmFkZURiKSB7XG4gICAgICB1cGdyYWRlRGIuY3JlYXRlT2JqZWN0U3RvcmUoJ3Jlc3RhdXJhbnREYicsIHtcbiAgICAgICAga2V5UGF0aDogJ2lkJ30pO1xuICAgICAgLy8gc3RvcmUuY3JlYXRlSW5kZXgoJ2J5LWlkJywnaWQnKTtcbiAgICB9KTtcbiAgfVxuICAvKlxuICAqU2F2aW5nIG9uIGRhdGFiYXNlXG4gICovXG4gIHN0YXRpYyBzYXZlRGF0YWJhc2UoZGF0YSkge1xuICAgIHJldHVybiBEQkhlbHBlci5vcGVuRGF0YWJhc2UoKS50aGVuKGZ1bmN0aW9uKGRiKSB7XG4gICAgICBpZiAoIWRiKSByZXR1cm47XG4gICAgICBsZXQgdHggPSBkYi50cmFuc2FjdGlvbigncmVzdGF1cmFudERiJywgJ3JlYWR3cml0ZScpO1xuICAgICAgbGV0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoJ3Jlc3RhdXJhbnREYicpO1xuICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHJlc3RhdXJhbnQpIHtcbiAgICAgICAgc3RvcmUucHV0KHJlc3RhdXJhbnQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHguY29tcGxldGU7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICAqR2V0dGluZyBkYXRhIGZyb20gREJcbiAgKi9cbiAgc3RhdGljIGdldENhY2hlZERiKCkge1xuICAgIGRicHJvbWlzZSA9IERCSGVscGVyLm9wZW5EYXRhYmFzZSgpO1xuICAgIHJldHVybiBkYnByb21pc2UudGhlbihmdW5jdGlvbihkYikge1xuICAgICAgaWYgKCFkYikgcmV0dXJuO1xuICAgICAgbGV0IHR4ID0gZGIudHJhbnNhY3Rpb24oJ3Jlc3RhdXJhbnREYicpO1xuICAgICAgbGV0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoJ3Jlc3RhdXJhbnREYicpO1xuICAgICAgcmV0dXJuIHN0b3JlLmdldEFsbCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGZyb21BcGkoKSB7XG4gICAgcmV0dXJuIGZldGNoKERCSGVscGVyLkRBVEFCQVNFX1VSTClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KS50aGVuKChyZXN0YXVyYW50cykgPT4ge1xuICAgICAgICBEQkhlbHBlci5zYXZlRGF0YWJhc2UocmVzdGF1cmFudHMpO1xuICAgICAgICByZXR1cm4gcmVzdGF1cmFudHM7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhbGwgcmVzdGF1cmFudHMuXG4gICAqL1xuXG4gIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRzKGNhbGxiYWNrKSB7XG4gICAgLyoqIHN0YWdlMVxuICAgICpsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgKnhoci5vcGVuKCdHRVQnLCBEQkhlbHBlci5EQVRBQkFTRV9VUkwpO1xuICAgICp4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICogIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHsgLy8gR290IGEgc3VjY2VzcyByZXNwb25zZSBmcm9tIHNlcnZlciFcbiAgICAqICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICogICAgY29uc3QgcmVzdGF1cmFudHMgPSBqc29uLnJlc3RhdXJhbnRzO1xuICAgICogICAgY2FsbGJhY2sobnVsbCwgcmVzdGF1cmFudHMpO1xuICAgICogIH0gZWxzZSB7IC8vIE9vcHMhLiBHb3QgYW4gZXJyb3IgZnJvbSBzZXJ2ZXIuXG4gICAgKiAgICBjb25zdCBlcnJvciA9IChgUmVxdWVzdCBmYWlsZWQuIFJldHVybmVkIHN0YXR1cyBvZiAke3hoci5zdGF0dXN9YCk7XG4gICAgKiAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgKiAgfVxuICAgICp9O1xuICAgICp4aHIuc2VuZCgpO1xuICAgICoqL1xuXG4gICAvKiogVGVzdGluZyBmZXRjaCBmcm9tIGR1bW15IHNlcnZlclxuICAgICpmZXRjaChEQkhlbHBlci5EQVRBQkFTRV9VUkwpXG4gICAgKiAgLnRoZW4ocmVzcG9uZCA9PiB7XG4gICAgKiAgICBpZiAoIXJlc3BvbmQub2spe1xuICAgICogICAgICB0aHJvdyBcIlVuYWJsZSB0byBmZXRjaCBmcm9tIHNlcnZlciFcIjtcbiAgICAqICAgIH1cbiAgICAqICAgIHJldHVybiByZXNwb25kLmpzb24oKTtcbiAgICAqICB9KVxuICAgICogIC50aGVuKHJlc3RhdXJhbnRzID0+IGNhbGxiYWNrKG51bGwsIHJlc3RhdXJhbnRzKSlcbiAgICAqICAuY2F0Y2goZSA9PiBjYWxsYmFjayhlLG51bGwpKVxuICAgICoqL1xuXG4gICAgcmV0dXJuIERCSGVscGVyLmdldENhY2hlZERiKCkudGhlbigocmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChyZXN0YXVyYW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN0YXVyYW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gREJIZWxwZXIuZnJvbUFwaSgpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3RhdXJhbnRzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVyKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGVyLCBudWxsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHJlc3RhdXJhbnQgYnkgaXRzIElELlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlJZChpZCwgY2FsbGJhY2spIHtcbiAgICAvLyBmZXRjaCBhbGwgcmVzdGF1cmFudHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudCA9IHJlc3RhdXJhbnRzLmZpbmQoKHIpID0+IHIuaWQgPT0gaWQpO1xuICAgICAgICBpZiAocmVzdGF1cmFudCkgeyAvLyBHb3QgdGhlIHJlc3RhdXJhbnRcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN0YXVyYW50KTtcbiAgICAgICAgfSBlbHNlIHsgLy8gUmVzdGF1cmFudCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICBjYWxsYmFjaygnUmVzdGF1cmFudCBkb2VzIG5vdCBleGlzdCcsIG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggcmVzdGF1cmFudHMgYnkgYSBjdWlzaW5lIHR5cGUgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAqL1xuXG4gIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmUoY3Vpc2luZSwgY2FsbGJhY2spIHtcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHMgIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nXG4gICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmlsdGVyIHJlc3RhdXJhbnRzIHRvIGhhdmUgb25seSBnaXZlbiBjdWlzaW5lIHR5cGVcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHJlc3RhdXJhbnRzLmZpbHRlcigocikgPT4gci5jdWlzaW5lX3R5cGUgPT0gY3Vpc2luZSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgbmVpZ2hib3Job29kIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nLlxuICAgKi9cblxuICBzdGF0aWMgZmV0Y2hSZXN0YXVyYW50QnlOZWlnaGJvcmhvb2QobmVpZ2hib3Job29kLCBjYWxsYmFjaykge1xuICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZpbHRlciByZXN0YXVyYW50cyB0byBoYXZlIG9ubHkgZ2l2ZW4gbmVpZ2hib3Job29kXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSByZXN0YXVyYW50cy5maWx0ZXIoKHIpID0+IHIubmVpZ2hib3Job29kID09IG5laWdoYm9yaG9vZCk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHJlc3RhdXJhbnRzIGJ5IGEgY3Vpc2luZSBhbmQgYSBuZWlnaGJvcmhvb2Qgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAqL1xuXG4gIHN0YXRpYyBmZXRjaFJlc3RhdXJhbnRCeUN1aXNpbmVBbmROZWlnaGJvcmhvb2QoY3Vpc2luZSwgbmVpZ2hib3Job29kLCBjYWxsYmFjaykge1xuICAgIC8vIEZldGNoIGFsbCByZXN0YXVyYW50c1xuICAgIERCSGVscGVyLmZldGNoUmVzdGF1cmFudHMoKGVycm9yLCByZXN0YXVyYW50cykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gcmVzdGF1cmFudHM7XG4gICAgICAgIGlmIChjdWlzaW5lICE9ICdhbGwnKSB7IC8vIGZpbHRlciBieSBjdWlzaW5lXG4gICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiByLmN1aXNpbmVfdHlwZSA9PSBjdWlzaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVpZ2hib3Job29kICE9ICdhbGwnKSB7IC8vIGZpbHRlciBieSBuZWlnaGJvcmhvb2RcbiAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoKHIpID0+IHIubmVpZ2hib3Job29kID09IG5laWdoYm9yaG9vZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYWxsIG5laWdoYm9yaG9vZHMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAqL1xuXG4gIHN0YXRpYyBmZXRjaE5laWdoYm9yaG9vZHMoY2FsbGJhY2spIHtcbiAgICAvLyBGZXRjaCBhbGwgcmVzdGF1cmFudHNcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRzKChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhlcnJvciwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHZXQgYWxsIG5laWdoYm9yaG9vZHMgZnJvbSBhbGwgcmVzdGF1cmFudHNcbiAgICAgICAgY29uc3QgbmVpZ2hib3Job29kcyA9IHJlc3RhdXJhbnRzLm1hcCgodiwgaSkgPT4gcmVzdGF1cmFudHNbaV0ubmVpZ2hib3Job29kKTtcbiAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBuZWlnaGJvcmhvb2RzXG4gICAgICAgIGNvbnN0IHVuaXF1ZU5laWdoYm9yaG9vZHMgPSBuZWlnaGJvcmhvb2RzLmZpbHRlcigodiwgaSkgPT4gbmVpZ2hib3Job29kcy5pbmRleE9mKHYpID09IGkpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCB1bmlxdWVOZWlnaGJvcmhvb2RzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhbGwgY3Vpc2luZXMgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcuXG4gICAqL1xuXG4gIHN0YXRpYyBmZXRjaEN1aXNpbmVzKGNhbGxiYWNrKSB7XG4gICAgLy8gRmV0Y2ggYWxsIHJlc3RhdXJhbnRzXG4gICAgREJIZWxwZXIuZmV0Y2hSZXN0YXVyYW50cygoZXJyb3IsIHJlc3RhdXJhbnRzKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gR2V0IGFsbCBjdWlzaW5lcyBmcm9tIGFsbCByZXN0YXVyYW50c1xuICAgICAgICBjb25zdCBjdWlzaW5lcyA9IHJlc3RhdXJhbnRzLm1hcCgodiwgaSkgPT4gcmVzdGF1cmFudHNbaV0uY3Vpc2luZV90eXBlKTtcbiAgICAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgZnJvbSBjdWlzaW5lc1xuICAgICAgICBjb25zdCB1bmlxdWVDdWlzaW5lcyA9IGN1aXNpbmVzLmZpbHRlcigodiwgaSkgPT4gY3Vpc2luZXMuaW5kZXhPZih2KSA9PSBpKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgdW5pcXVlQ3Vpc2luZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RhdXJhbnQgcGFnZSBVUkwuXG4gICAqL1xuXG4gIHN0YXRpYyB1cmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpIHtcbiAgICByZXR1cm4gKGAuL3Jlc3RhdXJhbnQuaHRtbD9pZD0ke3Jlc3RhdXJhbnQuaWR9YCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGF1cmFudCBpbWFnZSBVUkwuXG4gICAqL1xuXG4gIHN0YXRpYyBpbWFnZVVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCkge1xuICAgIC8vIHJldHVybiAoYC9pbWcvJHtyZXN0YXVyYW50LnBob3RvZ3JhcGh9YFxuICAgIHJldHVybiAoYC9kaXN0L2ltZy8ke3Jlc3RhdXJhbnQucGhvdG9ncmFwaH0uanBnYCk7XG4gIH1cblxuICAvKipcbiAgICogTWFwIG1hcmtlciBmb3IgYSByZXN0YXVyYW50LlxuICAgKi9cblxuICBzdGF0aWMgbWFwTWFya2VyRm9yUmVzdGF1cmFudChyZXN0YXVyYW50LCBtYXApIHtcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgIHBvc2l0aW9uOiByZXN0YXVyYW50LmxhdGxuZyxcbiAgICAgIHRpdGxlOiByZXN0YXVyYW50Lm5hbWUsXG4gICAgICB1cmw6IERCSGVscGVyLnVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCksXG4gICAgICBtYXA6IG1hcCxcbiAgICAgIGFuaW1hdGlvbjogZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkRST1B9XG4gICAgKTtcbiAgICByZXR1cm4gbWFya2VyO1xuICB9XG59XG4iLCIvKiBlc2xpbnQgbWF4LWxlbjogW1wiZXJyb3JcIiwgeyBcImNvZGVcIjogMTAwIH1dKi9cbi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNcIjogXCJsb2NhbFwiIH1dKi9cblxubGV0IHJlc3RhdXJhbnRzO1xubGV0IG5laWdoYm9yaG9vZHM7XG5sZXQgY3Vpc2luZXM7XG52YXIgbWFwO1xudmFyIG1hcmtlcnMgPSBbXTtcblxuLyoqXG4gKiBGZXRjaCBuZWlnaGJvcmhvb2RzIGFuZCBjdWlzaW5lcyBhcyBzb29uIGFzIHRoZSBwYWdlIGlzIGxvYWRlZC5cbiAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgZmV0Y2hOZWlnaGJvcmhvb2RzKCk7XG4gIGZldGNoQ3Vpc2luZXMoKTtcbn0pO1xuXG4vKipcbiAqIEZldGNoIGFsbCBuZWlnaGJvcmhvb2RzIGFuZCBzZXQgdGhlaXIgSFRNTC5cbiAqL1xuZmV0Y2hOZWlnaGJvcmhvb2RzID0gKCkgPT4ge1xuICBEQkhlbHBlci5mZXRjaE5laWdoYm9yaG9vZHMoKGVycm9yLCBuZWlnaGJvcmhvb2RzKSA9PiB7XG4gICAgaWYgKGVycm9yICE9IG51bGwpIHsgLy8gR290IGFuIGVycm9yXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5uZWlnaGJvcmhvb2RzID0gbmVpZ2hib3Job29kcztcbiAgICAgIGZpbGxOZWlnaGJvcmhvb2RzSFRNTCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFNldCBuZWlnaGJvcmhvb2RzIEhUTUwuXG4gKi9cblxuZmlsbE5laWdoYm9yaG9vZHNIVE1MID0gKG5laWdoYm9yaG9vZHMgPSBzZWxmLm5laWdoYm9yaG9vZHMpID0+IHtcbiAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25laWdoYm9yaG9vZHMtc2VsZWN0Jyk7XG4gIG5laWdoYm9yaG9vZHMuZm9yRWFjaCgobmVpZ2hib3Job29kKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgb3B0aW9uLmlubmVySFRNTCA9IG5laWdoYm9yaG9vZDtcbiAgICBvcHRpb24udmFsdWUgPSBuZWlnaGJvcmhvb2Q7XG4gICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG5laWdoYm9yaG9vZCk7XG4gICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdvcHRpb24nKTtcbiAgICBzZWxlY3QuYXBwZW5kKG9wdGlvbik7XG4gICAgLy8gc2VsZWN0WzBdLnNldEF0dHJpYnV0ZSgnbGFiZWwnLHNlbGVjdFswXS5pbm5lckhUTUwpO1xuICB9KTtcbn07XG5cbi8qKlxuICogRmV0Y2ggYWxsIGN1aXNpbmVzIGFuZCBzZXQgdGhlaXIgSFRNTC5cbiAqL1xuXG5mZXRjaEN1aXNpbmVzID0gKCkgPT4ge1xuICBEQkhlbHBlci5mZXRjaEN1aXNpbmVzKChlcnJvciwgY3Vpc2luZXMpID0+IHtcbiAgICBpZiAoZXJyb3IpIHsgLy8gR290IGFuIGVycm9yIVxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY3Vpc2luZXMgPSBjdWlzaW5lcztcbiAgICAgIGZpbGxDdWlzaW5lc0hUTUwoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBTZXQgY3Vpc2luZXMgSFRNTC5cbiAqL1xuXG5maWxsQ3Vpc2luZXNIVE1MID0gKGN1aXNpbmVzID0gc2VsZi5jdWlzaW5lcykgPT4ge1xuICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vpc2luZXMtc2VsZWN0Jyk7XG5cbiAgY3Vpc2luZXMuZm9yRWFjaCgoY3Vpc2luZSkgPT4ge1xuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIG9wdGlvbi5pbm5lckhUTUwgPSBjdWlzaW5lO1xuICAgIG9wdGlvbi52YWx1ZSA9IGN1aXNpbmU7XG4gICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGN1aXNpbmUpO1xuICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnb3B0aW9uJyk7XG4gICAgc2VsZWN0LmFwcGVuZChvcHRpb24pO1xuICB9KTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBHb29nbGUgbWFwLCBjYWxsZWQgZnJvbSBIVE1MLlxuICovXG5cbndpbmRvdy5pbml0TWFwID0gKCkgPT4ge1xuICBsZXQgbG9jID0ge1xuICAgIGxhdDogNDAuNzIyMjE2LFxuICAgIGxuZzogLTczLjk4NzUwMSxcbiAgfTtcblxuICBzZWxmLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG4gICAgem9vbTogMTIsXG4gICAgY2VudGVyOiBsb2MsXG4gICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICB9KTtcblxuICB1cGRhdGVSZXN0YXVyYW50cygpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgcGFnZSBhbmQgbWFwIGZvciBjdXJyZW50IHJlc3RhdXJhbnRzLlxuICovXG5cbnVwZGF0ZVJlc3RhdXJhbnRzID0gKCkgPT4ge1xuICBjb25zdCBjU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1aXNpbmVzLXNlbGVjdCcpO1xuICBjb25zdCBuU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25laWdoYm9yaG9vZHMtc2VsZWN0Jyk7XG5cbiAgY29uc3QgY0luZGV4ID0gY1NlbGVjdC5zZWxlY3RlZEluZGV4O1xuICBjb25zdCBuSW5kZXggPSBuU2VsZWN0LnNlbGVjdGVkSW5kZXg7XG5cbiAgY29uc3QgY3Vpc2luZSA9IGNTZWxlY3RbY0luZGV4XS52YWx1ZTtcblxuICAvLyBjU2VsZWN0WzBdLnNldEF0dHJpYnV0ZSgnbGFiZWwnLGNTZWxlY3RbMF0uaW5uZXJIVE1MKTtcbiAgY29uc3QgbmVpZ2hib3Job29kID0gblNlbGVjdFtuSW5kZXhdLnZhbHVlO1xuXG4gIERCSGVscGVyLmZldGNoUmVzdGF1cmFudEJ5Q3Vpc2luZUFuZE5laWdoYm9yaG9vZChjdWlzaW5lLCBuZWlnaGJvcmhvb2QsIChlcnJvciwgcmVzdGF1cmFudHMpID0+IHtcbiAgICBpZiAoZXJyb3IpIHsgLy8gR290IGFuIGVycm9yIVxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc2V0UmVzdGF1cmFudHMocmVzdGF1cmFudHMpO1xuICAgICAgZmlsbFJlc3RhdXJhbnRzSFRNTCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIENsZWFyIGN1cnJlbnQgcmVzdGF1cmFudHMsIHRoZWlyIEhUTUwgYW5kIHJlbW92ZSB0aGVpciBtYXAgbWFya2Vycy5cbiAqL1xuXG5yZXNldFJlc3RhdXJhbnRzID0gKHJlc3RhdXJhbnRzKSA9PiB7XG4gIC8vIFJlbW92ZSBhbGwgcmVzdGF1cmFudHNcbiAgc2VsZi5yZXN0YXVyYW50cyA9IFtdO1xuICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50cy1saXN0Jyk7XG4gIHVsLmlubmVySFRNTCA9ICcnO1xuXG4gIC8vIFJlbW92ZSBhbGwgbWFwIG1hcmtlcnNcbiAgc2VsZi5tYXJrZXJzLmZvckVhY2goKG0pID0+IG0uc2V0TWFwKG51bGwpKTtcbiAgc2VsZi5tYXJrZXJzID0gW107XG4gIHNlbGYucmVzdGF1cmFudHMgPSByZXN0YXVyYW50cztcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFsbCByZXN0YXVyYW50cyBIVE1MIGFuZCBhZGQgdGhlbSB0byB0aGUgd2VicGFnZS5cbiAqL1xuXG5maWxsUmVzdGF1cmFudHNIVE1MID0gKHJlc3RhdXJhbnRzID0gc2VsZi5yZXN0YXVyYW50cykgPT4ge1xuICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50cy1saXN0Jyk7XG4gIHJlc3RhdXJhbnRzLmZvckVhY2goKHJlc3RhdXJhbnQpID0+IHtcbiAgICB1bC5hcHBlbmQoY3JlYXRlUmVzdGF1cmFudEhUTUwocmVzdGF1cmFudCkpO1xuICB9KTtcbiAgYWRkTWFya2Vyc1RvTWFwKCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSByZXN0YXVyYW50IEhUTUwuXG4gKi9cblxuY3JlYXRlUmVzdGF1cmFudEhUTUwgPSAocmVzdGF1cmFudCkgPT4ge1xuICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGxpLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0aXRlbScpO1xuICBsaS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcblxuICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBpbWFnZS5jbGFzc05hbWUgPSAncmVzdGF1cmFudC1pbWcnO1xuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnaW1nJyk7XG4gIGltYWdlLnNyYyA9IERCSGVscGVyLmltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KTtcblxuICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgbmFtZS5pbm5lckhUTUwgPSByZXN0YXVyYW50Lm5hbWU7XG4gIC8qIHVuaXF1ZSBhbHQgZm9yIHRoZSBpbWFnZSAqL1xuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBuYW1lLmlubmVySFRNTCsnIHJlc3RhdXJhbnQnKTtcbiAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCBuYW1lLmlubmVySFRNTCsnIHJlc3RhdXJhbnQnKTtcblxuICBsaS5hcHBlbmQoaW1hZ2UpO1xuICBsaS5hcHBlbmQobmFtZSk7XG5cbiAgY29uc3QgbmVpZ2hib3Job29kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICBuZWlnaGJvcmhvb2QuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5uZWlnaGJvcmhvb2Q7XG4gIGxpLmFwcGVuZChuZWlnaGJvcmhvb2QpO1xuXG4gIGNvbnN0IGFkZHJlc3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIGFkZHJlc3MuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5hZGRyZXNzO1xuICBsaS5hcHBlbmQoYWRkcmVzcyk7XG5cbiAgY29uc3QgbW9yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgbW9yZS5pbm5lckhUTUwgPSAnVmlldyBEZXRhaWxzJztcbiAgbW9yZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbGluaycpO1xuXG4gIG1vcmUuaHJlZiA9IERCSGVscGVyLnVybEZvclJlc3RhdXJhbnQocmVzdGF1cmFudCk7XG4gIGxpLmFwcGVuZChtb3JlKTtcblxuICByZXR1cm4gbGk7XG59O1xuXG4vKipcbiAqIEFkZCBtYXJrZXJzIGZvciBjdXJyZW50IHJlc3RhdXJhbnRzIHRvIHRoZSBtYXAuXG4gKi9cblxuYWRkTWFya2Vyc1RvTWFwID0gKHJlc3RhdXJhbnRzID0gc2VsZi5yZXN0YXVyYW50cykgPT4ge1xuICByZXN0YXVyYW50cy5mb3JFYWNoKChyZXN0YXVyYW50KSA9PiB7XG4gICAgLy8gQWRkIG1hcmtlciB0byB0aGUgbWFwXG4gICAgY29uc3QgbWFya2VyID0gREJIZWxwZXIubWFwTWFya2VyRm9yUmVzdGF1cmFudChyZXN0YXVyYW50LCBzZWxmLm1hcCk7XG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IG1hcmtlci51cmw7XG4gICAgfSk7XG4gICAgc2VsZi5tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgfSk7XG59O1xuIiwiLyohIHBpY3R1cmVmaWxsIC0gdjMuMC4yIC0gMjAxNi0wMi0xMlxuICogaHR0cHM6Ly9zY290dGplaGwuZ2l0aHViLmlvL3BpY3R1cmVmaWxsL1xuICogQ29weXJpZ2h0IChjKSAyMDE2IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGplaGwvcGljdHVyZWZpbGwvYmxvYi9tYXN0ZXIvQXV0aG9ycy50eHQ7IExpY2Vuc2VkIE1JVFxuICovXG4hZnVuY3Rpb24oYSl7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudDthLkhUTUxQaWN0dXJlRWxlbWVudCYmL2Vja28vLnRlc3QoYikmJmIubWF0Y2goL3J2XFw6KFxcZCspLykmJlJlZ0V4cC4kMTw0NSYmYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7dmFyIGIsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpLGQ9ZnVuY3Rpb24oYSl7dmFyIGIsZCxlPWEucGFyZW50Tm9kZTtcIlBJQ1RVUkVcIj09PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKT8oYj1jLmNsb25lTm9kZSgpLGUuaW5zZXJ0QmVmb3JlKGIsZS5maXJzdEVsZW1lbnRDaGlsZCksc2V0VGltZW91dChmdW5jdGlvbigpe2UucmVtb3ZlQ2hpbGQoYil9KSk6KCFhLl9wZkxhc3RTaXplfHxhLm9mZnNldFdpZHRoPmEuX3BmTGFzdFNpemUpJiYoYS5fcGZMYXN0U2l6ZT1hLm9mZnNldFdpZHRoLGQ9YS5zaXplcyxhLnNpemVzKz1cIiwxMDB2d1wiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnNpemVzPWR9KSl9LGU9ZnVuY3Rpb24oKXt2YXIgYSxiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwaWN0dXJlID4gaW1nLCBpbWdbc3Jjc2V0XVtzaXplc11cIik7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKylkKGJbYV0pfSxmPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGIpLGI9c2V0VGltZW91dChlLDk5KX0sZz1hLm1hdGNoTWVkaWEmJm1hdGNoTWVkaWEoXCIob3JpZW50YXRpb246IGxhbmRzY2FwZSlcIiksaD1mdW5jdGlvbigpe2YoKSxnJiZnLmFkZExpc3RlbmVyJiZnLmFkZExpc3RlbmVyKGYpfTtyZXR1cm4gYy5zcmNzZXQ9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiLC9eW2N8aV18ZCQvLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZXx8XCJcIik/aCgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsaCksZn0oKSl9KHdpbmRvdyksZnVuY3Rpb24oYSxiLGMpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoYSl7cmV0dXJuXCIgXCI9PT1hfHxcIlx0XCI9PT1hfHxcIlxcblwiPT09YXx8XCJcXGZcIj09PWF8fFwiXFxyXCI9PT1hfWZ1bmN0aW9uIGUoYixjKXt2YXIgZD1uZXcgYS5JbWFnZTtyZXR1cm4gZC5vbmVycm9yPWZ1bmN0aW9uKCl7QVtiXT0hMSxiYSgpfSxkLm9ubG9hZD1mdW5jdGlvbigpe0FbYl09MT09PWQud2lkdGgsYmEoKX0sZC5zcmM9YyxcInBlbmRpbmdcIn1mdW5jdGlvbiBmKCl7TT0hMSxQPWEuZGV2aWNlUGl4ZWxSYXRpbyxOPXt9LE89e30scy5EUFI9UHx8MSxRLndpZHRoPU1hdGgubWF4KGEuaW5uZXJXaWR0aHx8MCx6LmNsaWVudFdpZHRoKSxRLmhlaWdodD1NYXRoLm1heChhLmlubmVySGVpZ2h0fHwwLHouY2xpZW50SGVpZ2h0KSxRLnZ3PVEud2lkdGgvMTAwLFEudmg9US5oZWlnaHQvMTAwLHI9W1EuaGVpZ2h0LFEud2lkdGgsUF0uam9pbihcIi1cIiksUS5lbT1zLmdldEVtVmFsdWUoKSxRLnJlbT1RLmVtfWZ1bmN0aW9uIGcoYSxiLGMsZCl7dmFyIGUsZixnLGg7cmV0dXJuXCJzYXZlRGF0YVwiPT09Qi5hbGdvcml0aG0/YT4yLjc/aD1jKzE6KGY9Yi1jLGU9TWF0aC5wb3coYS0uNiwxLjUpLGc9ZiplLGQmJihnKz0uMSplKSxoPWErZyk6aD1jPjE/TWF0aC5zcXJ0KGEqYik6YSxoPmN9ZnVuY3Rpb24gaChhKXt2YXIgYixjPXMuZ2V0U2V0KGEpLGQ9ITE7XCJwZW5kaW5nXCIhPT1jJiYoZD1yLGMmJihiPXMuc2V0UmVzKGMpLHMuYXBwbHlTZXRDYW5kaWRhdGUoYixhKSkpLGFbcy5uc10uZXZhbGVkPWR9ZnVuY3Rpb24gaShhLGIpe3JldHVybiBhLnJlcy1iLnJlc31mdW5jdGlvbiBqKGEsYixjKXt2YXIgZDtyZXR1cm4hYyYmYiYmKGM9YVtzLm5zXS5zZXRzLGM9YyYmY1tjLmxlbmd0aC0xXSksZD1rKGIsYyksZCYmKGI9cy5tYWtlVXJsKGIpLGFbcy5uc10uY3VyU3JjPWIsYVtzLm5zXS5jdXJDYW49ZCxkLnJlc3x8YWEoZCxkLnNldC5zaXplcykpLGR9ZnVuY3Rpb24gayhhLGIpe3ZhciBjLGQsZTtpZihhJiZiKWZvcihlPXMucGFyc2VTZXQoYiksYT1zLm1ha2VVcmwoYSksYz0wO2M8ZS5sZW5ndGg7YysrKWlmKGE9PT1zLm1ha2VVcmwoZVtjXS51cmwpKXtkPWVbY107YnJlYWt9cmV0dXJuIGR9ZnVuY3Rpb24gbChhLGIpe3ZhciBjLGQsZSxmLGc9YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNvdXJjZVwiKTtmb3IoYz0wLGQ9Zy5sZW5ndGg7ZD5jO2MrKyllPWdbY10sZVtzLm5zXT0hMCxmPWUuZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpLGYmJmIucHVzaCh7c3Jjc2V0OmYsbWVkaWE6ZS5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKSx0eXBlOmUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxzaXplczplLmdldEF0dHJpYnV0ZShcInNpemVzXCIpfSl9ZnVuY3Rpb24gbShhLGIpe2Z1bmN0aW9uIGMoYil7dmFyIGMsZD1iLmV4ZWMoYS5zdWJzdHJpbmcobSkpO3JldHVybiBkPyhjPWRbMF0sbSs9Yy5sZW5ndGgsYyk6dm9pZCAwfWZ1bmN0aW9uIGUoKXt2YXIgYSxjLGQsZSxmLGksaixrLGwsbT0hMSxvPXt9O2ZvcihlPTA7ZTxoLmxlbmd0aDtlKyspZj1oW2VdLGk9ZltmLmxlbmd0aC0xXSxqPWYuc3Vic3RyaW5nKDAsZi5sZW5ndGgtMSksaz1wYXJzZUludChqLDEwKSxsPXBhcnNlRmxvYXQoaiksWC50ZXN0KGopJiZcIndcIj09PWk/KChhfHxjKSYmKG09ITApLDA9PT1rP209ITA6YT1rKTpZLnRlc3QoaikmJlwieFwiPT09aT8oKGF8fGN8fGQpJiYobT0hMCksMD5sP209ITA6Yz1sKTpYLnRlc3QoaikmJlwiaFwiPT09aT8oKGR8fGMpJiYobT0hMCksMD09PWs/bT0hMDpkPWspOm09ITA7bXx8KG8udXJsPWcsYSYmKG8udz1hKSxjJiYoby5kPWMpLGQmJihvLmg9ZCksZHx8Y3x8YXx8KG8uZD0xKSwxPT09by5kJiYoYi5oYXMxeD0hMCksby5zZXQ9YixuLnB1c2gobykpfWZ1bmN0aW9uIGYoKXtmb3IoYyhUKSxpPVwiXCIsaj1cImluIGRlc2NyaXB0b3JcIjs7KXtpZihrPWEuY2hhckF0KG0pLFwiaW4gZGVzY3JpcHRvclwiPT09ailpZihkKGspKWkmJihoLnB1c2goaSksaT1cIlwiLGo9XCJhZnRlciBkZXNjcmlwdG9yXCIpO2Vsc2V7aWYoXCIsXCI9PT1rKXJldHVybiBtKz0xLGkmJmgucHVzaChpKSx2b2lkIGUoKTtpZihcIihcIj09PWspaSs9ayxqPVwiaW4gcGFyZW5zXCI7ZWxzZXtpZihcIlwiPT09aylyZXR1cm4gaSYmaC5wdXNoKGkpLHZvaWQgZSgpO2krPWt9fWVsc2UgaWYoXCJpbiBwYXJlbnNcIj09PWopaWYoXCIpXCI9PT1rKWkrPWssaj1cImluIGRlc2NyaXB0b3JcIjtlbHNle2lmKFwiXCI9PT1rKXJldHVybiBoLnB1c2goaSksdm9pZCBlKCk7aSs9a31lbHNlIGlmKFwiYWZ0ZXIgZGVzY3JpcHRvclwiPT09ailpZihkKGspKTtlbHNle2lmKFwiXCI9PT1rKXJldHVybiB2b2lkIGUoKTtqPVwiaW4gZGVzY3JpcHRvclwiLG0tPTF9bSs9MX19Zm9yKHZhciBnLGgsaSxqLGssbD1hLmxlbmd0aCxtPTAsbj1bXTs7KXtpZihjKFUpLG0+PWwpcmV0dXJuIG47Zz1jKFYpLGg9W10sXCIsXCI9PT1nLnNsaWNlKC0xKT8oZz1nLnJlcGxhY2UoVyxcIlwiKSxlKCkpOmYoKX19ZnVuY3Rpb24gbihhKXtmdW5jdGlvbiBiKGEpe2Z1bmN0aW9uIGIoKXtmJiYoZy5wdXNoKGYpLGY9XCJcIil9ZnVuY3Rpb24gYygpe2dbMF0mJihoLnB1c2goZyksZz1bXSl9Zm9yKHZhciBlLGY9XCJcIixnPVtdLGg9W10saT0wLGo9MCxrPSExOzspe2lmKGU9YS5jaGFyQXQoaiksXCJcIj09PWUpcmV0dXJuIGIoKSxjKCksaDtpZihrKXtpZihcIipcIj09PWUmJlwiL1wiPT09YVtqKzFdKXtrPSExLGorPTIsYigpO2NvbnRpbnVlfWorPTF9ZWxzZXtpZihkKGUpKXtpZihhLmNoYXJBdChqLTEpJiZkKGEuY2hhckF0KGotMSkpfHwhZil7ais9MTtjb250aW51ZX1pZigwPT09aSl7YigpLGorPTE7Y29udGludWV9ZT1cIiBcIn1lbHNlIGlmKFwiKFwiPT09ZSlpKz0xO2Vsc2UgaWYoXCIpXCI9PT1lKWktPTE7ZWxzZXtpZihcIixcIj09PWUpe2IoKSxjKCksais9MTtjb250aW51ZX1pZihcIi9cIj09PWUmJlwiKlwiPT09YS5jaGFyQXQoaisxKSl7az0hMCxqKz0yO2NvbnRpbnVlfX1mKz1lLGorPTF9fX1mdW5jdGlvbiBjKGEpe3JldHVybiBrLnRlc3QoYSkmJnBhcnNlRmxvYXQoYSk+PTA/ITA6bC50ZXN0KGEpPyEwOlwiMFwiPT09YXx8XCItMFwiPT09YXx8XCIrMFwiPT09YT8hMDohMX12YXIgZSxmLGcsaCxpLGosaz0vXig/OlsrLV0/WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyg/OmNofGNtfGVtfGV4fGlufG1tfHBjfHB0fHB4fHJlbXx2aHx2bWlufHZtYXh8dncpJC9pLGw9L15jYWxjXFwoKD86WzAtOWEteiBcXC5cXCtcXC1cXCpcXC9cXChcXCldKylcXCkkL2k7Zm9yKGY9YihhKSxnPWYubGVuZ3RoLGU9MDtnPmU7ZSsrKWlmKGg9ZltlXSxpPWhbaC5sZW5ndGgtMV0sYyhpKSl7aWYoaj1pLGgucG9wKCksMD09PWgubGVuZ3RoKXJldHVybiBqO2lmKGg9aC5qb2luKFwiIFwiKSxzLm1hdGNoZXNNZWRpYShoKSlyZXR1cm4gan1yZXR1cm5cIjEwMHZ3XCJ9Yi5jcmVhdGVFbGVtZW50KFwicGljdHVyZVwiKTt2YXIgbyxwLHEscixzPXt9LHQ9ITEsdT1mdW5jdGlvbigpe30sdj1iLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksdz12LmdldEF0dHJpYnV0ZSx4PXYuc2V0QXR0cmlidXRlLHk9di5yZW1vdmVBdHRyaWJ1dGUsej1iLmRvY3VtZW50RWxlbWVudCxBPXt9LEI9e2FsZ29yaXRobTpcIlwifSxDPVwiZGF0YS1wZnNyY1wiLEQ9QytcInNldFwiLEU9bmF2aWdhdG9yLnVzZXJBZ2VudCxGPS9yaWRlbnQvLnRlc3QoRSl8fC9lY2tvLy50ZXN0KEUpJiZFLm1hdGNoKC9ydlxcOihcXGQrKS8pJiZSZWdFeHAuJDE+MzUsRz1cImN1cnJlbnRTcmNcIixIPS9cXHMrXFwrP1xcZCsoZVxcZCspP3cvLEk9LyhcXChbXildK1xcKSk/XFxzKiguKykvLEo9YS5waWN0dXJlZmlsbENGRyxLPVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3Zpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7cGFkZGluZzowO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxZW07d2lkdGg6MWVtO292ZXJmbG93OmhpZGRlbjtjbGlwOnJlY3QoMHB4LCAwcHgsIDBweCwgMHB4KVwiLEw9XCJmb250LXNpemU6MTAwJSFpbXBvcnRhbnQ7XCIsTT0hMCxOPXt9LE89e30sUD1hLmRldmljZVBpeGVsUmF0aW8sUT17cHg6MSxcImluXCI6OTZ9LFI9Yi5jcmVhdGVFbGVtZW50KFwiYVwiKSxTPSExLFQ9L15bIFxcdFxcblxcclxcdTAwMGNdKy8sVT0vXlssIFxcdFxcblxcclxcdTAwMGNdKy8sVj0vXlteIFxcdFxcblxcclxcdTAwMGNdKy8sVz0vWyxdKyQvLFg9L15cXGQrJC8sWT0vXi0/KD86WzAtOV0rfFswLTldKlxcLlswLTldKykoPzpbZUVdWystXT9bMC05XSspPyQvLFo9ZnVuY3Rpb24oYSxiLGMsZCl7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZHx8ITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyl9LCQ9ZnVuY3Rpb24oYSl7dmFyIGI9e307cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBjIGluIGJ8fChiW2NdPWEoYykpLGJbY119fSxfPWZ1bmN0aW9uKCl7dmFyIGE9L14oW1xcZFxcLl0rKShlbXx2d3xweCkkLyxiPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWFyZ3VtZW50cyxiPTAsYz1hWzBdOysrYiBpbiBhOyljPWMucmVwbGFjZShhW2JdLGFbKytiXSk7cmV0dXJuIGN9LGM9JChmdW5jdGlvbihhKXtyZXR1cm5cInJldHVybiBcIitiKChhfHxcIlwiKS50b0xvd2VyQ2FzZSgpLC9cXGJhbmRcXGIvZyxcIiYmXCIsLywvZyxcInx8XCIsL21pbi0oW2Etei1cXHNdKyk6L2csXCJlLiQxPj1cIiwvbWF4LShbYS16LVxcc10rKTovZyxcImUuJDE8PVwiLC9jYWxjKFteKV0rKS9nLFwiKCQxKVwiLC8oXFxkK1tcXC5dKltcXGRdKikoW2Etel0rKS9nLFwiKCQxICogZS4kMilcIiwvXig/IShlLlthLXpdfFswLTlcXC4mPXw+PFxcK1xcLVxcKlxcKFxcKVxcL10pKS4qL2dpLFwiXCIpK1wiO1wifSk7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7dmFyIGU7aWYoIShiIGluIE4pKWlmKE5bYl09ITEsZCYmKGU9Yi5tYXRjaChhKSkpTltiXT1lWzFdKlFbZVsyXV07ZWxzZSB0cnl7TltiXT1uZXcgRnVuY3Rpb24oXCJlXCIsYyhiKSkoUSl9Y2F0Y2goZil7fXJldHVybiBOW2JdfX0oKSxhYT1mdW5jdGlvbihhLGIpe3JldHVybiBhLnc/KGEuY1dpZHRoPXMuY2FsY0xpc3RMZW5ndGgoYnx8XCIxMDB2d1wiKSxhLnJlcz1hLncvYS5jV2lkdGgpOmEucmVzPWEuZCxhfSxiYT1mdW5jdGlvbihhKXtpZih0KXt2YXIgYyxkLGUsZj1hfHx7fTtpZihmLmVsZW1lbnRzJiYxPT09Zi5lbGVtZW50cy5ub2RlVHlwZSYmKFwiSU1HXCI9PT1mLmVsZW1lbnRzLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk/Zi5lbGVtZW50cz1bZi5lbGVtZW50c106KGYuY29udGV4dD1mLmVsZW1lbnRzLGYuZWxlbWVudHM9bnVsbCkpLGM9Zi5lbGVtZW50c3x8cy5xc2EoZi5jb250ZXh0fHxiLGYucmVldmFsdWF0ZXx8Zi5yZXNlbGVjdD9zLnNlbDpzLnNlbFNob3J0KSxlPWMubGVuZ3RoKXtmb3Iocy5zZXR1cFJ1bihmKSxTPSEwLGQ9MDtlPmQ7ZCsrKXMuZmlsbEltZyhjW2RdLGYpO3MudGVhcmRvd25SdW4oZil9fX07bz1hLmNvbnNvbGUmJmNvbnNvbGUud2Fybj9mdW5jdGlvbihhKXtjb25zb2xlLndhcm4oYSl9OnUsRyBpbiB2fHwoRz1cInNyY1wiKSxBW1wiaW1hZ2UvanBlZ1wiXT0hMCxBW1wiaW1hZ2UvZ2lmXCJdPSEwLEFbXCJpbWFnZS9wbmdcIl09ITAsQVtcImltYWdlL3N2Zyt4bWxcIl09Yi5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNJbWFnZVwiLFwiMS4xXCIpLHMubnM9KFwicGZcIisobmV3IERhdGUpLmdldFRpbWUoKSkuc3Vic3RyKDAsOSkscy5zdXBTcmNzZXQ9XCJzcmNzZXRcImluIHYscy5zdXBTaXplcz1cInNpemVzXCJpbiB2LHMuc3VwUGljdHVyZT0hIWEuSFRNTFBpY3R1cmVFbGVtZW50LHMuc3VwU3Jjc2V0JiZzLnN1cFBpY3R1cmUmJiFzLnN1cFNpemVzJiYhZnVuY3Rpb24oYSl7di5zcmNzZXQ9XCJkYXRhOixhXCIsYS5zcmM9XCJkYXRhOixhXCIscy5zdXBTcmNzZXQ9di5jb21wbGV0ZT09PWEuY29tcGxldGUscy5zdXBQaWN0dXJlPXMuc3VwU3Jjc2V0JiZzLnN1cFBpY3R1cmV9KGIuY3JlYXRlRWxlbWVudChcImltZ1wiKSkscy5zdXBTcmNzZXQmJiFzLnN1cFNpemVzPyFmdW5jdGlvbigpe3ZhciBhPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQWdBQkFQQUFBUC8vL3dBQUFDSDVCQUFBQUFBQUxBQUFBQUFDQUFFQUFBSUNCQW9BT3c9PVwiLGM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiLGQ9Yi5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGU9ZnVuY3Rpb24oKXt2YXIgYT1kLndpZHRoOzI9PT1hJiYocy5zdXBTaXplcz0hMCkscT1zLnN1cFNyY3NldCYmIXMuc3VwU2l6ZXMsdD0hMCxzZXRUaW1lb3V0KGJhKX07ZC5vbmxvYWQ9ZSxkLm9uZXJyb3I9ZSxkLnNldEF0dHJpYnV0ZShcInNpemVzXCIsXCI5cHhcIiksZC5zcmNzZXQ9YytcIiAxdyxcIithK1wiIDl3XCIsZC5zcmM9Y30oKTp0PSEwLHMuc2VsU2hvcnQ9XCJwaWN0dXJlPmltZyxpbWdbc3Jjc2V0XVwiLHMuc2VsPXMuc2VsU2hvcnQscy5jZmc9QixzLkRQUj1QfHwxLHMudT1RLHMudHlwZXM9QSxzLnNldFNpemU9dSxzLm1ha2VVcmw9JChmdW5jdGlvbihhKXtyZXR1cm4gUi5ocmVmPWEsUi5ocmVmfSkscy5xc2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cInF1ZXJ5U2VsZWN0b3JcImluIGE/YS5xdWVyeVNlbGVjdG9yQWxsKGIpOltdfSxzLm1hdGNoZXNNZWRpYT1mdW5jdGlvbigpe3JldHVybiBhLm1hdGNoTWVkaWEmJihtYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogMC4xZW0pXCIpfHx7fSkubWF0Y2hlcz9zLm1hdGNoZXNNZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8bWF0Y2hNZWRpYShhKS5tYXRjaGVzfTpzLm1hdGNoZXNNZWRpYT1zLm1NUSxzLm1hdGNoZXNNZWRpYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHMubU1RPWZ1bmN0aW9uKGEpe3JldHVybiBhP18oYSk6ITB9LHMuY2FsY0xlbmd0aD1mdW5jdGlvbihhKXt2YXIgYj1fKGEsITApfHwhMTtyZXR1cm4gMD5iJiYoYj0hMSksYn0scy5zdXBwb3J0c1R5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/QVthXTohMH0scy5wYXJzZVNpemU9JChmdW5jdGlvbihhKXt2YXIgYj0oYXx8XCJcIikubWF0Y2goSSk7cmV0dXJue21lZGlhOmImJmJbMV0sbGVuZ3RoOmImJmJbMl19fSkscy5wYXJzZVNldD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jYW5kc3x8KGEuY2FuZHM9bShhLnNyY3NldCxhKSksYS5jYW5kc30scy5nZXRFbVZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE7aWYoIXAmJihhPWIuYm9keSkpe3ZhciBjPWIuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkPXouc3R5bGUuY3NzVGV4dCxlPWEuc3R5bGUuY3NzVGV4dDtjLnN0eWxlLmNzc1RleHQ9Syx6LnN0eWxlLmNzc1RleHQ9TCxhLnN0eWxlLmNzc1RleHQ9TCxhLmFwcGVuZENoaWxkKGMpLHA9Yy5vZmZzZXRXaWR0aCxhLnJlbW92ZUNoaWxkKGMpLHA9cGFyc2VGbG9hdChwLDEwKSx6LnN0eWxlLmNzc1RleHQ9ZCxhLnN0eWxlLmNzc1RleHQ9ZX1yZXR1cm4gcHx8MTZ9LHMuY2FsY0xpc3RMZW5ndGg9ZnVuY3Rpb24oYSl7aWYoIShhIGluIE8pfHxCLnVUKXt2YXIgYj1zLmNhbGNMZW5ndGgobihhKSk7T1thXT1iP2I6US53aWR0aH1yZXR1cm4gT1thXX0scy5zZXRSZXM9ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSl7Yj1zLnBhcnNlU2V0KGEpO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKylhYShiW2NdLGEuc2l6ZXMpfXJldHVybiBifSxzLnNldFJlcy5yZXM9YWEscy5hcHBseVNldENhbmRpZGF0ZT1mdW5jdGlvbihhLGIpe2lmKGEubGVuZ3RoKXt2YXIgYyxkLGUsZixoLGssbCxtLG4sbz1iW3MubnNdLHA9cy5EUFI7aWYoaz1vLmN1clNyY3x8YltHXSxsPW8uY3VyQ2FufHxqKGIsayxhWzBdLnNldCksbCYmbC5zZXQ9PT1hWzBdLnNldCYmKG49RiYmIWIuY29tcGxldGUmJmwucmVzLS4xPnAsbnx8KGwuY2FjaGVkPSEwLGwucmVzPj1wJiYoaD1sKSkpLCFoKWZvcihhLnNvcnQoaSksZj1hLmxlbmd0aCxoPWFbZi0xXSxkPTA7Zj5kO2QrKylpZihjPWFbZF0sYy5yZXM+PXApe2U9ZC0xLGg9YVtlXSYmKG58fGshPT1zLm1ha2VVcmwoYy51cmwpKSYmZyhhW2VdLnJlcyxjLnJlcyxwLGFbZV0uY2FjaGVkKT9hW2VdOmM7YnJlYWt9aCYmKG09cy5tYWtlVXJsKGgudXJsKSxvLmN1clNyYz1tLG8uY3VyQ2FuPWgsbSE9PWsmJnMuc2V0U3JjKGIsaCkscy5zZXRTaXplKGIpKX19LHMuc2V0U3JjPWZ1bmN0aW9uKGEsYil7dmFyIGM7YS5zcmM9Yi51cmwsXCJpbWFnZS9zdmcreG1sXCI9PT1iLnNldC50eXBlJiYoYz1hLnN0eWxlLndpZHRoLGEuc3R5bGUud2lkdGg9YS5vZmZzZXRXaWR0aCsxK1wicHhcIixhLm9mZnNldFdpZHRoKzEmJihhLnN0eWxlLndpZHRoPWMpKX0scy5nZXRTZXQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9ITEsZj1hW3MubnNdLnNldHM7Zm9yKGI9MDtiPGYubGVuZ3RoJiYhZTtiKyspaWYoYz1mW2JdLGMuc3Jjc2V0JiZzLm1hdGNoZXNNZWRpYShjLm1lZGlhKSYmKGQ9cy5zdXBwb3J0c1R5cGUoYy50eXBlKSkpe1wicGVuZGluZ1wiPT09ZCYmKGM9ZCksZT1jO2JyZWFrfXJldHVybiBlfSxzLnBhcnNlU2V0cz1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZixnLGgsaT1iJiZcIlBJQ1RVUkVcIj09PWIubm9kZU5hbWUudG9VcHBlckNhc2UoKSxqPWFbcy5uc107KGouc3JjPT09Y3x8ZC5zcmMpJiYoai5zcmM9dy5jYWxsKGEsXCJzcmNcIiksai5zcmM/eC5jYWxsKGEsQyxqLnNyYyk6eS5jYWxsKGEsQykpLChqLnNyY3NldD09PWN8fGQuc3Jjc2V0fHwhcy5zdXBTcmNzZXR8fGEuc3Jjc2V0KSYmKGU9dy5jYWxsKGEsXCJzcmNzZXRcIiksai5zcmNzZXQ9ZSxoPSEwKSxqLnNldHM9W10saSYmKGoucGljPSEwLGwoYixqLnNldHMpKSxqLnNyY3NldD8oZj17c3Jjc2V0Omouc3Jjc2V0LHNpemVzOncuY2FsbChhLFwic2l6ZXNcIil9LGouc2V0cy5wdXNoKGYpLGc9KHF8fGouc3JjKSYmSC50ZXN0KGouc3Jjc2V0fHxcIlwiKSxnfHwhai5zcmN8fGsoai5zcmMsZil8fGYuaGFzMXh8fChmLnNyY3NldCs9XCIsIFwiK2ouc3JjLGYuY2FuZHMucHVzaCh7dXJsOmouc3JjLGQ6MSxzZXQ6Zn0pKSk6ai5zcmMmJmouc2V0cy5wdXNoKHtzcmNzZXQ6ai5zcmMsc2l6ZXM6bnVsbH0pLGouY3VyQ2FuPW51bGwsai5jdXJTcmM9YyxqLnN1cHBvcnRlZD0hKGl8fGYmJiFzLnN1cFNyY3NldHx8ZyYmIXMuc3VwU2l6ZXMpLGgmJnMuc3VwU3Jjc2V0JiYhai5zdXBwb3J0ZWQmJihlPyh4LmNhbGwoYSxELGUpLGEuc3Jjc2V0PVwiXCIpOnkuY2FsbChhLEQpKSxqLnN1cHBvcnRlZCYmIWouc3Jjc2V0JiYoIWouc3JjJiZhLnNyY3x8YS5zcmMhPT1zLm1ha2VVcmwoai5zcmMpKSYmKG51bGw9PT1qLnNyYz9hLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTphLnNyYz1qLnNyYyksai5wYXJzZWQ9ITB9LHMuZmlsbEltZz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9Yi5yZXNlbGVjdHx8Yi5yZWV2YWx1YXRlO2Fbcy5uc118fChhW3MubnNdPXt9KSxjPWFbcy5uc10sKGR8fGMuZXZhbGVkIT09cikmJigoIWMucGFyc2VkfHxiLnJlZXZhbHVhdGUpJiZzLnBhcnNlU2V0cyhhLGEucGFyZW50Tm9kZSxiKSxjLnN1cHBvcnRlZD9jLmV2YWxlZD1yOmgoYSkpfSxzLnNldHVwUnVuPWZ1bmN0aW9uKCl7KCFTfHxNfHxQIT09YS5kZXZpY2VQaXhlbFJhdGlvKSYmZigpfSxzLnN1cFBpY3R1cmU/KGJhPXUscy5maWxsSW1nPXUpOiFmdW5jdGlvbigpe3ZhciBjLGQ9YS5hdHRhY2hFdmVudD8vZCR8XmMvOi9kJHxeY3xeaS8sZT1mdW5jdGlvbigpe3ZhciBhPWIucmVhZHlTdGF0ZXx8XCJcIjtmPXNldFRpbWVvdXQoZSxcImxvYWRpbmdcIj09PWE/MjAwOjk5OSksYi5ib2R5JiYocy5maWxsSW1ncygpLGM9Y3x8ZC50ZXN0KGEpLGMmJmNsZWFyVGltZW91dChmKSl9LGY9c2V0VGltZW91dChlLGIuYm9keT85Ojk5KSxnPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWZ1bmN0aW9uKCl7dmFyIGY9bmV3IERhdGUtZDtiPmY/Yz1zZXRUaW1lb3V0KGUsYi1mKTooYz1udWxsLGEoKSl9O3JldHVybiBmdW5jdGlvbigpe2Q9bmV3IERhdGUsY3x8KGM9c2V0VGltZW91dChlLGIpKX19LGg9ei5jbGllbnRIZWlnaHQsaT1mdW5jdGlvbigpe009TWF0aC5tYXgoYS5pbm5lcldpZHRofHwwLHouY2xpZW50V2lkdGgpIT09US53aWR0aHx8ei5jbGllbnRIZWlnaHQhPT1oLGg9ei5jbGllbnRIZWlnaHQsTSYmcy5maWxsSW1ncygpfTtaKGEsXCJyZXNpemVcIixnKGksOTkpKSxaKGIsXCJyZWFkeXN0YXRlY2hhbmdlXCIsZSl9KCkscy5waWN0dXJlZmlsbD1iYSxzLmZpbGxJbWdzPWJhLHMudGVhcmRvd25SdW49dSxiYS5fPXMsYS5waWN0dXJlZmlsbENGRz17cGY6cyxwdXNoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc2hpZnQoKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBzW2JdP3NbYl0uYXBwbHkocyxhKTooQltiXT1hWzBdLFMmJnMuZmlsbEltZ3Moe3Jlc2VsZWN0OiEwfSkpfX07Zm9yKDtKJiZKLmxlbmd0aDspYS5waWN0dXJlZmlsbENGRy5wdXNoKEouc2hpZnQoKSk7YS5waWN0dXJlZmlsbD1iYSxcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YmE6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJwaWN0dXJlZmlsbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJhfSkscy5zdXBQaWN0dXJlfHwoQVtcImltYWdlL3dlYnBcIl09ZShcImltYWdlL3dlYnBcIixcImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1Jrb0FBQUJYUlVKUVZsQTRXQW9BQUFBUUFBQUFBQUFBQUFBQVFVeFFTQXdBQUFBQkJ4QVIvUTlFUlA4REFBQldVRGdnR0FBQUFEQUJBSjBCS2dFQUFRQURBRFFscEFBRGNBRCsrLzFRQUE9PVwiKSl9KHdpbmRvdyxkb2N1bWVudCk7IiwiLyogZXNsaW50IG1heC1sZW46IFtcImVycm9yXCIsIHsgXCJjb2RlXCI6IDEwMCB9XSovXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFtcImVycm9yXCIsIHsgXCJ2YXJzXCI6IFwibG9jYWxcIiB9XSovXG5cblxubGV0IHJlc3RhdXJhbnQ7XG5sZXQgbWFwO1xuXG4vKipcbiAqIEluaXRpYWxpemUgR29vZ2xlIG1hcCwgY2FsbGVkIGZyb20gSFRNTC5cbiAqL1xud2luZG93LmluaXRNYXAgPSAoKSA9PiB7XG4gIGZldGNoUmVzdGF1cmFudEZyb21VUkwoKGVycm9yLCByZXN0YXVyYW50KSA9PiB7XG4gICAgaWYgKGVycm9yKSB7IC8vIEdvdCBhbiBlcnJvciFcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG4gICAgICAgIHpvb206IDE2LFxuICAgICAgICBjZW50ZXI6IHJlc3RhdXJhbnQubGF0bG5nLFxuICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYXBwbGljYXRpb24nKTtcblxuICAgICAgZmlsbEJyZWFkY3J1bWIoKTtcblxuICAgICAgLypcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCdhcHBsaWNhdGlvbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCc0Jyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJykuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsJ3RydWUnKTtcbiAgICAgICovXG4gICAgICBEQkhlbHBlci5tYXBNYXJrZXJGb3JSZXN0YXVyYW50KHNlbGYucmVzdGF1cmFudCwgc2VsZi5tYXApO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCBjdXJyZW50IHJlc3RhdXJhbnQgZnJvbSBwYWdlIFVSTC5cbiAqL1xuXG5mZXRjaFJlc3RhdXJhbnRGcm9tVVJMID0gKGNhbGxiYWNrKSA9PiB7XG4gIGlmIChzZWxmLnJlc3RhdXJhbnQpIHsgLy8gcmVzdGF1cmFudCBhbHJlYWR5IGZldGNoZWQhXG4gICAgY2FsbGJhY2sobnVsbCwgc2VsZi5yZXN0YXVyYW50KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaWQgPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ2lkJyk7XG4gIGlmICghaWQpIHsgLy8gbm8gaWQgZm91bmQgaW4gVVJMXG4gICAgZXJyb3IgPSAnTm8gcmVzdGF1cmFudCBpZCBpbiBVUkwnO1xuICAgIGNhbGxiYWNrKGVycm9yLCBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICBEQkhlbHBlci5mZXRjaFJlc3RhdXJhbnRCeUlkKGlkLCAoZXJyb3IsIHJlc3RhdXJhbnQpID0+IHtcbiAgICAgIHNlbGYucmVzdGF1cmFudCA9IHJlc3RhdXJhbnQ7XG4gICAgICBpZiAoIXJlc3RhdXJhbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZpbGxSZXN0YXVyYW50SFRNTCgpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdGF1cmFudCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlIHJlc3RhdXJhbnQgSFRNTCBhbmQgYWRkIGl0IHRvIHRoZSB3ZWJwYWdlXG4gKi9cblxuZmlsbFJlc3RhdXJhbnRIVE1MID0gKHJlc3RhdXJhbnQgPSBzZWxmLnJlc3RhdXJhbnQpID0+IHtcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LW5hbWUnKTtcbiAgbmFtZS5pbm5lckhUTUwgPSByZXN0YXVyYW50Lm5hbWU7XG5cbiAgY29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0YXVyYW50LWFkZHJlc3MnKTtcbiAgYWRkcmVzcy5pbm5lckhUTUwgPSByZXN0YXVyYW50LmFkZHJlc3M7XG5cbiAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1pbWcnKTtcbiAgaW1hZ2UuY2xhc3NOYW1lID0gJ3Jlc3RhdXJhbnQtaW1nJztcbiAgLyogdW5pcXVlIGFsdC1hcmlhbGFiZWwgKi9cbiAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgbmFtZS5pbm5lckhUTUwrJyByZXN0YXVyYW50Jyk7XG4gIGltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgbmFtZS5pbm5lckhUTUwrJyByZXN0YXVyYW50Jyk7XG5cbiAgaW1hZ2Uuc3JjID0gREJIZWxwZXIuaW1hZ2VVcmxGb3JSZXN0YXVyYW50KHJlc3RhdXJhbnQpO1xuXG4gIGNvbnN0IGN1aXNpbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdGF1cmFudC1jdWlzaW5lJyk7XG4gIGN1aXNpbmUuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5jdWlzaW5lX3R5cGU7XG5cbiAgLy8gZmlsbCBvcGVyYXRpbmcgaG91cnNcbiAgaWYgKHJlc3RhdXJhbnQub3BlcmF0aW5nX2hvdXJzKSB7XG4gICAgZmlsbFJlc3RhdXJhbnRIb3Vyc0hUTUwoKTtcbiAgfVxuICAvLyBmaWxsIHJldmlld3NcbiAgZmlsbFJldmlld3NIVE1MKCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSByZXN0YXVyYW50IG9wZXJhdGluZyBob3VycyBIVE1MIHRhYmxlIGFuZCBhZGQgaXQgdG8gdGhlIHdlYnBhZ2UuXG4gKi9cblxuZmlsbFJlc3RhdXJhbnRIb3Vyc0hUTUwgPSAob3BlcmF0aW5nSG91cnMgPSBzZWxmLnJlc3RhdXJhbnQub3BlcmF0aW5nX2hvdXJzKSA9PiB7XG4gIGNvbnN0IGhvdXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhdXJhbnQtaG91cnMnKTtcbiAgZm9yIChsZXQga2V5IGluIG9wZXJhdGluZ0hvdXJzKSB7XG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcblxuICAgIGNvbnN0IGRheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgZGF5LmlubmVySFRNTCA9IGtleTtcbiAgICBkYXkuc3R5bGUuY29sb3I9JyM1MjUyNTInO1xuICAgIHJvdy5hcHBlbmRDaGlsZChkYXkpO1xuXG4gICAgY29uc3QgdGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdGltZS5pbm5lckhUTUwgPSBvcGVyYXRpbmdIb3Vyc1trZXldO1xuICAgIHRpbWUuc3R5bGUuY29sb3I9JyM1MjUyNTInO1xuXG4gICAgcm93LmFwcGVuZENoaWxkKHRpbWUpO1xuXG4gICAgaG91cnMuYXBwZW5kQ2hpbGQocm93KTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYWxsIHJldmlld3MgSFRNTCBhbmQgYWRkIHRoZW0gdG8gdGhlIHdlYnBhZ2UuXG4gKi9cblxuZmlsbFJldmlld3NIVE1MID0gKHJldmlld3MgPSBzZWxmLnJlc3RhdXJhbnQucmV2aWV3cykgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2aWV3cy1jb250YWluZXInKTtcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICB0aXRsZS5pbm5lckhUTUwgPSAnUmV2aWV3cyc7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgaWYgKCFyZXZpZXdzKSB7XG4gICAgY29uc3Qgbm9SZXZpZXdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIG5vUmV2aWV3cy5pbm5lckhUTUwgPSAnTm8gcmV2aWV3cyB5ZXQhJztcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobm9SZXZpZXdzKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2aWV3cy1saXN0Jyk7XG4gIHJldmlld3MuZm9yRWFjaCgocmV2aWV3KSA9PiB7XG4gICAgdWwuYXBwZW5kQ2hpbGQoY3JlYXRlUmV2aWV3SFRNTChyZXZpZXcpKTtcbiAgfSk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh1bCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSByZXZpZXcgSFRNTCBhbmQgYWRkIGl0IHRvIHRoZSB3ZWJwYWdlLlxuICovXG5cbmNyZWF0ZVJldmlld0hUTUwgPSAocmV2aWV3KSA9PiB7XG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgIGNvbnN0IHJldmlld0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJldmlld0hlYWRlci5jbGFzc05hbWUgPSAncmV2aWV3LWhlYWRlcic7XG4gICAgbGkuYXBwZW5kQ2hpbGQocmV2aWV3SGVhZGVyKTtcblxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNCcpO1xuICAgIG5hbWUuaW5uZXJIVE1MID0gcmV2aWV3Lm5hbWU7XG4gICAgbmFtZS5jbGFzc05hbWUgPSAncmV2aWV3LWF1dGhvcic7XG4gICAgbmFtZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnaGVhZGVyJyk7IC8vYWRkZWQgQVJJQSByb2xlIGZvciBhY2Nlc3NpYmlsdHlcbiAgICBuYW1lLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpOyAvL2FkZGVkIHRhYmluZGV4IGZvciBhY2Nlc3NpYmlsdHlcbiAgICByZXZpZXdIZWFkZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGRhdGUuaW5uZXJIVE1MID0gcmV2aWV3LmRhdGU7XG4gICAgZGF0ZS5jbGFzc05hbWUgPSAncmV2aWV3LWRhdGUnO1xuICAgIGRhdGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7IC8vYWRkZWQgdGFiaW5kZXggZm9yIGFjY2Vzc2liaWx0eVxuICAgIHJldmlld0hlYWRlci5hcHBlbmRDaGlsZChkYXRlKTtcblxuICAgIGNvbnN0IHJldmlld0NvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXZpZXdDb250ZW50LmNsYXNzTmFtZSA9ICdyZXZpZXctY29udGVudCc7XG4gICAgbGkuYXBwZW5kQ2hpbGQocmV2aWV3Q29udGVudCk7XG5cbiAgICBjb25zdCByYXRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByYXRpbmcuaW5uZXJIVE1MID0gYFJhdGluZzogJHtyZXZpZXcucmF0aW5nfWA7XG4gICAgcmF0aW5nLmNsYXNzTmFtZSA9ICdyYXRpbmcnO1xuICAgIHJhdGluZy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTsgLy9hZGRlZCB0YWJpbmRleCBmb3IgYWNjZXNzaWJpbHR5XG4gICAgcmV2aWV3Q29udGVudC5hcHBlbmRDaGlsZChyYXRpbmcpO1xuXG4gICAgY29uc3QgY29tbWVudHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29tbWVudHMuaW5uZXJIVE1MID0gcmV2aWV3LmNvbW1lbnRzO1xuICAgIGNvbW1lbnRzLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpOyAvL2FkZGVkIHRhYmluZGV4IGZvciBhY2Nlc3NpYmlsdHlcbiAgICByZXZpZXdDb250ZW50LmFwcGVuZENoaWxkKGNvbW1lbnRzKTtcblxuICAgIHJldHVybiBsaTtcbiAgfVxuXG5cbi8qKlxuICogQWRkIHJlc3RhdXJhbnQgbmFtZSB0byB0aGUgYnJlYWRjcnVtYiBuYXZpZ2F0aW9uIG1lbnVcbiAqL1xuXG5maWxsQnJlYWRjcnVtYiA9IChyZXN0YXVyYW50PXNlbGYucmVzdGF1cmFudCkgPT4ge1xuICBjb25zdCBicmVhZGNydW1iID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWFkY3J1bWInKTtcbiAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBsaS5pbm5lckhUTUwgPSByZXN0YXVyYW50Lm5hbWU7XG4gIGxpLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgcmVzdGF1cmFudC5uYW1lKSAvL2FkZGVkIGFyaWEtY3VycmVudCBmb3IgYWNjZXNzaWJpbHR5XG4gIGJyZWFkY3J1bWIuYXBwZW5kQ2hpbGQobGkpO1xufTtcblxuLyoqXG4gKiBHZXQgYSBwYXJhbWV0ZXIgYnkgbmFtZSBmcm9tIHBhZ2UgVVJMLlxuICovXG5cbmdldFBhcmFtZXRlckJ5TmFtZSA9IChuYW1lLCB1cmwpID0+IHtcbiAgaWYgKCF1cmwpIHtcbnVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xufVxuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCAnXFxcXCQmJyk7XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgWz8mXSR7bmFtZX0oPShbXiYjXSopfCZ8I3wkKWApO1xuICBjb25zdCByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZiAoIXJlc3VsdHMpIHtcbnJldHVybiBudWxsO1xufVxuICBpZiAoIXJlc3VsdHNbMl0pIHtcbnJldHVybiAnJztcbn1cbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbn07XG5cblxuLypcblNjcmVlbiBSZWFkZXIgU0VUVElOR1MgZm9yIHRoZSByZXZpZXdzXG4qL1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgbmF0aXZlQWRkQWxsID0gQ2FjaGUucHJvdG90eXBlLmFkZEFsbDtcbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhGaXJlZm94fENocm9tZSlcXC8oXFxkK1xcLikvKTtcblxuICAvLyBIYXMgbmljZSBiZWhhdmlvciBvZiBgdmFyYCB3aGljaCBldmVyeW9uZSBoYXRlc1xuICBpZiAodXNlckFnZW50KSB7XG4gICAgdmFyIGFnZW50ID0gdXNlckFnZW50WzFdO1xuICAgIHZhciB2ZXJzaW9uID0gcGFyc2VJbnQodXNlckFnZW50WzJdKTtcbiAgfVxuXG4gIGlmIChcbiAgICBuYXRpdmVBZGRBbGwgJiYgKCF1c2VyQWdlbnQgfHxcbiAgICAgIChhZ2VudCA9PT0gJ0ZpcmVmb3gnICYmIHZlcnNpb24gPj0gNDYpIHx8XG4gICAgICAoYWdlbnQgPT09ICdDaHJvbWUnICAmJiB2ZXJzaW9uID49IDUwKVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgQ2FjaGUucHJvdG90eXBlLmFkZEFsbCA9IGZ1bmN0aW9uIGFkZEFsbChyZXF1ZXN0cykge1xuICAgIHZhciBjYWNoZSA9IHRoaXM7XG5cbiAgICAvLyBTaW5jZSBET01FeGNlcHRpb25zIGFyZSBub3QgY29uc3RydWN0YWJsZTpcbiAgICBmdW5jdGlvbiBOZXR3b3JrRXJyb3IobWVzc2FnZSkge1xuICAgICAgdGhpcy5uYW1lID0gJ05ldHdvcmtFcnJvcic7XG4gICAgICB0aGlzLmNvZGUgPSAxOTtcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgTmV0d29ya0Vycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIHNlcXVlbmNlPChSZXF1ZXN0IG9yIFVTVlN0cmluZyk+IGJpbmRpbmc6XG4gICAgICB2YXIgc2VxdWVuY2UgPSBbXTtcblxuICAgICAgcmVxdWVzdHMgPSByZXF1ZXN0cy5tYXAoZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgICAgICBpZiAocmVxdWVzdCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHJlcXVlc3QpOyAvLyBtYXkgdGhyb3cgVHlwZUVycm9yXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgIHJlcXVlc3RzLm1hcChmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzY2hlbWUgPSBuZXcgVVJMKHJlcXVlc3QudXJsKS5wcm90b2NvbDtcblxuICAgICAgICAgIGlmIChzY2hlbWUgIT09ICdodHRwOicgJiYgc2NoZW1lICE9PSAnaHR0cHM6Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5ldHdvcmtFcnJvcihcIkludmFsaWQgc2NoZW1lXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmZXRjaChyZXF1ZXN0LmNsb25lKCkpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlcykge1xuICAgICAgLy8gSWYgc29tZSBvZiB0aGUgcmVzcG9uc2VzIGhhcyBub3QgT0stZWlzaCBzdGF0dXMsXG4gICAgICAvLyB0aGVuIHdob2xlIG9wZXJhdGlvbiBzaG91bGQgcmVqZWN0XG4gICAgICBpZiAocmVzcG9uc2VzLnNvbWUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuICFyZXNwb25zZS5vaztcbiAgICAgIH0pKSB7XG4gICAgICAgIHRocm93IG5ldyBOZXR3b3JrRXJyb3IoJ0luY29ycmVjdCByZXNwb25zZSBzdGF0dXMnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETzogY2hlY2sgdGhhdCByZXF1ZXN0cyBkb24ndCBvdmVyd3JpdGUgb25lIGFub3RoZXJcbiAgICAgIC8vIChkb24ndCB0aGluayB0aGlzIGlzIHBvc3NpYmxlIHRvIHBvbHlmaWxsIGR1ZSB0byBvcGFxdWUgcmVzcG9uc2VzKVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgICByZXNwb25zZXMubWFwKGZ1bmN0aW9uKHJlc3BvbnNlLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLnB1dChyZXF1ZXN0c1tpXSwgcmVzcG9uc2UpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfTtcblxuICBDYWNoZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRBbGwoW3JlcXVlc3RdKTtcbiAgfTtcbn0oKSk7Il19
